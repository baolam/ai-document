/*! For license information please see Pulse.js.LICENSE.txt */
(()=>{"use strict";var e,t={};function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var i,o,s,a={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},c="GUEST",l="MEMBER",u=0,d=1,h=2,p=(r(e={},c,"li_gc"),r(e,l,"li_mc"),e),f="liap",m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var s in n(this,e),t=t||{},this.consentAvailable=!1,this.issuedAt=r,this.userMode=i,this.optedInConsentMap={},a)t[s]=t[s]||u,t[s]!==u&&(this.consentAvailable=!0),this.optedInConsentMap[s]=t[s]===d||t[s]===u&&o===d},g=(i=[a.ADVERTISING,a.ANALYTICS_AND_RESEARCH,a.FUNCTIONAL],o=[u,d,h,u],s=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),{parseConsentBody:function(e,t){var n=e.match(s);if(!n)return{error:"Invalid consent body encoding",consent:new m};for(var r=parseInt(n[1],10),a={},c=0;c<i.length;c++)a[i[c]]=o[r>>2*c&3];var l=new Date(1e3*parseInt(n[2],10)),d=parseInt(n[3],10),h=u;return d>=0&&d<=3&&(h=o[d]),{error:null,consent:new m(a,l,t,h)}}}),v=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),y=function(e,t){var n=t.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")));return n&&n.length>1?n[1]:null},E=function(e,t){var n=y(p[e],t);return n?w(n,e):y(p[c],t)||y(p[l],t)?b(h):b(d)},b=function(e){var t={};for(var n in a)t[n]=e;return{error:null,consent:new m(t,null,null,e)}};var w=function(e,t){e&&e.length>1&&'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1));var n,r=null;try{r=(n=e,"undefined"==typeof atob&&"undefined"!=typeof Buffer?Buffer.from(n,"base64").toString("binary"):atob(n)).match(v)}catch(e){}if(!r)return{error:"Invalid consent encoding",consent:new m};var i=parseInt(r[1],10),o=r[2];return 1===i?g.parseConsentBody(o,t):{error:"Invalid encoded consent version ".concat(i),consent:new m}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.cookie;return e||(e=y(f,t)?y(p[l],t)?l:c:y(p[c],t)?c:l),E(e,t)};window.encodeURIComponent;function T(e,t){if(!e)return null;let n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;for(;e&&!n.call(e,t);)e=e.parentElement;return e}function S(e){"complete"===document.readyState?e():window.addEventListener("load",(()=>{setTimeout(e)}))}class I{constructor(){this._unloadCallbacks=[],this._initEventListener()}_initEventListener(){window.addEventListener("beforeunload",(e=>{for(let t=0;t<this._unloadCallbacks.length;t++){if(!1===this._unloadCallbacks[t].call(null,e))break}}))}addUnloadCallback(e){e instanceof Function&&this._unloadCallbacks.push(e)}}const C=function(){let e;return{getInstance:function(){return e||(e=new I),e}}}();class k{constructor(){this._pagehideCallbacks=[],this._initEventListener()}_initEventListener(){window.addEventListener("pagehide",(e=>{for(let t=0;t<this._pagehideCallbacks.length;t++)this._pagehideCallbacks[t].call(null,e)}))}addPagehideCallback(e){e instanceof Function&&this._pagehideCallbacks.push(e)}}const A=function(){let e;return{getInstance:function(){return e||(e=new k),e}}}();function R(e){return null==e||"object"!=typeof e?[]:Array.prototype.slice.call(e)}function O(e){const t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,i=t.top<=n&&t.top+t.height>=0,o=t.left<=r&&t.left+t.width>=0;return i&&o}function N(){let{scrollTop:e=scrollY,clientHeight:t=window.innerHeight,scrollHeight:n=document.body.scrollHeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return i?e<=t*r:e>=n-(t+t*r)}function L(e,t,n){const r=new RegExp("([\\?&])".concat(n?t:encodeURIComponent(t),"=([^&#]*)")).exec(e);return r&&(n?r[2]:decodeURIComponent(r[2]))}function P(e,t){return x(e,"trk",t)}function x(e,t,n,r){if(!e||!t)throw new Error("Required param of addQueryParam missing: url = ".concat(e,",  key = ").concat(t));t=encodeURIComponent(t),n=encodeURIComponent(n);const i=L(e,t,!0);if(i)return r?e.replace(i,n):e;{const r=e.indexOf("?");let[i,o]=e.split("#"),s="&";return r<0?s="?":r===e.length-1&&(s=""),o&&(o="#".concat(o)),"".concat(i).concat(s).concat(t,"=").concat(n).concat(o||"")}}function M(e,t,n){var r=this;if("function"!=typeof e)throw new TypeError("Expected a function.");let i;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const c=()=>{i=null,n||e.apply(r,s)},l=n&&!i;clearTimeout(i),i=setTimeout(c,t),l&&e.apply(r,s)}}function D(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t&&t[2]}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createEvent("CustomEvent");r.initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function B(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}function F(e){return void 0!==e.msHidden?e.msHidden:void 0!==e.hidden?e.hidden:void 0}function q(e){return"string"!=typeof e?null:e.split("?")[0]}var H=Object.freeze({__proto__:null,closest:T,onload:S,UnloadHandler:C,PagehideHandler:A,makeArray:R,outerWidth:function(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=(parseInt(n.marginLeft,10)||0)+(parseInt(n.marginRight,10)||0),t},elementInViewport:O,hasElementScrolledToThreshold:N,getQueryParam:L,addTrackingCode:P,addQueryParam:x,debounce:M,getCookie:D,dispatchCustomEvent:U,getDeferredPromise:B,isDocumentHidden:F,stripQueryParams:q});function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.querySelector('meta[name="pageKey"]'),r=e.getElementById("config"),i=r&&"true"===r.dataset.disableJsbeaconPagekeySuffix;return n&&n.content?"".concat(n.content).concat(i||t.skipSuffix?"":"_jsbeacon"):""}function j(e){let t=e.querySelector('meta[name="linkedin:pageTag"]');return t&&t.content||""}function z(e){let t=e.querySelector('meta[name="locale"]');return t&&t.content||""}function W(e){let t=e.domain;return t?t.split(".").slice(-2).join("."):""}function K(e){return e&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)?e.slice(1,-1):e}var V=Object.freeze({__proto__:null,getPageKey:G,getPageTag:j,getLiSugrCookie:function(){return D("li_sugr")},getLocale:z,getDomain:W,trimDoubleQuotes:K});const Q={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ESCAPE:"Escape",ENTER:"Enter",SPACEBAR:" ",TAB:"Tab"},Y={Down:Q.ARROW_DOWN,Right:Q.ARROW_RIGHT,Left:Q.ARROW_LEFT,Up:Q.ARROW_UP,Esc:Q.ESCAPE,Spacebar:Q.SPACEBAR,Tab:Q.TAB};function J(e){return Y[e]||e}const X="click",Z="keydown",$="focusEl";class ee{constructor(e,t,n){let{mainButton:r,closeButton:i}=n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)throw Error("An element must be provided to Collapsible");if(!t)throw Error("An expandable element must be provided to Collapsible");if(!r)throw Error("A main button element must be provided to Collapsible");this.el=e,this.expandableEl=t,this._isList=["UL","OL","DL"].includes(this.expandableEl.tagName);const{isOpen:s=!1}=o;this.isOpen=s,this.mainButton=r,this.closeButton=i,this.buttons=[r],this._isList&&this.el.addEventListener("keyup",(e=>this._onKeyUp(e))),this.expandableEl.addEventListener(Z,(e=>this._onKeyDown(e))),this.mainButton.addEventListener(X,(e=>this.closeButton?this._open(e):this._toggle(e))),this.mainButton.addEventListener(Z,(e=>this._onButtonKeyDown(e))),this.closeButton&&(this.closeButton.addEventListener(X,(()=>this.close())),this.closeButton.addEventListener(Z,(e=>this._onButtonKeyDown(e))),this.buttons.push(this.closeButton))}get isList(){return this._isList}_toggle(e){this.isOpen?this.close():this._open(e)}_onButtonKeyDown(e){switch(J(e.key)){case Q.ENTER:case Q.SPACEBAR:e.preventDefault(),this.isOpen?this.close():this._open(e);break;case Q.ARROW_UP:this.isOpen||this._open(e);break;case Q.ARROW_DOWN:this.isOpen&&this.close()}}_onKeyUp(e){J(e.key)===Q.SPACEBAR&&e.preventDefault()}_onKeyDown(e){const t=J(e.key);if(t===Q.ESCAPE&&this.isOpen)this.close();else if(this._isList){let n;switch(t){case Q.SPACEBAR:U(e.target,X);break;case Q.ARROW_LEFT:case Q.ARROW_UP:n=T(e.target,"li");let t=n.previousElementSibling;t&&U(t,$);break;case Q.ARROW_RIGHT:case Q.ARROW_DOWN:n=T(e.target,"li");let r=n.nextElementSibling;r&&U(r,$)}}}_open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isOpen){const{key:t}=e;this.isOpen=!0,this.buttons.forEach((e=>e.setAttribute("aria-expanded",this.isOpen))),U(this.el,"open",{key:t})}}close(){let{shouldReturnFocusToTrigger:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isOpen&&(this.isOpen=!1,this.buttons.forEach((e=>e.setAttribute("aria-expanded",this.isOpen))),U(this.el,"close"),e&&this.mainButton.focus())}}let te,ne;const re=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([disabled]):not([tabindex^="-"]):not([type="hidden"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])'],ie=[...re,'[tabindex]:not([tabindex^="-"]):not([disabled])'].join(",");[...re,"[tabindex]:not([disabled])"].join(",");function oe(e){const t=window.getComputedStyle(e);return"hidden"===t.visibility||"none"===t.display}function se(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,r=arguments.length>2?arguments[2]:void 0;return e===n?!oe(e):r&&r.get(e)?r.get(e):(oe(e)?t=!1:e.parentNode&&(t=se(e.parentNode,n,r)),r&&r.set(e,t),t)}const ae={POLITE:"polite",ASSERTIVE:"assertive"};function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae.POLITE;te&&(te.removeAttribute("aria-hidden"),te.setAttribute("aria-live",ae.POLITE),te.textContent="",te.textContent=e,te.setAttribute("aria-live",t),clearTimeout(ne),ne=setTimeout((()=>{te.removeAttribute("aria-live"),te.setAttribute("aria-hidden","true")}),1e4))}const le="collapsible-dropdown",ue=".".concat(le,"__list"),de=".".concat(le,"__button"),he="no-focus-ring";class pe{constructor(e){let{getFocusItemFromListItem:t=(e=>e.querySelector(ie)),elementToFocus:n,dropdownTriggerEl:r,dropdownContentEl:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("An element must be provided to CollapsibleDropdown");if(this.el=e,this.dropdownContentEl=i||this.el.querySelector(ue),!n){const e=this.dropdownContentEl===this.dropdownContentEl.parentElement.querySelector(ie),t="-1"===this.dropdownContentEl.getAttribute("tabIndex");e||t||console.warn('elementToFocus not provided and the dropdown container is not focusable. Consider adding tabindex="-1" to:',this.dropdownContentEl)}this.elementToFocus=n||this.dropdownContentEl,this.dropdownTriggerEl=r||this.el.querySelector(de),this.hideClass="hidden",this.collapsible=new ee(e,this.dropdownContentEl,{mainButton:this.dropdownTriggerEl}),this._handleBodyClick=this._handleBodyClick.bind(this),this._focusOutsideDropdown=this._focusOutsideDropdown.bind(this),this._leaveWindow=this._leaveWindow.bind(this),this._attachEventListeners(),this.collapsible.isList&&(this._getFocusItemFromListItem=t)}_attachEventListeners(){this.el.addEventListener("open",(e=>this._showDropdownList(e))),this.el.addEventListener("close",(()=>this._hideDropdownList())),this.collapsible.isList&&this.dropdownContentEl.addEventListener("focusEl",(e=>this._manageFocus(e)))}_manageFocus(e){const{target:t}=e;if(t&&this._getFocusItemFromListItem){const e=this._getFocusItemFromListItem(t);e&&e.focus()}}_handleBodyClick(e){this.el.contains(e.target)||this.collapsible.close({shouldReturnFocusToTrigger:!1})}_showDropdownList(e){this.el.addEventListener("focusout",this._focusOutsideDropdown),window.addEventListener("blur",this._leaveWindow),this.dropdownContentEl.classList.remove(this.hideClass),this.elementToFocus.focus();const{key:t}=e&&e.detail;t?this.elementToFocus.classList.remove(he):this.elementToFocus.classList.add(he),document.addEventListener("mousedown",this._handleBodyClick)}_hideDropdownList(){document.removeEventListener("mousedown",this._handleBodyClick),this.el.removeEventListener("focusout",this._focusOutsideDropdown),window.removeEventListener("blur",this._leaveWindow),this.dropdownContentEl.classList.add(this.hideClass)}_focusOutsideDropdown(e){e.relatedTarget&&!this.el.contains(e.relatedTarget)&&this.collapsible.isOpen&&this.collapsible.close()}_leaveWindow(){this.collapsible.isOpen&&this.collapsible.close()}}function fe(e){let{method:t="GET",headers:n={},sendCookies:r=!0,skipCsrfToken:i=!1,postData:o,isPemEnabled:s=!1,pemDegradationTrackingMetadata:a=[],pemEntityIds:c=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=new Promise(((s,a)=>{const c=new XMLHttpRequest;if(c.addEventListener("load",(function(){if(c.status>=200&&c.status<300||304===c.status)s({status:c.status,responseText:c.responseText});else{const n=new Error("".concat(t," request for ").concat(e," has failed with status code ").concat(c.status));n.response={status:c.status,responseText:c.responseText},c.response&&(n.response.rawHeaders=c.getAllResponseHeaders()),a(n)}})),c.addEventListener("error",(function(e){a(e)})),c.open(t,e,!0),c.withCredentials=r,Object.keys(n).forEach((e=>{c.setRequestHeader(e,n[e])})),!i){const e=D("JSESSIONID");e&&c.setRequestHeader("Csrf-Token",K(e))}c.send(o)}));return s&&(a.length?me(l,e,c,a):console.warn("Please set the value for the option pemDegradationTrackingMetadata when PEM is enabled.")),l}function me(e,t,n,r){try{const i=e.then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Response(e,{status:e.status})})).catch((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Response(e.response,{status:e.response?e.response.status:500,headers:e.response&&e.response.rawHeaders?ge(e.response.rawHeaders):new Headers})}));window.tracking.then((e=>{window.pemTracking.then((o=>{o.trackFeatureDegradationsForFetch(t,n,r,i,e.state.currentPageInstance)}))}))}catch(e){}}function ge(e){const t=new Headers;return e&&e.trim().split(/[\r\n]+/).forEach((e=>{const n=e.trim().split(": "),r=n.shift();if(r){const e=n.join(": ");t.set(r.toLocaleLowerCase(),e)}})),t}class ve{constructor(e){if(!e)throw Error("An element must be provided to LanguageSelector");this._el=e,this.listEl=this._el.querySelector(".collapsible-dropdown__list"),this.dropdownTriggerEl=this._el.querySelector(".language-selector__button"),this.currentListItem=this.listEl.querySelector(".language-selector__link--selected"),this.collapsibleDropdown=new pe(e,{dropdownTriggerEl:this.dropdownTriggerEl,elementToFocus:this.currentListItem}),this._attachCustomEventListeners()}_attachCustomEventListeners(){this.listEl.addEventListener("click",this._handleLocaleButtonClick.bind(this))}_handleLocaleButtonClick(e){return function(e){const t=K(D("bcookie")||""),n=function(e){let t="";return e.indexOf("linkedin.cn")>-1?t="https://www.linkedin.cn":e.indexOf("linkedin-ei.cn")>-1?t="https://www.linkedin-ei.cn":e.indexOf("linkedin-ei.com")>-1?t="https://www.linkedin-ei.com":e.indexOf("linkedin.com")>-1&&(t="https://www.linkedin.com"),t}(W(document));return fe("".concat(n,"/psettings/update-language/cors?csrfToken=").concat(encodeURIComponent(t)),{method:"POST",headers:{"Content-Type":"application/json"},postData:JSON.stringify({locale:e}),skipCsrfToken:!0})}(e.target.getAttribute("data-locale")).then((()=>{location.reload()}))}}var ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{},Ee=(parseInt,"object"==typeof ye&&ye&&ye.Object===Object&&ye),be="object"==typeof self&&self&&self.Object===Object&&self;Ee||be||Function("return this")(),Object.prototype.toString,Math.max,Math.min;class we{constructor(e){if(!e)throw new Error("An element must be passed in to Disable Background Navigation");this._container=e,this._hiddenElements=[]}disableBackground(){let e=this._container;for(;e&&e!==document.body&&e.parentElement;)this._hiddenElements=this._hiddenElements.concat([...e.parentElement.children].filter((t=>t!==e&&"true"!==t.getAttribute("aria-hidden")&&(t.setAttribute("aria-hidden",!0),!0)))),e=e.parentElement}enableBackground(){this._hiddenElements.forEach((e=>{e.removeAttribute("aria-hidden")})),this._hiddenElements=[]}}const _e=["class","disabled","style","tabindex","type"];class Te{constructor(e){if(!e)throw new Error("FocusTrap: No focus trap container passed in");this._container=e,this._observer=new MutationObserver((()=>this._setFirstAndLastFocusableEls(this._container))),this._handleKeyDown=this._focusTrap.bind(this),this._backgroundNavigationDisabler=new we(this._container)}init(){this._observer.observe(this._container,{attributeFilter:_e,attributes:!0,childList:!0,subtree:!0}),this._setFirstAndLastFocusableEls(this._container),this._container.addEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.disableBackground()}tearDown(){this._observer.disconnect(),this._container.removeEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.enableBackground()}_focusTrap(e){const{key:t,target:n}=e,r=J(t),i=r===Q.TAB&&e.shiftKey;!i&&r===Q.TAB&&n===this.lastFocusableEl?(this.firstFocusableEl.focus(),e.preventDefault()):i&&n===this.firstFocusableEl&&(this.lastFocusableEl.focus(),e.preventDefault())}_setFirstAndLastFocusableEls(e){const[t,n]=this._getFirstAndLastFocusableEls(e);this.firstFocusableEl=t,this.lastFocusableEl=n,setTimeout((()=>{this._hasFocusBeenDropped()&&("-1"===e.getAttribute("tabindex")?e.focus():this.firstFocusableEl.focus())}),100)}_hasFocusBeenDropped(){const e=document.activeElement;return!e||e===document.body}_getFirstAndLastFocusableEls(e){const t=[...e.querySelectorAll(ie)],n=new Map;let r,i,o=0,s=t.length-1;for(;(!r||!i)&&o<=s;){if(!r){const i=t[o];r=se(i,e,n)&&i,o++}if(!i){const r=t[s];i=se(r,e,n)&&r,s--}}return i=i||r,[r,i]}}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Ae="light",Re="dark";function Oe(){const e=document.getElementById("config");let t;return e&&e.dataset&&(t=e.dataset.theme),t?document.documentElement.classList.contains("dark")?Re:Ae:void 0}var Ne;function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||Fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ge,je=new Uint8Array(16);function ze(){if(!Ge&&!(Ge="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ge(je)}var We=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ke(e){return"string"==typeof e&&We.test(e)}for(var Ve=[],Qe=0;Qe<256;++Qe)Ve.push((Qe+256).toString(16).substr(1));function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]).toLowerCase();if(!Ke(n))throw TypeError("Stringified UUID is invalid");return n}function Je(e){if(!Ke(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Xe(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=Je(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return Ye(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Ze(e){return 14+(e+64>>>9<<4)+1}function $e(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function et(e,t,n,r,i,o){return $e((s=$e($e(t,e),$e(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function tt(e,t,n,r,i,o,s){return et(t&n|~t&r,e,t,i,o,s)}function nt(e,t,n,r,i,o,s){return et(t&r|n&~r,e,t,i,o,s)}function rt(e,t,n,r,i,o,s){return et(t^n^r,e,t,i,o,s)}function it(e,t,n,r,i,o,s){return et(n^(t|~r),e,t,i,o,s)}function ot(e,t,n){var r=(e=e||{}).random||(e.rng||ze)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Ye(r)}function st(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function at(e,t){return e<<t|e>>>32-t}Xe("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Ze(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=r,l=i,u=o;n=tt(n,r,i,o,e[s],7,-680876936),o=tt(o,n,r,i,e[s+1],12,-389564586),i=tt(i,o,n,r,e[s+2],17,606105819),r=tt(r,i,o,n,e[s+3],22,-1044525330),n=tt(n,r,i,o,e[s+4],7,-176418897),o=tt(o,n,r,i,e[s+5],12,1200080426),i=tt(i,o,n,r,e[s+6],17,-1473231341),r=tt(r,i,o,n,e[s+7],22,-45705983),n=tt(n,r,i,o,e[s+8],7,1770035416),o=tt(o,n,r,i,e[s+9],12,-1958414417),i=tt(i,o,n,r,e[s+10],17,-42063),r=tt(r,i,o,n,e[s+11],22,-1990404162),n=tt(n,r,i,o,e[s+12],7,1804603682),o=tt(o,n,r,i,e[s+13],12,-40341101),i=tt(i,o,n,r,e[s+14],17,-1502002290),n=nt(n,r=tt(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=nt(o,n,r,i,e[s+6],9,-1069501632),i=nt(i,o,n,r,e[s+11],14,643717713),r=nt(r,i,o,n,e[s],20,-373897302),n=nt(n,r,i,o,e[s+5],5,-701558691),o=nt(o,n,r,i,e[s+10],9,38016083),i=nt(i,o,n,r,e[s+15],14,-660478335),r=nt(r,i,o,n,e[s+4],20,-405537848),n=nt(n,r,i,o,e[s+9],5,568446438),o=nt(o,n,r,i,e[s+14],9,-1019803690),i=nt(i,o,n,r,e[s+3],14,-187363961),r=nt(r,i,o,n,e[s+8],20,1163531501),n=nt(n,r,i,o,e[s+13],5,-1444681467),o=nt(o,n,r,i,e[s+2],9,-51403784),i=nt(i,o,n,r,e[s+7],14,1735328473),n=rt(n,r=nt(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=rt(o,n,r,i,e[s+8],11,-2022574463),i=rt(i,o,n,r,e[s+11],16,1839030562),r=rt(r,i,o,n,e[s+14],23,-35309556),n=rt(n,r,i,o,e[s+1],4,-1530992060),o=rt(o,n,r,i,e[s+4],11,1272893353),i=rt(i,o,n,r,e[s+7],16,-155497632),r=rt(r,i,o,n,e[s+10],23,-1094730640),n=rt(n,r,i,o,e[s+13],4,681279174),o=rt(o,n,r,i,e[s],11,-358537222),i=rt(i,o,n,r,e[s+3],16,-722521979),r=rt(r,i,o,n,e[s+6],23,76029189),n=rt(n,r,i,o,e[s+9],4,-640364487),o=rt(o,n,r,i,e[s+12],11,-421815835),i=rt(i,o,n,r,e[s+15],16,530742520),n=it(n,r=rt(r,i,o,n,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=it(o,n,r,i,e[s+7],10,1126891415),i=it(i,o,n,r,e[s+14],15,-1416354905),r=it(r,i,o,n,e[s+5],21,-57434055),n=it(n,r,i,o,e[s+12],6,1700485571),o=it(o,n,r,i,e[s+3],10,-1894986606),i=it(i,o,n,r,e[s+10],15,-1051523),r=it(r,i,o,n,e[s+1],21,-2054922799),n=it(n,r,i,o,e[s+8],6,1873313359),o=it(o,n,r,i,e[s+15],10,-30611744),i=it(i,o,n,r,e[s+6],15,-1560198380),r=it(r,i,o,n,e[s+13],21,1309151649),n=it(n,r,i,o,e[s+4],6,-145523070),o=it(o,n,r,i,e[s+11],10,-1120210379),i=it(i,o,n,r,e[s+2],15,718787259),r=it(r,i,o,n,e[s+9],21,-343485551),n=$e(n,a),r=$e(r,c),i=$e(i,l),o=$e(o,u)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(Ze(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),Xe("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[d][p];for(var f=16;f<80;++f)h[f]=at(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],E=n[4],b=0;b<80;++b){var w=Math.floor(b/20),_=at(m,5)+st(w,g,v,y)+E+t[w]+h[b]>>>0;E=y,y=v,v=at(g,30)>>>0,g=m,m=_}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+E>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var ct=null;if("undefined"==typeof crypto||!crypto.getRandomValues){var lt=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto");if(lt){var ut=new Uint8Array(256),dt=ut.length;ct={rng:function(){return dt>ut.length-16&&(lt.randomFillSync(ut),dt=0),ut.slice(dt,dt+=16)}}}}"object"===("undefined"==typeof crypto?"undefined":He(crypto))&&crypto.randomUUID;function ht(){return ot(ct,new Array(16),0)}function pt(e){return Be(e).map((function(e){return String.fromCharCode(e)})).join("")}function ft(){return pt(ht())}var mt=/^[a-zA-Z0-9/+]+[=]+$/;function gt(e,t){return{pageUrn:yt(e),trackingId:t||function(e){for(var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,o=e.length,s=o%3,a=o-s;i<a;)t=e[i]<<16,t|=e[i+1]<<8,t|=e[i+2],r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push(n.charAt(63&t)),i+=3;switch(s){case 2:t=e[i]<<16,t|=e[i+1]<<8,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push("=");break;case 1:t=e[i]<<16,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push("="),r.push("=")}return r.join("")}(ht())}}function vt(e,t){return"urn:li:control:".concat(e,"-").concat(t)}function yt(e){return"urn:li:page:".concat(e)}function Et(e,t){return{pageInstance:t.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function bt(e,t){return void 0!==t.allSettled?t.allSettled(e):function(e){return new Promise((function(t){var n=new Set,r=function(e){n.delete(e),0===n.size&&t()};0===e.length?t():e.map((function(e){return e.then((function(){return r(e)})).catch((function(){return r(e)}))}))}))}(e)}function wt(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function _t(e,t){if("undefined"!=typeof window&&window.indexedDB){var n="sequenceNumber",r=window.indexedDB.open(n);return new Promise((function(i,o){r.onupgradeneeded=function(){var e=r.result;e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},r.onsuccess=function(){var s=r.result,a=s.transaction(n,"readwrite"),c=a.objectStore(n),l=c.get(1);l.onsuccess=function(){var n=l.result;if(n){var r,s=null!==(r=n.sequenceNumber)&&void 0!==r?r:0;if("read"===e)return i(s);if(!("update"===e&&void 0!==t&&t>s))return i(null);var a=c.put({sequenceNumber:t},1);a.onsuccess=function(){return i(null)},a.onerror=function(){o(a.error)}}else{var u=c.add({sequenceNumber:0});u.onsuccess=function(){return i(0)},u.onerror=function(){o(u.error)}}},l.onerror=function(){return s.close(),o(new Error("Error: get sequence number from indexedDB ".concat(String(l.error))))},a.oncomplete=function(){return s.close()}},r.onerror=function(){return i(null)}}))}return Promise.resolve(null)}function Tt(e,t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])}function St(e,t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)}var It,Ct,kt=(It=new Map,Ct=new Map,{on:function(e,t){Tt(It,e,t)},before:function(e,t){Tt(Ct,e,t)},off:function(e,t){St(It,e,t)},offBefore:function(e,t){St(Ct,e,t)},emit:function(e,t){(Ct.get(e)||[]).concat(It.get(e)||[]).slice().map((function(e){e(t)}))},clear:function(){Ct.clear(),It.clear()}});if("undefined"!=typeof document&&"undefined"!=typeof window){var At=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||kt.emit("internal:hide",e)};document.addEventListener("visibilitychange",At),window.addEventListener("pagehide",At)}var Rt=Uint8Array,Ot=Uint16Array,Nt=Uint32Array,Lt=new Rt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pt=new Rt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xt=new Rt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mt=function(e,t){for(var n=new Ot(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Nt(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},Dt=Mt(Lt,2),Ut=Dt[0],Bt=Dt[1];Ut[28]=258,Bt[258]=28;for(var Ft=Mt(Pt,0)[1],qt=new Ot(32768),Ht=0;Ht<32768;++Ht){var Gt=(43690&Ht)>>>1|(21845&Ht)<<1;Gt=(61680&(Gt=(52428&Gt)>>>2|(13107&Gt)<<2))>>>4|(3855&Gt)<<4,qt[Ht]=((65280&Gt)>>>8|(255&Gt)<<8)>>>1}var jt=function(e,t,n){for(var r=e.length,i=0,o=new Ot(t);i<r;++i)e[i]&&++o[e[i]-1];var s,a=new Ot(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new Ot(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[qt[d]>>>c]=l}else for(s=new Ot(r),i=0;i<r;++i)e[i]&&(s[i]=qt[a[e[i]-1]++]>>>15-e[i]);return s},zt=new Rt(288);for(Ht=0;Ht<144;++Ht)zt[Ht]=8;for(Ht=144;Ht<256;++Ht)zt[Ht]=9;for(Ht=256;Ht<280;++Ht)zt[Ht]=7;for(Ht=280;Ht<288;++Ht)zt[Ht]=8;var Wt=new Rt(32);for(Ht=0;Ht<32;++Ht)Wt[Ht]=5;var Kt=jt(zt,9,0),Vt=jt(Wt,5,0),Qt=function(e){return(e+7)/8|0},Yt=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Jt=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Xt=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[on,0];if(1==i){var s=new Rt(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],c=n[1],l=0,u=1,d=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};u!=i-1;)a=n[n[l].f<n[d].f?l++:d++],c=n[l!=u&&n[l].f<n[d].f?l++:d++],n[u++]={s:-1,f:a.f+c.f,l:a,r:c};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new Ot(h+1),f=Zt(n[u-1],p,0);if(f>t){r=0;var m=0,g=f-t,v=1<<g;for(o.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<i;++r){var y=o[r].s;if(!(p[y]>t))break;m+=v-(1<<f-p[y]),p[y]=t}for(m>>>=g;m>0;){var E=o[r].s;p[E]<t?m-=1<<t-p[E]++-1:++r}for(;r>=0&&m;--r){var b=o[r].s;p[b]==t&&(--p[b],++m)}f=t}return[new Rt(p),f]},Zt=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},$t=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ot(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},en=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},tn=function(e,t,n){var r=n.length,i=Qt(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},nn=function(e,t,n,r,i,o,s,a,c,l,u){Yt(t,u++,n),++i[256];for(var d=Xt(i,15),h=d[0],p=d[1],f=Xt(o,15),m=f[0],g=f[1],v=$t(h),y=v[0],E=v[1],b=$t(m),w=b[0],_=b[1],T=new Ot(19),S=0;S<y.length;++S)T[31&y[S]]++;for(S=0;S<w.length;++S)T[31&w[S]]++;for(var I=Xt(T,7),C=I[0],k=I[1],A=19;A>4&&!C[xt[A-1]];--A);var R,O,N,L,P=l+5<<3,x=en(i,zt)+en(o,Wt)+s,M=en(i,h)+en(o,m)+s+14+3*A+en(T,C)+(2*T[16]+3*T[17]+7*T[18]);if(P<=x&&P<=M)return tn(t,u,e.subarray(c,c+l));if(Yt(t,u,1+(M<x)),u+=2,M<x){R=jt(h,p,0),O=h,N=jt(m,g,0),L=m;var D=jt(C,k,0);for(Yt(t,u,E-257),Yt(t,u+5,_-1),Yt(t,u+10,A-4),u+=14,S=0;S<A;++S)Yt(t,u+3*S,C[xt[S]]);u+=3*A;for(var U=[y,w],B=0;B<2;++B){var F=U[B];for(S=0;S<F.length;++S){var q=31&F[S];Yt(t,u,D[q]),u+=C[q],q>15&&(Yt(t,u,F[S]>>>5&127),u+=F[S]>>>12)}}}else R=Kt,O=zt,N=Vt,L=Wt;for(S=0;S<a;++S)if(r[S]>255){q=r[S]>>>18&31,Jt(t,u,R[q+257]),u+=O[q+257],q>7&&(Yt(t,u,r[S]>>>23&31),u+=Lt[q]);var H=31&r[S];Jt(t,u,N[H]),u+=L[H],H>3&&(Jt(t,u,r[S]>>>5&8191),u+=Pt[H])}else Jt(t,u,R[r[S]]),u+=O[r[S]];return Jt(t,u,R[256]),u+O[256]},rn=new Nt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),on=new Rt(0),sn=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),an=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function cn(e,t){t||(t={});var n=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=sn[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}}(),r=e.length;n.p(e);var i,o,s,a=(i=e,o=t,s=function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),8,function(e,t,n,r,i,o){var s=e.length,a=new Rt(r+s+5*(1+Math.ceil(s/7e3))+i),c=a.subarray(r,a.length-i),l=0;if(!t||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d>=s&&(c[l>>3]=o),l=tn(c,l+1,e.subarray(u,d))}else{for(var h=rn[t-1],p=h>>>13,f=8191&h,m=(1<<n)-1,g=new Ot(32768),v=new Ot(m+1),y=Math.ceil(n/3),E=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<E)&m},w=new Nt(25e3),_=new Ot(288),T=new Ot(32),S=0,I=0,C=(u=0,0),k=0,A=0;u<s;++u){var R=b(u),O=32767&u,N=v[R];if(g[O]=N,v[R]=O,k<=u){var L=s-u;if((S>7e3||C>24576)&&L>423){l=nn(e,c,0,w,_,T,I,C,A,u-A,l),C=S=I=0,A=u;for(var P=0;P<286;++P)_[P]=0;for(P=0;P<30;++P)T[P]=0}var x=2,M=0,D=f,U=O-N&32767;if(L>2&&R==b(u-U))for(var B=Math.min(p,L)-1,F=Math.min(32767,u),q=Math.min(258,L);U<=F&&--D&&O!=N;){if(e[u+x]==e[u+x-U]){for(var H=0;H<q&&e[u+H]==e[u+H-U];++H);if(H>x){if(x=H,M=U,H>B)break;var G=Math.min(U,H-2),j=0;for(P=0;P<G;++P){var z=u-U+P+32768&32767,W=z-g[z]+32768&32767;W>j&&(j=W,N=z)}}}U+=(O=N)-(N=g[O])+32768&32767}if(M){w[C++]=268435456|Bt[x]<<18|Ft[M];var K=31&Bt[x],V=31&Ft[M];I+=Lt[K]+Pt[V],++_[257+K],++T[V],k=u+x,++S}else w[C++]=e[u],++_[e[u]]}}l=nn(e,c,o,w,_,T,I,C,A,u-A,l),!o&&7&l&&(l=tn(c,l+1,on))}return function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?Ot:4==e.BYTES_PER_ELEMENT?Nt:Rt)(n-t);return r.set(e.subarray(t,n)),r}(a,0,r+Qt(l)+i)}(i,null==o.level?6:o.level,null==o.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+o.mem,s,8,!0)),c=a.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&an(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(a,t),an(a,c-8,n.d()),an(a,c-4,r),a}var ln="undefined"!=typeof TextDecoder&&new TextDecoder;try{ln.decode(on,{stream:!0})}catch($r){}function un(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function dn(){try{return un()&&"keepalive"in new Request("")}catch(e){return!1}}function hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var r=new XMLHttpRequest;if(r.open("POST",e,!0),r.withCredentials=!0,n.headers)for(var i=0,o=Object.keys(n.headers);i<o.length;i++){var s=o[i];r.setRequestHeader(s,n.headers[s])}r.send(t)}}function pn(e){var t=e.body,n=e.keepalive,r=e.headers,i=e.compress;r["content-type"]||(r["content-type"]="text/plain;charset=UTF-8");var o=t;if(i&&"undefined"!=typeof TextEncoder)try{o=cn((new TextEncoder).encode(t)),r["content-encoding"]="gzip"}catch(e){}return{body:o,keepalive:n,credentials:"include",headers:r,method:"POST",mode:"cors"}}function fn(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var mn,gn="undefined"!=typeof navigator&&"sendBeacon"in navigator,vn=dn()?function(e,t,n,r){return new Promise((function(i){fetch(e,pn({body:t,keepalive:!0,headers:n,compress:r})).catch((function(){return fetch(e,pn({body:t,keepalive:!1,headers:n,compress:r}))})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:e.status}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:fn(e)})}))}))}:function(e,t,n,r){return new Promise((function(i){if(gn){var o=!1;try{o=navigator.sendBeacon(e,t)}catch(e){}if(o)return void i({type:"unknown",drop:!1})}fetch(e,pn({body:t,keepalive:!1,headers:n,compress:r})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:200}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:fn(e)})}))}))};function yn(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function En(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3?arguments[3]:void 0,i=indexedDB.open(e);i.onupgradeneeded=function(){try{i.result.createObjectStore(t,{keyPath:n})}catch(e){null==r||r.onError(e)}};var o=new Promise((function(e,t){i.onsuccess=function(){var t=i.result;t.onversionchange=function(){return t.close()},e(t),null==r||r.onSuccess()},i.onerror=function(){t(i.error),null==r||r.onError(i.error)}}));return function(e,n){return o.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}}function bn(){return mn||(mn=En("idb-queue","default")),mn}function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=0,r=null;return e.openKeyCursor().onsuccess=function(){var i=this.result;i&&n++<t.batchEvictionNumber?(r=i.key,i.continue()):null!=r&&e.delete(IDBKeyRange.upperBound(r))},yn(e.transaction)}function _n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn();return t("readwrite",(function(t){return wn(t,e)}))}var Tn=!1;function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn();return n("readwrite",(function(n){return n.put(e),yn(n.count()).then((function(e){if(!(e<=t.maxNumber))return wn(n,t)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return _n(t,n)}))}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn();return Tn?Promise.resolve():Sn(e,t,n)}function Cn(e,t,n){return t("readwrite",(function(t){var r=[];return t.openCursor(null,n).onsuccess=function(){var t=this.result;t&&(r.push(t.value),t.delete(),(e<0||r.length<e)&&t.continue())},yn(t.transaction).then((function(){return r}))}))}function kn(e,t,n){return t("readonly",(function(t){var r=[];return t.openCursor(null,n).onsuccess=function(){var t=this.result;t&&(r.push(t.value),(e<0||r.length<e)&&t.continue())},yn(t.transaction).then((function(){return r}))}))}function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn();return kn(e,t,"next")}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn();return kn(e,t,"prev")}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return!t||n<1||(e[t]=JSON.stringify({attempt:n,errorCode:r})),e}function Nn(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function Ln(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4};if("undefined"==typeof requestIdleCallback)setTimeout(e,t.fallbackTimeout||10);else{var n=function n(){requestIdleCallback((function(r){r.timeRemaining()>t.timeRemaining||r.didTimeout?e():n()}),{timeout:t.timeout})};n()}}function xn(e,t){var n=0;return{throttledFn:function(){var r=Date.now();r-n>t&&(Nn((function(){return"[throttle] Run fn() at "+String(r)})),e(),n=r)},resetThrottle:function(){n=0}}}var Mn=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];xe(this,e),Ue(this,"config",void 0),Ue(this,"compress",void 0),Ue(this,"throttleControl",void 0),Ue(this,"withStore",void 0),Ue(this,"disablePersistence",!1),this.config=t,this.compress=r;var i=t.measureIDB;i&&performance.mark(i.createStartMark),this.withStore=En(t.idbName,"beacons","timestamp",{onSuccess:function(){i&&performance.measure(i.createSuccessMeasure,i.createStartMark)},onError:function(){i&&performance.measure(i.createFailMeasure,i.createStartMark),n.disablePersistence=!0}}),this.throttleControl=xn(this.replayEntries.bind(this),t.throttleWait)}return De(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var t=this;if(!this.disablePersistence){var n=function(){Nn((function(){return"Persisting to DB "+e.url})),In(e,t.config,t.withStore).then((function(){t.throttleControl.resetThrottle(),Nn((function(){return"push completed"}))})).catch((function(){t.disablePersistence=!0,Ln((function(){return"push failed"}))}))};this.config.useIdle?Pn(n):n()}}},{key:"clear",value:function(){var e=this;return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return Tn=!0,e("readwrite",(function(e){return e.clear(),yn(e.transaction).finally((function(){return Tn=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,Ln((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.disablePersistence?Promise.resolve([]):An(t,this.withStore).catch((function(){return e.disablePersistence=!0,Ln((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.disablePersistence?Promise.resolve([]):Rn(t,this.withStore).catch((function(){return e.disablePersistence=!0,Ln((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this;if(!this.disablePersistence){var t=function(){Nn((function(){return"Replaying entry: shift from store"})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn();return Cn(e,t,"next")}(1,e.withStore).then((function(t){if(t.length>0){var n,r,i=t[0],o=i.url,s=i.body,a=i.headers,c=i.timestamp,l=i.statusCode,u=i.attemptCount;return Nn((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(n=(r=e.config).onBeforeRetry)||void 0===n||n.call(r,s),vn(o,s,On(a,e.config.headerName,u,l),e.compress).then((function(t){if("unknown"===t.type||"success"===t.type){var n,r;null===(n=(r=e.config).onResult)||void 0===n||n.call(r,t,s),e.replayEntries()}else{var i,a,d,h,p,f;if(u+1>e.config.attemptLimit)return Nn((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:o,timestamp:c,statusCode:l},null,2)})),t.drop=!0,void(null===(i=(a=e.config).onResult)||void 0===i||i.call(a,t,s));if("network"===t.type||e.config.statusCodes.includes(t.statusCode))return t.drop=!1,null===(d=(h=e.config).onResult)||void 0===d||d.call(h,t,s),Nn((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:o,timestamp:c,statusCode:l},null,2)})),In({url:o,body:s,timestamp:c,statusCode:l,attemptCount:u+1},e.config,e.withStore);t.drop=!0,null===(p=(f=e.config).onResult)||void 0===p||p.call(f,t,s)}}))}})).catch((function(t){e.disablePersistence=!0,t&&t.message&&Ln((function(){return"Replay entry failed: ".concat(t.message)}))}))};this.config.useIdle?Pn(t):t()}}}]),e}(),Dn=function(){function e(){xe(this,e)}return De(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),Un=function(){function e(t,n){xe(this,e),Ue(this,"queue",void 0),Ue(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!n.disablePersistenceRetry?new Mn(t,n.compress):new Dn}return De(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}();Ue(Un,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB);var Bn=[502,504],Fn=[429,503],qn=function(){function e(t,n,r,i){var o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];xe(this,e),Ue(this,"url",void 0),Ue(this,"body",void 0),Ue(this,"config",void 0),Ue(this,"persistenceConfig",void 0),Ue(this,"compress",void 0),Ue(this,"timestamp",void 0),Ue(this,"isClearQueuePending",!1),Ue(this,"onClearCallback",void 0),this.url=t,this.body=n,this.config=r,this.persistenceConfig=i,this.compress=s,this.timestamp=Date.now(),this.onClearCallback=function(){return o.isClearQueuePending=!0}}return De(e,[{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.persistenceConfig.db.onClear(this.onClearCallback);var n=this.retryLimit;return this.retry((function(t){return vn(e.url,e.body,t,e.compress)}),n,t).finally((function(){Nn((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,t,n,r){var i=this,o=this.getAttemptCount(t)-1;return e(On(n,this.config.headerName,o,r)).then((function(r){var o,s,a,c;if(r.drop=!1,"unknown"===r.type||"success"===r.type)i.isClearQueuePending||i.persistenceConfig.disabled||i.persistenceConfig.db.notifyQueue(),a=r;else if(Nn((function(){return"retry rejected "+JSON.stringify(r)})),i.shouldPersist(t,r))i.persistenceConfig.db.pushToQueue({url:i.url,body:i.body,headers:n,statusCode:r.statusCode,timestamp:i.timestamp,attemptCount:i.getAttemptCount(t)}),a={type:"persisted",drop:!1,statusCode:r.statusCode};else{if(t>0&&i.isRetryableError(r)){var l,u;null===(l=(u=i.config).onIntermediateResult)||void 0===l||l.call(u,r,i.body);var d=i.config.calculateRetryDelay(i.getAttemptCount(t),t);return Nn((function(){return"in memory retry in ".concat(d,"ms")})),(c=d,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return i.retry(e,t-1,n,r.statusCode)}))}(a=r).drop=!0}return null===(o=(s=i.config).onIntermediateResult)||void 0===o||o.call(s,a,i.body),a}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,t){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==t.type)&&("response"!==t.type||!this.persistenceConfig.statusCodes.includes(t.statusCode)))}}]),e}();function Hn(e,t,n,r,i){"control"!==r&&e.retryConfig&&function(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1;var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.cookieEnabled,n=navigator.storage;return e&&dn()&&t&&n}()&&navigator.storage.estimate().then((function(o){if(!((o.quota||0)-(o.usage||0)>52428800))return function(e){var t=window.indexedDB.deleteDatabase(e);return new Promise((function(e,n){t.onsuccess=function(){return e()},t.onerror=function(){return n(t.error)}}))}("beacons");var s,a,c=null!==(s=e.retryConfig.inMemory)&&void 0!==s?s:{attemptLimit:4,statusCodes:[502,504]},l=null!==(a=e.retryConfig.persist)&&void 0!==a?a:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:n,inMemoryRetry:{onIntermediateResult:null==i?void 0:i.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==i?void 0:i.onBeforeRetry,onResult:null==i?void 0:i.onResult,idbName:"beacons",attemptLimit:l.attemptLimit,statusCodes:l.statusCodes,maxNumber:l.maxNumber,batchEvictionNumber:l.batchEvictionNumber,throttleWait:l.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Boolean(t.compress),r=Object.assign({attemptLimit:0,statusCodes:Bn,calculateRetryDelay:function(e,t){return 2e3*t}},t.inMemoryRetry);if(t.retryDB)e=t.retryDB;else{var i=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:Fn,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},t.persistenceRetry);i.headerName=i.headerName||r.headerName,e=new Un(i,{compress:t.compress,disablePersistenceRetry:t.disablePersistenceRetry})}return{beacon:function(i,o,s){var a;return un()?new qn(i,o,r,{db:e,disabled:Boolean(t.disablePersistenceRetry),statusCodes:(null===(a=t.persistenceRetry)||void 0===a?void 0:a.statusCodes)||Fn},n).send(s):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),h=d.beacon,p=d.database;return e.retryBeacon={shouldRetry:!0,beacon:h,database:p},"enabled"===r?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&t.shouldAnonymizeMemberId()?p.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var t=JSON.parse(e[0].body);if(Array.isArray(t)&&t.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return p.clearQueue()}}),(function(){return p.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){kt.emit("internal:error",{tags:["core-web-tracking:retry:idb"],reason:e})})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){kt.emit("internal:error",{tags:["core-web-tracking:retry:setup"],reason:e})}))}var Gn=function(){function e(t){xe(this,e),Ue(this,"host",void 0),this.host=t}return De(e,[{key:"checkAndEnablePersistentRetry",value:function(e,t){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var n=this.getRetryTreatment();this.host.retryConfig&&Hn(this.host,e,this.shouldCompressPayload(),n,t)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon;if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){kt.emit("internal:error",{tags:["core-web-tracking:retry:logout"],reason:e})}))}},{key:"sendPayload",value:function(e,t,n,r){var i,o=this.getRetryTreatment();dn()&&"control"!==o&&null!==(i=this.host.retryBeacon)&&void 0!==i&&i.shouldRetry?this.sendPayloadWithRetry(e,t,n):this.sendPayloadFireForget(e,t,n,r)}},{key:"sendPayloadWithRetry",value:function(e,t,n){(!Array.isArray(t)||t.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(t),n).catch((function(e){kt.emit("internal:error",{tags:["core-web-tracking:retry:beacon"],reason:e})}))}},{key:"sendPayloadFireForget",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!Array.isArray(t)||t.length>0){var i="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1;i||!un()||"undefined"==typeof Promise?hn(e,JSON.stringify(t),{headers:n}):vn(e,JSON.stringify(t),n,this.shouldCompressPayload()).then((function(e){null==r||r.onResult(e,t)}),(function(){}))}}},{key:"getRetryTreatment",value:function(){var e,t,n;if(!this.host.retryConfig)return"control";var r=this.host.retryConfig.lixKey;return r?null!==(e=null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,r))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}}]),e}(),jn="undefined"!=typeof window&&"undefined"!=typeof document,zn=/JSESSIONID="?([^";]+)"?/,Wn="",Kn=0;function Vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cacheLifeSpan,n=void 0===t?1e4:t,r=e.regex,i=void 0===r?zn:r;if(!Wn||Date.now()-Kn>n){var o=jn&&document.cookie.match(i);Wn=o&&o[1]||"",Kn=Date.now()}return Wn}var Qn=function(){function e(t){xe(this,e),Ue(this,"networkTransporter",void 0),Ue(this,"inactive",void 0),Ue(this,"mpName",void 0),Ue(this,"endpoint",void 0),Ue(this,"debug",void 0),this.networkTransporter=new Gn(t),this.mpName=t.appId,this.inactive=t.inactive;var n=function(e){var t,n=!1;switch(e){case"https://www.linkedin.com/li/track":t=Jn;break;case"https://www.linkedin-ei.com/li/track/validate":default:n=!0,t=Yn;break;case"https://www.linkedin-ei.com/li/track":t=Yn}return{endpoint:t,debug:n}}(t.endpoint);this.endpoint=n.endpoint,this.debug=n.debug}return De(e,[{key:"fireFragment",value:function(e){if(!this.inactive){var t={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":Vn(),"x-restli-protocol-version":"2.0.0"},n={fragmentEvent:e,debug:this.debug};this.networkTransporter.sendPayload(this.endpoint,n,t)}}}]),e}(),Yn="https://www.linkedin-ei.com/trackingMonitoring/?action=saveClientFragment",Jn="https://www.linkedin.com/trackingMonitoring/?action=saveClientFragment";function Xn(e){return"string"==typeof e}function Zn(e){return Xn(e)?e:e.topicName||e.eventName}function $n(e){return Xn(e)?e:e.eventName}var er,tr,nr=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xe(this,e),Ue(this,"host",void 0),Ue(this,"cmoTransporter",void 0),Ue(this,"clientMonitoringInstanceId",ft()),Ue(this,"currentContext",or()),Ue(this,"appState",{}),Ue(this,"estimatedFragmentSize",0),Ue(this,"fragmentSizeLimit",void 0),Ue(this,"activeFragmentEvent",void 0),Ue(this,"debounceTimer",void 0),this.host=t,this.cmoTransporter=r.cmoTransporter||new Qn(t),this.fragmentSizeLimit=(null===(n=t.clientMonitoringConfig)||void 0===n?void 0:n.fragmentSizeLimit)||10240,this.activeFragmentEvent=ir(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return De(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,t,n=this;void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){n.fireFragmentEventIfFull()}),null!==(e=null===(t=this.host.batching)||void 0===t?void 0:t.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring();var t=this.activeFragmentEvent.stats,n=this.activeFragmentEvent.firstEventNumber+t.eventsGenerated;return t.eventTopics.push(e),t.eventsGenerated++,this.estimatedFragmentSize+=e.length,n}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId();t===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(t,(function(t){t.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),n=this.activeFragmentEvent.stats.networkResponseStats;t!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(t,(function(e){n=e.networkResponseStats})),e>=200&&e<300?n.eventsWith2XXResponse++:400===e?n.eventsWith400Response++:408===e?n.eventsWith408Response++:429===e?n.eventsWith429Response++:e>400&&e<500?n.eventsWith4XXResponse++:500===e?n.eventsWith500Response++:502===e?n.eventsWith502Response++:503===e?n.eventsWith503Response++:504===e?n.eventsWith504Response++:e>500&&e<600&&n.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,t){var n,r=Pe(this.activeFragmentEvent.stats.previousInstanceEventStats);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.instanceId===e)return void t(i)}}catch(e){r.e(e)}finally{r.f()}var o=this.getEventHeaders(),s=o.header,a=o.requestHeader,c={header:Object.assign(s,{memberId:-1}),requestHeader:a,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]};t(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),o=this.getEventHeaders(),s=o.header,a=o.requestHeader,c={header:Object.assign(s,{memberId:-1}),requestHeader:a,instanceId:i,instanceEventNumber:r,reason:e,rawError:n,eventName:$n(t),eventTopic:Zn(t)};this.estimatedFragmentSize+=JSON.stringify(c).length,i===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(i,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.fragmentIsFull()){this.debounceTimer=void 0;var t=this.getEventHeaders(),n=t.header,r=t.requestHeader,i=this.activeFragmentEvent;i.header=n,i.requestHeader=r,this.cmoTransporter.fireFragment(i),this.estimatedFragmentSize=0,this.activeFragmentEvent=ir(this.clientMonitoringInstanceId,i.fragmentNumber+1,i.firstEventNumber+i.stats.eventsGenerated,!1,t)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0;this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=sr(e.trackingId));var t=this.currentContext.pageInstance;return t.trackingId=sr(t.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:t,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:"0000000000000000"}}}}]),e}();function rr(e){return er||(er=new nr(e)),{getCurrentInstanceId:function(){return er.getCurrentInstanceId()},logEventGenerated:function(e){return er.logEventGenerated(e)},logEventReadyToSend:function(e){er.logEventReadyToSend(e)},logEventSent:function(e){er.logEventSent(e)},logPersistedEventSent:function(e,t){er.logEventSent(t,e)},logNetworkResponseCode:function(e){er.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,t){var n;null===(n=er)||void 0===n||n.logNetworkResponseCode(t,e)},logFailedEvent:function(e,t,n,r){er.logFailedEvent(e,t,n,r)},logPersistedFailedEvent:function(e,t,n,r,i){er.logFailedEvent(t,n,r,i,e)},flush:function(){er.flush()},destroy:function(){er=void 0},isDestroyed:function(){return void 0===er},setCurrentContext:function(e){er.setCurrentContext(e)},updateAppState:function(e){er.updateAppState(e)}}}function ir(e,t,n,r,i){return{fragmentNumber:t,firstEventNumber:n,isLastFragment:r,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:i.requestHeader,header:i.header}}function or(){return{pageKey:"unknown",pageInstance:gt("unknown")}}function sr(e){return Array.isArray(e)?pt(e):16===e.length?e:function(e){return"string"==typeof e&&!!e.match(mt)}(e)?atob(e):pt(function(e){return Je(e)}(e))}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(tr||(tr={}));var ar="PageViewEvent",cr=function(){function e(t){var n=this;xe(this,e),Ue(this,"host",void 0),Ue(this,"queue",void 0),Ue(this,"preContextQueue",void 0),Ue(this,"debounceTimer",void 0),Ue(this,"unloadHandlers",void 0),Ue(this,"maxQueueSize",void 0),Ue(this,"flushDebounceTime",void 0),Ue(this,"trackingEventListeners",[]),Ue(this,"onHideHandler",(function(){n.forceFlush()})),Ue(this,"networkTransporter",void 0),Ue(this,"clientMonitoringConn",void 0),Ue(this,"clientSequenceNumberCounter",void 0),Ue(this,"isTimerRunning",void 0),Ue(this,"enableSequenceNumberLix",void 0),this.host=t,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[];var r=t.batching;this.maxQueueSize=r&&r.maxSize||1,this.flushDebounceTime=r&&r.debounceTime||0,kt.on("internal:hide",this.onHideHandler),this.networkTransporter=new Gn(t),this.isLixEnabled("pemberly.tracking.monitoring")&&t.clientMonitoringConfig&&!t.inactive&&(this.clientMonitoringConn=rr(t)),this.enableSequenceNumberLix=this.isLixEnabled("tracking.data-loss-web.sequence-number"),this.enableSequenceNumberLix&&(this.getSequenceNumberFromIDB(),this.updateSequenceNumberOnExit(),this.isTimerRunning=!1)}return De(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var t,n=(t=this.clientMonitoringConn,{onIntermediateResult:function(e,n){var r;if(t&&!t.isDestroyed())try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length)return;e.statusCode&&t.logNetworkResponseCode(e.statusCode),!0===e.drop&&r.forEach((function(n){var r,i=n.eventInfo.eventName,o=n.eventInfo.topicName||i,s="rawError"in e?e.rawError:"null",a=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(s)].join(", ");t.logFailedEvent(tr.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:o},a,null!==(r=n.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==r?r:-1)}))}catch(e){}},onBeforeRetry:function(e){var n;if(t&&!t.isDestroyed())try{if(n=JSON.parse(e),!Array.isArray(n)||0===n.length||!n[0].eventBody.header.clientMonitoringInstanceId)return;var r=n[0].eventBody.header.clientMonitoringInstanceId,i=n.length;t.logPersistedEventSent(r,i)}catch(e){}},onResult:function(e,n){var r;if(t)try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length||!r[0].eventBody.header.clientMonitoringInstanceId)return;var i=r[0].eventBody.header.clientMonitoringInstanceId;e.statusCode&&t.logPersistedNetworkResponseCode(i,e.statusCode),!0===e.drop&&r.forEach((function(n){var r=n.eventInfo.eventName,o=n.eventInfo.topicName||r,s="rawError"in e?e.rawError:"null",a=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(s)].join(", ");t.logPersistedFailedEvent(i,tr.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:o},a,n.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}});this.networkTransporter.checkAndEnablePersistentRetry(e,n)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var t=function(e){return e.meta.time=Date.now(),e}(e);this.clientMonitoringConn&&(t.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),t.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(Zn(e.id)));var n,r=this.host,i=r.api.Promise,o=r.batching;return function(e){return!!e.meta.context}(t)?(this.prepareCompleteEnvelopeQueue(t),null===(n=this.clientMonitoringConn)||void 0===n||n.logEventReadyToSend(1),o?(this.batchFire(),i.resolve(!0)):(this.flush(!0),i.resolve(!0))):(this.preContextQueue.push(t),i.resolve(!0))}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,kt.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(){var e=this;this.populatePreContextQueue({pageInstance:gt("unknown"),pageKey:"unknown"}).forEach((function(t){return e.queue.push(t)})),this.flush(!0)}},{key:"isLixEnabled",value:function(e){var t,n;return"enabled"===(null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,e))}},{key:"getSequenceNumberFromIDB",value:function(){var e=this;_t("read").then((function(t){e.clientSequenceNumberCounter=t||0})).catch((function(e){kt.emit("internal:error",{tags:["core-web-tracking:sequence-number:idb-read"],reason:e})}))}},{key:"updateSequenceNumberToIDB",value:function(){_t("update",this.clientSequenceNumberCounter).catch((function(e){kt.emit("internal:error",{tags:["core-web-tracking:sequence-number:idb-update"],reason:e})}))}},{key:"updateSequenceNumberOnExit",value:function(){var e=this;"undefined"!=typeof window&&"undefined"!=typeof document&&window.addEventListener("beforeunload",(function t(){e.updateSequenceNumberToIDB(),window.removeEventListener("beforeunload",t)}))}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var t=this,n=e.meta.context=Et(e.meta.context,this.host.api);"function"==typeof e.body&&(e.body=e.body(n)),this.preContextQueue.length>0&&this.populatePreContextQueue(n).forEach((function(e){return t.queue.push(e)})),this.queue.push(e)}},{key:"envelop",value:function(e,t,n){var r=this.host,i=r.appId,o=r.api,s={eventBody:t,eventInfo:"string"==typeof e?{appId:i,eventName:e,topicName:e}:o.assign({appId:i},e)};return n.length>0&&this.host.api.assign(s,{clientBreadcrumbs:n}),s}},{key:"getBreadcrumbs",value:function(e){return e.clientBreadcrumbs||[]}},{key:"getGenericEventBody",value:function(e){var t,n=this.host,r=n.appVersion,i=n.locale,o=n.api,s=o.location,a=o.document,c=o.assign,l=e.meta.context,u=l.pageKey,d=l.pageInstance,h=function(e){return"string"==typeof e?e===ar:e.eventName===ar}(e.id)&&(null===(t=e.body.requestHeader)||void 0===t?void 0:t.pageKey)||u,p=null;"string"!=typeof i&&null!==this.host.locale||(p=i);var f={interfaceLocale:p,pageKey:h,path:s.pathname+s.search,referer:a.referrer},m={pageInstance:d,time:e.meta.time,version:r};"number"==typeof this.clientSequenceNumberCounter&&c(m,{clientGlobalSequenceNumber:this.clientSequenceNumberCounter});var g={header:c(m,e.meta.header||{}),requestHeader:c(f,e.meta.requestHeader||{})},v=e.meta.clientMonitoringInstanceId,y=e.meta.clientMonitoringInstanceEventNumber;return v&&c(g.header,{clientMonitoringInstanceId:v,clientMonitoringInstanceEventNumber:y}),c(e.body,g)}},{key:"populatePreContextQueue",value:function(e){var t,n=this.preContextQueue;return this.preContextQueue=[],null===(t=this.clientMonitoringConn)||void 0===t||t.logEventReadyToSend(n.length),n.map((function(t){return t.meta.context=e,"function"==typeof t.body&&(t.body=t.body(e)),t}))}},{key:"trigger",value:function(e,t){this.trackingEventListeners.forEach((function(n){return n(e,t)}))}},{key:"requestFlush",value:function(e){var t=this;e((function(){t.forceFlush()}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.host.api.requestIdleCallback;e||!t?this.sendPayload():this.requestFlush(t)}},{key:"batchFire",value:function(){var e=this;this.queue.length>this.maxQueueSize?this.flush():(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime))}},{key:"sendPayload",value:function(){var e=this,t=this.queue;if(0!==t.length){this.enableSequenceNumberLix&&"undefined"!=typeof window&&!1===this.isTimerRunning&&(this.isTimerRunning=!0,setInterval((function(){e.updateSequenceNumberToIDB()}),5e3)),this.queue=[];var n,r,i=[],o=[];t.forEach((function(t){var n=e.getGenericEventBody(t),r=e.getBreadcrumbs(t),s=e.envelop(t.id,n,r);e.trigger(s,t.meta);var a=s.eventInfo.eventName;"LixTreatmentsEvent"===a||"JavaScriptErrorEvent"===a?i.push(s):o.push(s),e.enableSequenceNumberLix&&"number"==typeof e.clientSequenceNumberCounter&&e.clientSequenceNumberCounter++})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(i.length+o.length),r=this.clientMonitoringConn,n={onResult:function(e,t){r&&!r.isDestroyed()&&(e.statusCode&&r.logNetworkResponseCode(e.statusCode),!0===e.drop&&t.forEach((function(t){var n=t.eventInfo.eventName,i=t.eventInfo.topicName||n,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ");null==r||r.logFailedEvent(tr.UNKNOWN_EXECUTION_ERROR,{eventName:n,topicName:i},s,t.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,i,void 0,n),this.networkTransporter.sendPayload(this.host.endpoint,o,void 0,n))}}}]),e}();var lr,ur=function(){function e(t,n){xe(this,e),this.clientBreadcrumbType=t,this.id=n}return De(e,[{key:"builder",get:function(){return function(){var e={},t=new Proxy({},{get:function(n,r){return"build"===r?function(){return e}:function(n){return e[r.toString()]=n,t}}});return t}().id(this.id).clientBreadcrumbType(this.clientBreadcrumbType)}}],[{key:"toPointer",value:function(e){return{id:e.id,type:e.clientBreadcrumbType}}}]),e}();function dr(e){if(!e)return{};var t=e.trk,n=!1,r=e.licu&&decodeURIComponent(e.licu);e.external_control&&(r="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),n=!0);var i=e.lipi&&function(e){var t=decodeURIComponent(e).split(";");if(t.length>1)return{pageUrn:t[0],trackingId:t[1]}}(e.lipi),o=i&&{pageInstance:i,pageKey:t}||t&&{pageKey:t};if(e.external_page&&e.external_page_instance){var s=decodeURIComponent(e.external_page);o={pageInstance:{pageUrn:"urn:li:externalPage:".concat(s),trackingId:e.external_page_instance},pageKey:s},n=!0}var a=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0;return a&&((o=o||{}).applicationInstance=a),{fromExternalApp:n||!!a,previousApplicationInstance:a,previousContext:o,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:r}}function hr(e){return"retryConfig"in e.host}!function(e){e.UNKNOWN="UNKNOWN",e.ME_NOTIFICATION="ME_NOTIFICATION",e.ME_NOTIFICATION_ACTION="ME_NOTIFICATION_ACTION"}(lr||(lr={}));var pr,fr,mr,gr=function(){function e(t,n){var r,i;if(xe(this,e),Ue(this,"transporter",void 0),Ue(this,"delegate",void 0),Ue(this,"currentContext",void 0),Ue(this,"appState",void 0),Ue(this,"previousAppContext",void 0),Ue(this,"customTransporters",void 0),Ue(this,"clientMonitoringConn",void 0),this.transporter=t,this.delegate=n,this.appState={},this.customTransporters={},n&&n.customTransporterHosts)for(var o in n.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(n.customTransporterHosts,o)){var s=this.transporter.host.api.assign({},this.transporter.host);this.customTransporters[o]=new cr(this.transporter.host.api.assign(s,n.customTransporterHosts[o]))}"enabled"===(null===(r=(i=t.host).__getLixTreatment)||void 0===r?void 0:r.call(i,"pemberly.tracking.monitoring"))&&t.host.clientMonitoringConfig&&!t.host.inactive&&"location"in t.host.api&&(this.clientMonitoringConn=rr(t.host))}return De(e,[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){hr(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush();var e=hr(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null;return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return Et(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.navMetaFromSeed(e,dr(t));if(this.setCurrentContext(r.to),!n.suppressEventsFiring)return this.fireNavEvents(r)}},{key:"setCurrentContext",value:function(e){var t;this.currentContext=Et(e,this.host.api),null===(t=this.clientMonitoringConn)||void 0===t||t.setCurrentContext(Et(e,this.host.api))}},{key:"updateAppState",value:function(e){var t;this.host.api.assign(this.appState,e),null===(t=this.clientMonitoringConn)||void 0===t||t.updateAppState(e)}},{key:"fireCIE",value:function(e,t,n,r,i){return this.fireEvent("ControlInteractionEvent",(function(n){var o=vt(n.pageKey,e),s={controlTrackingId:r,controlUrn:o,interactionType:t};return i&&i(o),s}),{context:n})}},{key:"fireEvent",value:function(e,t,n,r){if(!t){var i=Zn(e),o=void 0===t?"undefined":null===t?"null":He(t),s='Firing tracking event "'.concat(i,'" with invalid body, you fired "').concat(o,'"');if(this.clientMonitoringConn){var a=this.clientMonitoringConn.logEventGenerated(i);this.clientMonitoringConn.logFailedEvent(tr.MISSING_REQUIRED_PROPERTIES,e,s,a)}throw new Error(s)}var c=r||[];if(c.length>0){var l=c.map((function(e){return ur.toPointer(e)}));this.host.api.assign(t,{clientBreadcrumbPointers:l})}var u=c.length>0?this.generateEnvelopeWithBreadcrumbs(e,t,n,c):this.generateEnvelope(e,t,n);return this.fireEnvelope(u)}},{key:"generateEnvelopeWithBreadcrumbs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this.generateEnvelope(e,t,n),o=r.length>0?this.addBreadcrumbsToEnvelope(i,r):i;return o}},{key:"addBreadcrumbsToEnvelope",value:function(e,t){var n=t.map((function(e){var t=e;return delete t.clientBreadcrumbType,t}));return this.host.api.assign(e,{clientBreadcrumbs:n}),e}},{key:"fireEnvelope",value:function(e){var t,n;if(null!==(t=this.delegate)&&void 0!==t&&null!==(n=t.shouldAnonymizeMemberId)&&void 0!==n&&n.call(t))if(Xn(e.id)){var r=e.id;e.id={eventName:r,topicName:r,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0;var i=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e;if(i){var o=i.meta.transporterKey,s=o?this.customTransporters[o]:this.transporter;if(!s&&o){var a=Zn(i.id),c="Could not find custom transporter: ".concat(o);if(this.clientMonitoringConn){var l=this.clientMonitoringConn.logEventGenerated(a);this.clientMonitoringConn.logFailedEvent(tr.UNKNOWN_EXECUTION_ERROR,i.id,c,l)}throw new Error(c)}return s.fireEvent(i)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,t){return gt(e,t)}},{key:"firePVE",value:function(e,t,n){var r={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},i=this.host.api.assign(r,t),o=this.generateEnvelope("PageViewEvent",i,{context:n});return o.meta.requestHeader.pageKey=e,this.fireEnvelope(o)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy();this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),kt.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,t){return vt((t||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,t,n,r){var i={controlTrackingId:r,controlUrn:e,interactionType:t};return{beacon:this.fireEvent("ControlInteractionEvent",i,{context:n}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var t=e.triggerId,n=e.triggerUrn,r=e.from;return{previousPageInstance:r&&r.pageInstance,triggerControlTrackingId:t,triggerControlUrn:n}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,t){var n="NavigationEvent";this.previousAppContext=t.previousContext;var r=t.fromExternalApp?{eventName:n,topicName:"InboundNavigationEvent"}:n;return{from:t.previousContext,navEventId:r,to:{applicationInstance:t.applicationInstance,pageInstance:this.generatePageInstance(e,t.pageTrackingId),pageKey:e},triggerId:t.previousControlId,triggerUrn:t.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var t=this.generateNavigationEvent(e),n=e.to,r=e.from,i=e.navEventId,o=this.generateEnvelope(i,t);o.meta.requestHeader.pageKey=n.pageKey;var s=r&&r.applicationInstance;return s&&(o.meta.header.clientApplicationInstance=s),this.host.api.Promise.all([this.firePVE(n.pageKey),this.fireEnvelope(o)])}},{key:"generateEnvelope",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={directive:n.directive,transporterKey:n.transporterKey,context:n.context||this.currentContext&&Et(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},n.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},n.header||{})};return{body:"function"==typeof t?t:function(){return t},id:e,meta:r}}}]),e}();function vr(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)}!function(){function e(t,n){var r,i=this;xe(this,e),Ue(this,"core",void 0),Ue(this,"protocol",void 0),Ue(this,"throttleKeySet",new Set),Ue(this,"config",void 0),Ue(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),i.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=t;var o=this.core.host.api.location.protocol;this.protocol=o.substring(0,o.length-1),this.config={throttleTime:null!==(r=null==n?void 0:n.throttleTime)&&void 0!==r?r:100},kt.on("internal:error",this.reportTransporterError)}De(e,[{key:"reportError",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.callTreeId,s=void 0===o?"":o,a=i.responseHeaders,c=void 0===a?{}:a,l=e.message,u=e.name,d=e.stack,h=void 0===d?"":d,p=e.fileName,f=void 0===p?"":p,m=e.lineNumber,g=void 0===m?0:m,v=e.columnNumber,y=void 0===v?0:v,E=this.core.host,b=E.appId,w=E.appVersion,_=E.service,T=E.serviceInstance,S=E.treeID,I=void 0===S?"":S,C=E.api,k=C.Promise,A=C.location,R=A.host,O=A.pathname,N=A.search,L=A.hash,P=void 0===L?"":L;if(c){t={};var x=new Map;Object.keys(c).forEach((function(e){x.set(e.toLowerCase(),c[e])})),t.callTreeId=x.get("x-li-uuid"),t.microsoftEdgeReference=x.get("x-msedge-ref"),t.pointOfPresenceId=x.get("x-li-pop"),t.fabric=x.get("x-li-fabric")}var M=function(){return n.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:b,e:{c:y,l:g,m:l,s:h,t:u,u:f},h:P,l:n.protocol,o:R,p:O,pageKey:e.pageKey,q:N,service:_,serviceInstance:T,serviceVersion:w,t:r,trackingID:e.pageInstance.trackingId,treeID:I,callTreeId:s,responseTraceHeaders:t}}))};if(this.config.throttleTime<0)return M();var D=vr(u+l+h+r.join("")+s);return this.throttleKeySet.has(D)?k.resolve(!1):(this.throttleKeySet.add(D),setTimeout((function(){return n.throttleKeySet.delete(D)}),this.config.throttleTime),M())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),kt.off("internal:error",this.reportTransporterError)}}])}();var yr=function(){function e(){xe(this,e),Ue(this,"userTimingEntries",[]),Ue(this,"longTasks",[]),Ue(this,"resourceTimingEntries",[]),Ue(this,"cdnData",void 0)}return De(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(t){var n=e.get(t.name);n&&(t.resourceTreeId=n)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(br),cdnData:this.cdnData}}}]),e}(),Er=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"];function br(e){return Er.reduce((function(t,n){var r=e[n];return void 0!==r&&(t[n]=r),t}),{})}function wr(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};fr=Object.assign(Object.assign({},n),t),mr=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(fr.root,n);var r=_r(e,pr.All,(function(){return _r(e,pr.Two,(function(){return _r(e,pr.One)}))}));if(r){var i=Lr(Pr(r,e));return i.length>0&&(r=i[0]),Sr(r)}throw new Error("Selector was not found.")}function _r(e,t,n){for(var r=null,i=[],o=e,s=0,a=function(){var e=Rr(function(e){var t=e.getAttribute("id");return t&&fr.idName(t)?{name:"#"+qr(t,{isIdentifier:!0}),penalty:0}:null}(o))||Rr.apply(void 0,Be(function(e){return Array.from(e.attributes).filter((function(e){return fr.attr(e.name,e.value)})).map((function(e){return{name:"["+qr(e.name,{isIdentifier:!0})+'="'+qr(e.value)+'"]',penalty:.5}}))}(o)))||Rr.apply(void 0,Be(function(e){return Array.from(e.classList).filter(fr.className).map((function(e){return{name:"."+qr(e,{isIdentifier:!0}),penalty:1}}))}(o)))||Rr(function(e){var t=e.tagName.toLowerCase();return fr.tagName(t)?{name:t,penalty:2}:null}(o))||[{name:"*",penalty:3}],a=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;for(var r=0;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(o);if(t===pr.All)a&&(e=e.concat(e.filter(Ar).map((function(e){return kr(e,a)}))));else if(t===pr.Two)e=e.slice(0,1),a&&(e=e.concat(e.filter(Ar).map((function(e){return kr(e,a)}))));else if(t===pr.One){var c=Le(e=e.slice(0,1),1)[0];a&&Ar(c)&&(e=[kr(c,a)])}var l,u=Pe(e);try{for(u.s();!(l=u.n()).done;)l.value.level=s}catch(e){u.e(e)}finally{u.f()}if(i.push(e),i.length>=fr.seedMinLength&&(r=Tr(i,n)))return"break";o=o.parentElement,s++};o&&o!==fr.root.parentElement&&"break"!==a(););return r||(r=Tr(i,n)),r}function Tr(e,t){var n=Lr(Nr(e));if(n.length>fr.threshold)return t?t():null;var r,i=Pe(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(Cr(o))return o}}catch(e){i.e(e)}finally{i.f()}return null}function Sr(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0;n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function Ir(e){return e.map((function(e){return e.penalty})).reduce((function(e,t){return e+t}),0)}function Cr(e){switch(mr.querySelectorAll(Sr(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat(Sr(e)));case 1:return!0;default:return!1}}function kr(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function Ar(e){return"html"!==e.name&&!e.name.startsWith("#")}function Rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Or);return r.length>0?r:null}function Or(e){return null!=e}function Nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length>0){var n,r=[],i=Pe(e[0]);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.concat(Nr(e.slice(1,e.length),t.concat(o)))}}catch(e){i.e(e)}finally{i.f()}return r}return[t]}function Lr(e){return Array.from(e).sort((function(e,t){return Ir(e)-Ir(t)}))}function Pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},r=[];if(e.length>2&&e.length>fr.optimizedMinLength)for(var i=1;i<e.length-1;i++){if(n.counter>fr.maxNumberOfTries)return r;n.counter+=1;var o=Be(e);o.splice(i,1);var s=Sr(o);if(n.visited.has(s))return r;Cr(o)&&xr(o,t)&&(r.push(o),n.visited.set(s,!0),r=r.concat(Pr(o,t,n)))}return r}function xr(e,t){return mr.querySelector(Sr(e))===t}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(pr||(pr={}));var Mr,Dr=/[ -,\.\/:-@\[-\^`\{-~]/,Ur=/[ -,\.\/:-@\[\]\^`\{-~]/,Br=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Fr={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};function qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign({},Fr),t);"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single");for(var r="double"==n.quotes?'"':"'",i=n.isIdentifier,o=e.charAt(0),s="",a=0,c=e.length;a<c;){var l=e.charAt(a++),u=l.charCodeAt(0),d=void 0;if(u<32||u>126){if(u>=55296&&u<=56319&&a<c){var h=e.charCodeAt(a++);56320==(64512&h)?u=((1023&u)<<10)+(1023&h)+65536:a--}d="\\"+u.toString(16).toUpperCase()+" "}else d=n.escapeEverything?Dr.test(l)?"\\"+l:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(l)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==l||!i&&('"'==l&&r==l||"'"==l&&r==l)||i&&Ur.test(l)?"\\"+l:l;s+=d}return i&&(/^-[-\d]/.test(s)?s="\\-"+s.slice(1):/\d/.test(o)&&(s="\\3"+o+" "+s.slice(1))),s=s.replace(Br,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!i&&n.wrap?r+s+r:s}function Hr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var n,r=e.now();return n=!e.timing&&t?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(r+n)}return Date.now()}function Gr(e){var t=e||performance;return Math.round(t.now())}function jr(e){if(!e)return"null";if(e.nodeType===Node.ELEMENT_NODE)try{return wr(e,{idName:function(e){return 0!==e.indexOf("ember")}})}catch(e){return"serialization_error"}var t=jr(e.parentElement||void 0);return"".concat(t," > nodeType(").concat(e.nodeType,")")}function zr(e,t,n){var r=[];return e&&"function"==typeof e.getEntriesByType&&(t["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){r.push({entryType:"MEASURE",name:e.name,startTime:e.startTime,duration:e.duration})})),t["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){r.push({entryType:"MARK",name:e.name,startTime:e.startTime,duration:e.duration})})),n&&(e.clearMeasures(),e.clearMarks())),r}function Wr(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}var Kr,Vr=function(){function e(t){xe(this,e),Ue(this,"hostApis",void 0),Ue(this,"hostnameProperties",void 0),Ue(this,"usedHostnames",void 0),Ue(this,"abortController",void 0),Ue(this,"pendingPromises",void 0),this.hostApis=t;var n=t.AbortController;this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new n,this.pendingPromises=new Set}return De(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this;return wt(this.usedHostnames).map((function(t){return e.hostnameProperties[t]||{hostname:t,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var t=this,n=this.hostApis,r=n.AbortController,i=n.Promise,o=bt(wt(this.pendingPromises),i),s=setTimeout((function(){t.abortController.abort(),t.abortController=new r}),e);return o.then((function(){return clearTimeout(s),t.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var t=this;if(!(e.name.indexOf(".licdn.")<0)){var n,r,i=this.hostApis.assign,o=(n=e.name,r=this.hostApis.document,(Mr=Mr||r.createElement("a")).href=n,Mr.hostname);if(this.usedHostnames.add(o),!this.hostnameProperties[o]&&!this.isResourcePossiblyFromCache(e)){var s=this.fetchCdnFromUrl(e.name).then((function(e){var n=i({hostname:o},e);return t.hostnameProperties[o]||(t.hostnameProperties[o]=n),t.pendingPromises.delete(s),n}));this.pendingPromises.add(s)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),Qr=function(){function e(t,n,r,i){xe(this,e),Ue(this,"hostApis",void 0),Ue(this,"statics",void 0),Ue(this,"options",void 0),Ue(this,"allowTimingOrigin",void 0),Ue(this,"collectResourceTimings",void 0),Ue(this,"collectCdnData",void 0),Ue(this,"perfObserver",void 0),Ue(this,"renderTimings",new Map),Ue(this,"urlToTreeId",new Map),Ue(this,"cdnDataProvider",void 0),Ue(this,"observables",new yr),this.hostApis=t,this.statics=n,this.options=r,this.allowTimingOrigin=i,this.collectResourceTimings=r["enable-rs-timing"],this.collectCdnData=r["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new Vr(t))}return De(e,[{key:"recordTreeId",value:function(e,t){this.collectResourceTimings&&this.urlToTreeId.set(function(e,t){return(Mr=Mr||t.createElement("a")).href=e,Mr.href}(t,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,t){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:t,viewId:e,renderStart:Hr(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e){var t=this.renderTimings.get(e);t&&(t.renderEnd=t.renderEnd||Hr(this.hostApis.performance,this.allowTimingOrigin))}},{key:"startObserving",value:function(){var e=this.hostApis,t=e.PerformanceObserver,n=e.performance;this.stopObserving(),t?this.setupPerformanceObserver(t):this.collectResourceTimings&&this.emulateResourceTimingObserver(n),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e;null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collect",value:function(e){var t=this,n=e.isInitial,r=e.immediate,i=this.collectSynchronousData(n);if(r)return i;var o=this.collectAsynchronousData();return"then"in o?o.then((function(e){return(0,t.hostApis.assign)(i,e),i})):i}},{key:"reset",value:function(){var e;this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"collectSynchronousData",value:function(e){var t=this.hostApis,n=t.assign,r=t.PerformanceObserver,i=Object.create(null);return this.statics.pageLoadMode=e?"INITIAL":"PARTIAL",r||(this.observables.userTimingEntries=zr(this.hostApis.performance,this.options,!0),this.collectResourceTimings&&this.processNewResourceTimings()),this.observables.attachTreeIds(this.urlToTreeId),this.urlToTreeId.clear(),n(i,this.observables.getData(),this.snapshot,this.statics),e&&n(i,function(e){if(!e)return{navigationTimingApi:!1};var t=Object.create({});if("function"==typeof e.getEntriesByType){var n=e.getEntriesByType("navigation")[0];n&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof n[e]}))&&(t.htmlMetrics={htmlFetchStart:n.fetchStart,htmlResponseEnd:n.responseEnd,htmlDecodedBodySize:n.decodedBodySize,htmlEncodedBodySize:n.encodedBodySize,htmlTransferSize:n.transferSize}),t.workerStart=n.workerStart)}var r=e.timing,i=e.navigation;return r&&i?(t.navigationTimingApi=!0,Yr.forEach((function(e){e in r&&(t[e]=r[e])})),t.navigationType=i.type,t.redirectCount=i.redirectCount):t.navigationTimingApi=!1,t}(this.hostApis.performance)),n(i,this.collectAsynchronousData(!0)),i}},{key:"collectAsynchronousData",value:function(e){var t=this,n={cdnData:[],usedCDN:this.extractUsedCDN([])};if(e){if(this.collectCdnData){var r=this.cdnDataProvider.getPresentData();n.cdnData=r,n.usedCDN=this.extractUsedCDN(r)}return n}var i=[];return this.collectCdnData&&i.push(this.cdnDataProvider.getDataWhenReady(this.options["async-plugins-timeout"]).then((function(e){n.cdnData=e,n.usedCDN=t.extractUsedCDN(e)}))),i.length>0?bt(i,Promise).then((function(){return n})):n}},{key:"setupPerformanceObserver",value:function(e){var t=this;this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var n=e.entryType,r=e.name,i=e.startTime,o=e.duration;"resource"===n?t.processSingleResourceTiming(e):"mark"===n?t.observables.userTimingEntries.push({entryType:"MARK",name:r,startTime:i,duration:o}):"measure"===n?t.observables.userTimingEntries.push({entryType:"MEASURE",name:r,startTime:i,duration:o}):"longtask"===n&&t.observables.longTasks.push({duration:o,name:r,startTime:i})}))})),this.observables.userTimingEntries=zr(this.hostApis.performance,this.options,!1);var n=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&n.push("resource"),this.options["user-timing-mark-enabled"]&&n.push("mark"),this.options["user-timing-measure-enabled"]&&n.push("measure"),this.perfObserver.observe({entryTypes:n})}},{key:"emulateResourceTimingObserver",value:function(e){var t=this;e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return t.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,t=this.hostApis.performance;"function"==typeof t.getEntriesByType&&"function"==typeof t.clearResourceTimings&&(t.getEntriesByType("resource").forEach((function(t){return e.processSingleResourceTiming(t)})),t.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e){this.collectResourceTimings&&this.observables.resourceTimingEntries.push(e),this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var t=e.filter((function(e){return e.hostname.indexOf("static")>=0})),n=t.length>0?t[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""};return{static_domain:n.provider,http_version:n.httpVersion,ip_version:n.ipVersion}}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:Wr(this.renderTimings),networkInformationMetrics:Jr(this.hostApis.connection)};return this.renderTimings.clear(),e}}]),e}(),Yr=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"];function Jr(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G";case"3g":return"THREE_G";case"4g":return"FOUR_G";default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}!function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(Kr||(Kr={}));var Xr=(Ue(Ne={},"web-ui-framework","EMBER"),Ue(Ne,"app-id","linkedin.rum.tracking"),Ue(Ne,"app-version","unknown"),Ue(Ne,"is-single-page-app",!0),Ue(Ne,"user-timing-mark-enabled",!1),Ue(Ne,"user-timing-measure-enabled",!0),Ue(Ne,"beacon-source","apps"),Ue(Ne,"enable-rs-timing",!0),Ue(Ne,"enable-cdn-tracking",!1),Ue(Ne,"async-plugins-timeout",5e3),Ue(Ne,"beacon-timeout",3e4),Ue(Ne,"enable-memory-measurement",!1),Ue(Ne,"pageKeyPrefix",""),Ne),Zr=function(){function e(t,n,r){xe(this,e),Ue(this,"featureName",void 0),Ue(this,"trackingCore",void 0),Ue(this,"rumConfig",void 0),Ue(this,"observing",!1),Ue(this,"basePageTreeId",void 0),Ue(this,"startPageInstance",void 0),Ue(this,"startMemory",void 0),Ue(this,"reportTimeouts",[]),this.featureName=t,this.trackingCore=n,this.rumConfig=r}return De(e,[{key:"startObserving",value:function(){var t,n=this,r=this.getMemory();r&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance)||gt("unknown"),this.startMemory=r,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return n.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var t={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:Gr(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]};this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},t)}},{key:"createMemoryMarks",value:function(e){var t=this.getMemory(),n=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(n){return{name:n+e,startTime:t[n]}})),r=t.usedJSHeapSize-this.startMemory.usedJSHeapSize;return n.push({name:(r<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(r)},{name:"utilization"+e,startTime:Math.round(t.usedJSHeapSize/t.totalJSHeapSize*100)}),n}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}();Ue(Zr,"checkpoints",[1,3,10,30,90,180,300]);var $r,ei,ti,ni,ri,ii=De((function e(t,n,r){xe(this,e),Ue(this,"webUIFramework",void 0),Ue(this,"timeSource",void 0),Ue(this,"isSinglePageApp",void 0),Ue(this,"appRenderMode",void 0),Ue(this,"isAppRenderFailed",void 0),Ue(this,"pageLoadMode","INITIAL"),Ue(this,"isSSL",void 0),Ue(this,"treeId",void 0),Ue(this,"isFromServiceWorker",void 0),this.webUIFramework=n["web-ui-framework"],this.timeSource=n["beacon-source"],this.isSinglePageApp=n["is-single-page-app"],this.appRenderMode=t["app-render-mode"],this.isAppRenderFailed=t["is-app-render-failed"],this.isSSL="https:"===r.api.location.protocol?1:0,this.treeId=r.treeID,this.isFromServiceWorker=r.isFromServiceWorker})),oi=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},si=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},ai=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},ci=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},li=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},ui=-1,di=function(){return"hidden"===document.visibilityState?0:1/0},hi=function(){ai((function(e){var t=e.timeStamp;ui=t}),!0)},pi=function(){return ui<0&&(ui=di(),hi(),ci((function(){setTimeout((function(){ui=di(),hi()}),0)}))),{get firstHiddenTime(){return ui}}},fi=!1,mi=-1,gi=function(e,t){fi||(function(e,t){var n,r=pi(),i=oi("FCP"),o=function(e){"first-contentful-paint"===e.name&&(a&&a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),n(!0)))},s=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=s?null:si("paint",o);(s||a)&&(n=li(e,i,t),s&&o(s),ci((function(r){i=oi("FCP"),n=li(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,n(!0)}))}))})))}((function(e){mi=e.value})),fi=!0);var n,r=function(t){mi>-1&&e(t)},i=oi("CLS",0),o=0,s=[],a=function(e){if(!e.hadRecentInput){var t=s[0],r=s[s.length-1];o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,s.push(e)):(o=e.value,s=[e]),o>i.value&&(i.value=o,i.entries=s,n())}},c=si("layout-shift",a);c&&(n=li(r,i,t),ai((function(){c.takeRecords().map(a),n(!0)})),ci((function(){o=0,mi=-1,i=oi("CLS",0),n=li(r,i,t)})))},vi={passive:!0,capture:!0},yi=new Date,Ei=function(e,t){$r||($r=t,ei=e,ti=new Date,_i(removeEventListener),bi())},bi=function(){if(ei>=0&&ei<ti-yi){var e={entryType:"first-input",name:$r.type,target:$r.target,cancelable:$r.cancelable,startTime:$r.timeStamp,processingStart:$r.timeStamp+ei};ni.forEach((function(t){t(e)})),ni=[]}},wi=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Ei(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,vi),removeEventListener("pointercancel",r,vi)};addEventListener("pointerup",n,vi),addEventListener("pointercancel",r,vi)}(t,e):Ei(t,e)}},_i=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,wi,vi)}))},Ti=function(e,t){var n,r=pi(),i=oi("FID"),o=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},s=si("first-input",o);n=li(e,i,t),s&&ai((function(){s.takeRecords().map(o),s.disconnect()}),!0),s&&ci((function(){var r;i=oi("FID"),n=li(e,i,t),ni=[],ei=-1,$r=null,_i(addEventListener),r=o,ni.push(r),bi()}))},Si={},Ii=function(e,t){var n,r=pi(),i=oi("LCP"),o=function(e){var t=e.startTime;t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n()},s=si("largest-contentful-paint",o);if(s){n=li(e,i,t);var a=function(){Si[i.id]||(s.takeRecords().map(o),s.disconnect(),Si[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,a,{once:!0,capture:!0})})),ai(a,!0),ci((function(r){i=oi("LCP"),n=li(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,Si[i.id]=!0,n(!0)}))}))}))}},Ci=["LCP","FID","CLS"],ki={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},Ai={},Ri=function(){var e;if(!jn)return"";var t=window.performance,n=void 0;if("function"==typeof(null==t?void 0:t.getEntriesByType)){var r,i=null===(r=window.performance)||void 0===r?void 0:r.getEntriesByType("navigation");(null==i?void 0:i.length)>0&&(n=i[0])}return(null===(e=n)||void 0===e?void 0:e.name)||window.location.href}(),Oi=!1,Ni=[],Li={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"};function Pi(){var e=!0===window.__test__resetWebVitalsState;if(!Oi||e){e&&(Ni=[]),Ci.forEach(xi);var t=Symbol();ri=t,[Ii,Ti,gi].forEach((function(e){return e(Mi.bind(null,t),!0)})),[Ii,Ti,gi].forEach((function(e){return e(Di.bind(null,t))})),Oi=!0}}function xi(e){Ai[e]={name:e,value:-1,updateHistory:[]};var t=Li[e];"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof t&&PerformanceObserver.supportedEntryTypes.indexOf(t)>-1||(Ai[e].value=-2)}function Mi(e,t){if(e===ri){var n=Ai[t.name],r=Gr();n&&(n.updateHistory.push({time:r,data:t}),n.value=t.value),Ni.forEach((function(e){return e(t,r,!1)}))}}function Di(e,t){e===ri&&Ni.forEach((function(e){return e(t,Gr(),!0)}))}var Ui=function(){function e(t,n){xe(this,e),Ue(this,"basePageTreeId",void 0),Ue(this,"basePageKey",void 0),Ue(this,"observing",!1),Ue(this,"appContextMap",new Map),Ue(this,"rumConfig",void 0),Ue(this,"trackingCore",void 0),this.trackingCore=t,this.rumConfig=n}return De(e,[{key:"startObserving",value:function(){var e,t,n=this;Pi(),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(e=this.trackingCore.getCurrentContext())||void 0===e?void 0:e.pageKey)||"_unknown",Ci.forEach((function(e){var t;-2===(null===(t=Ai[e])||void 0===t?void 0:t.value)&&n.reportMetric(e)})),t=this.onMetricUpdate.bind(this),Ni.push(t))}},{key:"stopObserving",value:function(){this.observing=!1}},{key:"onMetricUpdate",value:function(e,t,n){var r;this.observing&&(n?this.reportMetric(e.name):this.appContextMap.set(t,{time:t,url:location.href,pageKey:null===(r=this.trackingCore.getCurrentContext())||void 0===r?void 0:r.pageKey}))}},{key:"reportMetric",value:function(e){var t=Ai[e],n={name:ki[e]||e};"CLS"===e?n.doubleValue=t.value:n.longValue=Math.round(t.value);var r=Ai[e];if(r){var i=function(e,t,n,r,i){var o={basePageTreeId:e,basePageKey:t,basePageUrl:Ri},s=null;switch(n.name){case"LCP":s=function(e,t){var n;if(0===e.updateHistory.length)return null;var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,o=i[i.length-1],s={pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",element:jr(o.element),renderTime:Math.round(o.renderTime),loadTime:Math.round(o.loadTime),size:Math.round(o.size)};return o.url&&(s.url=o.url),s}(n,r);break;case"FID":s=function(e,t){var n;if(0===e.updateHistory.length)return null;var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,o=i[i.length-1];return{pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",processingStart:Math.round(o.processingStart),processingEnd:Math.round(o.processingEnd),target:jr(o.target)}}(n,r);break;case"CLS":s=function(e,t){if(0===e.updateHistory.length)return null;var n=e.updateHistory.map((function(e){return e.data.entries})).flat();if(0===n.length)return null;var r=n.reduce((function(e,t){return e&&e.value>t.value?e:t})),i=e.updateHistory.find((function(e){return e.data.entries.includes(r)})),o=null;r&&r.sources&&r.sources.length&&(o=r.sources.reduce((function(e,t){return e.node&&e.previousRect.width*e.previousRect.height>t.previousRect.width*t.previousRect.height?e:t})));var s,a=t.get(i.time);return o&&a?{shiftCount:n.length,"largestShift.value":r.value,"largestShift.hadRecentInput":r.hadRecentInput,"largestShift.largestSource.node":jr(null===(s=o)||void 0===s?void 0:s.node),"largestShift.pageKey":a.pageKey||"_unknown","largestShift.url":a.url,"largestShift.startTime":Math.round(r.startTime)}:null}(n,r)}if(s){var a={};return i(a,o,s),a}return o}(this.basePageTreeId,this.basePageKey,r,this.appContextMap,this.trackingCore.host.api.assign);n.metadata=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n]="string"==typeof r?r:JSON.stringify(r)})),t}(i)}var o={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[n]};this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},o)}}]),e}();!function(){function e(t,n,r){var i,o;xe(this,e),Ue(this,"core",void 0),Ue(this,"config",void 0),Ue(this,"collector",void 0),Ue(this,"boomerangStart",-1),Ue(this,"webVitalsObserver",void 0),Ue(this,"appMemoryObserver",void 0),Ue(this,"pageMemoryObserver",void 0),Ue(this,"liveTokens",new Set),Ue(this,"stateWM",new WeakMap),Ue(this,"activeToken",void 0),Ue(this,"isInitial",void 0),Ue(this,"beforeHideHandlerBound",this.beforeHideHandler.bind(this)),this.core=r,this.config=function(e,t){for(var n in e)void 0!==t[n]&&(e[n]=t[n]);return e}(r.host.api.assign({},Xr),n);var s="enabled"===(null===(i=(o=this.core.host).__getLixTreatment)||void 0===i?void 0:i.call(o,"pemberly.tracking.time-origin-epoch-time"));this.collector=new Qr(r.host.api,new ii(t,this.config,r.host),this.config,s),this.collector.startObserving(),kt.before("internal:hide",this.beforeHideHandlerBound)}De(e,[{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,t){e&&this.collector.recordTreeId(e,t)}},{key:"recordRenderStart",value:function(e,t){this.collector.recordRenderStart(e,t||e)}},{key:"recordRenderEnd",value:function(e){this.collector.recordRenderEnd(e)}},{key:"start",value:function(){var e,t,n,r;this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.isInitial=void 0===this.isInitial,this.isInitial||this.collector.reset();var i,o=Object.create(null),s="enabled"===(null===(e=(t=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(t,"pemberly.tracking.time-origin-epoch-time"));return this.activeToken=o,this.liveTokens.add(o),this.stateWM.set(o,{isInitial:this.isInitial,startTime:Hr(this.core.host.api.performance,s)}),(this.config["enable-memory-measurement"]||"enabled"===(null===(n=(r=this.core.host).__getLixTreatment)||void 0===n?void 0:n.call(r,"pemberly.tracking.rum-memory-measurement")))&&(null===(i=this.pageMemoryObserver)||void 0===i||i.stopObserving(),this.pageMemoryObserver=new Zr("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new Zr("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),o}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new Ui(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;if(e&&this.activeToken&&this.activeToken===e){var s=this.stateWM.get(e),a="enabled"===(null===(t=(n=this.core.host).__getLixTreatment)||void 0===t?void 0:t.call(n,"pemberly.tracking.time-origin-epoch-time")),c=Hr(this.core.host.api.performance,a);s.endProps={renderCompleteTime:c,isImpactedByHiddenWindow:i,rumKey:o};var l=this.activeToken;s.fireRumEventTimeout=setTimeout((function(){var e=r.collector.collect({isInitial:s.isInitial});"then"in e?e.then((function(e){r.fireRumEvent(e,l)})):r.fireRumEvent(e,l)}),this.config["beacon-timeout"]),this.activeToken=void 0}else kt.emit("internal:error",{tags:["core-web-tracking:rum:end"],reason:new Error("RUM end: rum token passed is invalid")})}},{key:"destroy",value:function(){var e,t,n;kt.offBefore("internal:hide",this.beforeHideHandlerBound),this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(t=this.appMemoryObserver)||void 0===t||t.stopObserving(),null===(n=this.pageMemoryObserver)||void 0===n||n.stopObserving(),this.core.destroy()}},{key:"abort",value:function(e){var t;if(!e||this.activeToken!==e)throw new Error("RUM abort: rum token passed is invalid");if(null!==(t=this.stateWM.get(e))&&void 0!==t&&t.endProps)throw new Error("RUM abort: Can't abort a session that was already ended");this.activeToken=void 0,this.stateWM.delete(e),this.liveTokens.delete(e)}},{key:"flushEndedSessions",value:function(){var e=this;this.liveTokens.forEach((function(t){var n=e.stateWM.get(t);if(n.endProps){var r=e.collector.collect({isInitial:n.isInitial,immediate:!0});e.fireRumEvent(r,t)}}))}},{key:"fireRumEvent",value:function(e,t){if(this.stateWM.get(t)){var n=this.core.host.api.assign,r=this.stateWM.get(t),i=r.startTime,o=r.endProps;if(o){var s=o.renderCompleteTime,a=o.isImpactedByHiddenWindow,c=o.rumKey,l=this.boomerangStart=e.navigationStart||this.boomerangStart,u=e.navigationStart||i,d=s-u,h=this.config["app-version"];this.core.fireEvent({appId:this.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(t){return n({pageKey:c||t.pageKey,isImpactedByHiddenWindow:a,appVersion:h,timeDone:d,navigationStart:u,boomerangStart:l,renderCompleteTime:s},e)})),r.fireRumEventTimeout&&clearTimeout(r.fireRumEventTimeout),this.liveTokens.delete(t),this.stateWM.delete(t)}else this.abort(t)}}},{key:"beforeHideHandler",value:function(){this.flushEndedSessions()}}])}();var Bi="undefined"!=typeof window&&"undefined"!=typeof performance,Fi="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG");function qi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax",n=arguments.length>2?arguments[2]:void 0;e.fireTrackingEvent("PageViewEvent",Hi(n,t))}function Hi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax";const n=j(document),r=z(document),i=Oe();let o={};return i&&(o.theme=i.toUpperCase()),r&&(o.interfaceLocale=r),e&&(o.pageKey=e),{header:{},requestHeader:o,pageType:t,trackingInfo:{clientTimestamp:Date.now(),pageTag:n}}}function Gi(e,t){const n=z(document),r={};n&&(r.interfaceLocale=n);const i={header:{},requestHeader:r,moduleNames:t};e.fireTrackingEvent("ViewModuleImpressionEvent",i)}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.state&&e.state.currentPageInstance||{};let{trackingId:n}=t;return n&&!zi(n)&&e.convertUuidTrackingIdToBase64&&(n=e.convertUuidTrackingIdToBase64(n)),"".concat(t.pageUrn,";").concat(n)}function zi(e){return"string"==typeof e&&"=="===e.slice(-2)}function Wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Ie({},e),n=L(window.location.href,"originalReferer")||L(window.location.href,"original_referer");return n&&(t.requestHeader=Ie(Ie({},t.requestHeader),{},{referer:n})),Ki(t)}function Ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Ie({},e),n=Oe();return n&&(t.requestHeader=Ie(Ie({},t.requestHeader),{},{theme:n.toUpperCase()})),t}!function(){function e(t,n){xe(this,e),Ue(this,"featureKey",void 0),Ue(this,"productName",void 0),Ue(this,"endPageInstance",void 0),Ue(this,"startPageInstance",void 0),Ue(this,"isCanceled",!1),Ue(this,"featureIdentifier",void 0),Ue(this,"name",void 0),Ue(this,"startTime",void 0),Ue(this,"duration",void 0),Ue(this,"marks",[]),Ue(this,"spanStarts",new Map),Ue(this,"spans",[]),Ue(this,"isSpanContainer",!1),Ue(this,"basePageTreeId",void 0),Ue(this,"isClosed",!1),this.featureKey=t,this.productName=n;var r=n?"::".concat(n):"";this.featureIdentifier="".concat(t).concat(r),this.name=t}De(e,[{key:"start",value:function(e){this.startPageInstance=e,Bi&&(this.startTime=Gr(),Fi&&performance.mark("LI:".concat(this.featureIdentifier,"-start")))}},{key:"mark",value:function(e){Bi&&(this.marks.push({name:e,startTime:Gr()}),Fi&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))))}},{key:"spanStart",value:function(e){Bi&&(this.spanStarts.set(e,Gr()),Fi&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,t){if(Bi&&this.spanStarts.has(e)){var n=this.spanStarts.get(e);this.spans.push({name:t||e,startTime:n,duration:Gr()-n}),Fi&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(t||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")))}}},{key:"deleteSpan",value:function(e){if(this.isClosed)throw new Error("[rum measurement] spans can only be deleted before the feature performance measurement ends.");for(var t=this.spans.length-1;t>=0;t--)if(this.spans[t].name===e)return void this.spans.splice(t,1)}},{key:"end",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isClosed){if(this.isSpanContainer=t,this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'));this.endPageInstance=e,Bi&&(this.duration=Gr()-this.startTime,Fi&&!this.isSpanContainer&&(performance.mark("LI:".concat(this.featureIdentifier,"-end")),performance.measure("LI:".concat(this.featureIdentifier),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-end"))),this.cleanUp())}}},{key:"cancel",value:function(){this.isCanceled||(this.isCanceled=!0)}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"toEventBody",value:function(){if(Bi){var e={name:this.featureKey,startTime:this.startTime,duration:this.isSpanContainer?-1:this.duration,basePageTreeId:this.basePageTreeId,startPageInstance:this.startPageInstance||gt("unknown"),marks:this.marks,spans:this.spans};return this.productName&&(e.productName=this.productName),e}}},{key:"check",value:function(){if(Bi){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'));if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'));if(this.isSpanContainer&&0===this.spans.length)throw new Error("The span container should have at least one span");for(var e=0,t=["startTime","duration","basePageTreeId"];e<t.length;e++){var n=t[e];if(void 0===this[n])throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is missing "').concat(n,'"'))}}}},{key:"cleanUp",value:function(){this.spanStarts.clear()}}])}();const{ENTER:Vi,ESCAPE:Qi}=Q,Yi="modal__overlay--visible",Ji="no-scroll",Xi="top-level-modal-container";class Zi{constructor(e){let{enablePageViewTracking:t=!1,shouldHideModal:n=(()=>!1),triggerByOutletEl:r=!0,shouldMoveToTopContainer:i=!0,events:o={},focusElement:s,pageKey:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No modal element passed in");this._el=e,this._parentNode=this._el.parentNode,i&&(this._topLevelContainer=this._getTopLevelContainer()),this._wrapperEl=this._el.querySelector(".".concat("modal__wrapper")),this._overlayEl=this._el.querySelector(".".concat("modal__overlay")),o&&(this._events=o),r&&(this._outletEls=this._getOutletEls()),this._exitButtonEl=this._el.querySelector(".".concat("modal__dismiss")),this._onKeyDownEvent=e=>this._onKeyDown(e),this._enablePageViewTracking=t,this._pageKey=a,this._shouldHideModal=n,this._shouldMoveToTopContainer=i;this._el.querySelector("[id='".concat("modalNoDismiss","']"))&&(this._isModalNonDismissible=!0),this._focusElement=s,r&&this._outletEls.forEach((e=>{e.addEventListener("click",(()=>this.open()))})),this._isModalNonDismissible||(this._exitButtonEl&&this._exitButtonEl.addEventListener("click",(()=>this.close())),this._overlayEl.addEventListener("click",this._handleOverlayClick.bind(this))),this._focusTrap=new Te(this._wrapperEl)}_getOutletEls(){const e=this._el.dataset.outlet,t=[...("default-outlet"===e?this._parentNode:document).querySelectorAll('[data-modal="'.concat(e,'"]'))];if(!t.length)throw new Error("No outlet was found with a data-modal attribute equal to the provided dataCustomOutlet param ".concat(e));return t}_getTopLevelContainer(){const e=document.querySelector(".".concat(Xi));if(!e){const e=document.createElement("div");return e.className=Xi,document.body.appendChild(e)}return e}_handleOverlayClick(e){e.target===this._wrapperEl||this._wrapperEl.contains(e.target)||this.close()}_onKeyDown(e){const t=J(e.key),n=t===Vi&&document.activeElement===this._exitButtonEl;(t===Qi||n)&&(this._isModalNonDismissible||this.close(),e.preventDefault())}open(){let{focusElement:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._shouldHideModal())return this._focusElement=e||this._focusElement,this._previouslyFocusedEl=document.activeElement,this._overlayEl.classList.add(Yi),this._shouldMoveToTopContainer&&this._topLevelContainer.appendChild(this._el),this.noScroll(),document.addEventListener("keydown",this._onKeyDownEvent),U(this._el,"open"),this._wrapperEl&&this._wrapperEl.focus(),this._focusTrap.init(),this._enablePageViewTracking&&window.tracking?window.tracking.then((e=>{qi(e,"ajax",this._pageKey||"".concat(this._el.id))})):(U(this._wrapperEl,"afterOpen"),Promise.resolve());U(this._el,"didNotOpen")}async close(){var e,t;this._events.onBeforeClose&&await(null===(e=this._events)||void 0===e||null===(t=e.onBeforeClose)||void 0===t?void 0:t.call(e,this._wrapperEl));this._overlayEl.classList.remove(Yi),this._shouldMoveToTopContainer&&this._parentNode.appendChild(this._el),this.removeNoScroll(),document.removeEventListener("keydown",this._onKeyDownEvent),U(this._el,"close"),setTimeout((()=>{var e;(null===(e=this._focusElement)||void 0===e?void 0:e.focus())||this._previouslyFocusedEl.focus()}),50),this._focusTrap.tearDown()}noScroll(){document.body.classList.add(Ji)}removeNoScroll(){document.body.classList.remove(Ji)}}class $i{constructor(e){if(!e)throw Error("An element must be provided to SidePanel");this.el=e,this.modalEl=this.el.querySelector(".modal"),this.modal=new Zi(this.modalEl,{events:this._events()}),this._onAfterOpen()}_onAfterOpen(){this.modalEl.addEventListener("afterOpen",(e=>{e.target.classList.remove("translate-x-full")}))}_events(){return{onBeforeClose:e=>new Promise((t=>{e.classList.add("translate-x-full"),setTimeout((()=>{t()}),330)}))}}}const eo="member-nav-header__search--focused";class to{constructor(){const e=document.querySelector(".member-nav-menu");if(!e)throw Error("The member header should have a dropdown element");const t=document.querySelector('[data-id="member-nav-header__link-item-me"]');this.collapsibleDropdown=new pe(e,{dropdownTriggerEl:t}),this.searchEl=document.querySelector('[data-id="member-nav-header__search"]'),this.searchEl&&(this.searchEl.addEventListener("focusin",(()=>this.searchEl.classList.add(eo))),this.searchEl.addEventListener("focusout",(()=>this.searchEl.classList.remove(eo)))),this.sidePanelEl=document.querySelector(".sidepanel-menu"),this.sidePanelEl&&(this.sidePanel=new $i(this.sidePanelEl))}}function no(e,t){t=t||"log";if("undefined"!=typeof window&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}const ro=/ /g,io=/[\s\u0000<>"]|%00/,oo=/\\/,so=/([.]|%2e){2}/i;let ao=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function co(e){let t,n="invalid://";if("string"!=typeof e)return no("jSecure Warning: url must be a string","error"),n;if(t=e.trim(),t.indexOf(" ")>-1&&(no("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(ro,"+")),!ao.test(t))return no("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n;if(io.test(t))return no("jSecure Error: not valid url character found in url: "+e,"error"),n;let r,i=t.split("?")[0],o=!1;try{r=decodeURI(i)}catch(e){o=!0}return o?(no("jSecure Error: malformed url path detected: "+i),n):oo.test(i)||so.test(i)||so.test(r)?(no("jSecure Error: malicious data found in url path: "+i,"error"),n):e}const lo={redirect(e){window&&(window.location.href=e)}};function uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.innerWidth<=769}function ho(e){return e.scrollHeight>e.offsetHeight}const po="hidden",fo="aria-hidden";function mo(e,t){const n=R(e);for(let e=0;e<n.length;e++)n[e]&&1===n[e].nodeType&&t(n[e])}function go(e){yo([e])}function vo(e){Eo([e])}function yo(e){mo(e,(e=>{e.classList.add(po),e.setAttribute(fo,"true")}))}function Eo(e){mo(e,(e=>{e.classList.remove(po),e.setAttribute(fo,"false")}))}function bo(){const e=document.querySelector('meta[name="pillar"]');return e?e.getAttribute("content"):""}function wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r=null==n?void 0:n.querySelector(".".concat(e));if(r&&ho(r)){const i=n.querySelector(t);null==i||i.classList.remove("invisible"),null==i||i.addEventListener("click",(()=>{r.classList.remove(e),i.classList.add("invisible")}))}}const _o="prev",To="next",So="slide-list__list--dragging",Io="slide-list__indicator-button-container",Co="slide-list__indicator--selected";class ko{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)throw new Error("No element passed in");this._el=e,this._previousButton=e.querySelector(".".concat('slide-list__nav-button[data-direction="prev"]')),this._nextButton=e.querySelector(".".concat('slide-list__nav-button[data-direction="next"]')),this._listEl=e.querySelector(".slide-list__list"),this._slideNavDisabled="true"===this._el.dataset.disabled,this._dragLimit=this._listEl.offsetWidth,this._items=[...this._listEl.children],this._lock={},this._currentPage=t,this._isRtl="rtl"===document.body.dir,this._isMinimalNav=e.querySelector(".".concat("slide-list__header-nav--minimal")),this._prevTabIndexMap=new Map,this._boundFireScrollEvent=this._fireScrollEvent.bind(this),this._indicatorElement=e.querySelector(".".concat(Io)),this._indicatorClickHandler=this._handleIndicatorClick.bind(this),!("ontouchstart"in window)&&this._slideNavDisabled||(this._initCalc(),window.addEventListener("resize",this._handleWindowResize.bind(this)),"ontouchstart"in window&&(this._el.addEventListener("touchstart",this._handleTouchStart.bind(this)),this._el.addEventListener("touchmove",this._handleTouchMove.bind(this)),this._el.addEventListener("touchend",this._handleTouchEnd.bind(this))),e.querySelector(".slide-list__header-nav")&&this._el.addEventListener("click",this._handleScrollAction.bind(this)))}next(e){return e=e||1,this._currentPage+e<=this._pageTranslates.length-1&&(this._currentPage+=e,this._updateSlideButtons(),this._updateListPosition(),this._updateFocusableElements(),this._dispatchPageChangeEvent()),this._currentPage}prev(e){return e=e||1,this._currentPage-e>=0&&(this._currentPage-=e,this._updateSlideButtons(),this._updateListPosition(),this._updateFocusableElements(),this._dispatchPageChangeEvent()),this._currentPage}goToItem(e){const t=Number(e)-this._currentPage;if(0===t)return this._currentPage;t<0?this.prev(Math.abs(t)):this.next(t)}_handleIndicatorClick(e){const t=e.target.closest("[data-position]");t&&this.goToItem(t.dataset.position)}_handleWindowResize(){this._isResizing||(this._isResizing=!0,window.requestAnimationFrame(this._initCalc.bind(this)))}_updateIndicator(){this._indicatorElement&&(this._pageItems.length===this._items.length?(vo(this._indicatorElement),this._indicatorElement.isActive=!0,this._indicatorElement.addEventListener("click",this._indicatorClickHandler)):(go(this._indicatorElement),this._indicatorElement.isActive=!1,this._indicatorElement.removeEventListener("click",this._indicatorClickHandler)))}_initCalc(){this._pageTranslates=this._getPageTranslates(),this._pageTranslates[this._currentPage]||(this._currentPage=0),this._updateIndicator(),this._updateSlideButtons(),this._updateListPosition(),this._isResizing=!1,this._updateFocusableElements()}_getPageTranslates(){const e=this._listEl.offsetWidth,t=this._listEl.scrollWidth,n=this._isRtl?e-this._items[0].offsetLeft-this._items[0].offsetWidth:this._items[0].offsetLeft,r=t-e;let i=[0];const o=[new Set],s=[];let a=0;for(let t=0;t<this._items.length;t+=1){const c=i[i.length-1],l=o[i.length-1],u=this._items[t].offsetLeft,d=this._items[t].offsetWidth;let h=Math.abs(this._isRtl?u+d:u),p=Math.abs(this._isRtl?u:u+d);if(s.push(h),this._isRtl&&u>=0)l.add(this._items[t]);else if(0===h&&0===n||0===a)a=p,l.add(this._items[t]);else{if(p>c+e){if(h>=r){o.push(new Set(this._items.slice(t)));break}i.push((this._isRtl?a:h)-n),o.push(new Set([this._items[t]]))}else l.add(this._items[t]);a=p}}return i.push(r),s.forEach(((e,t)=>{e>=r&&o[o.length-1].add(this._items[t])})),this._pageItems=o,i}_updateFocusableElements(){const e=this._pageItems[this._currentPage],t=this._items.filter((t=>!e.has(t)));for(const e of this._items)e.removeAttribute("aria-hidden");for(const[e,t]of this._prevTabIndexMap)null===t?e.removeAttribute("tabindex"):e.setAttribute("tabindex",t);for(const e of t){e.setAttribute("aria-hidden","true");e.querySelectorAll(ie).forEach((e=>{const t=e.getAttribute("tabindex");this._prevTabIndexMap.set(e,t),e.setAttribute("tabindex","-1")}))}}_handleScrollAction(e){const t=T(e.target,".slide-list__nav-button"),n=t&&t.dataset.direction;n&&(this._listEl.addEventListener("transitionend",this._boundFireScrollEvent),n===_o?this.prev():n===To&&this.next())}_fireScrollEvent(){U(window,"scroll"),this._listEl.removeEventListener("transitionend",this._boundFireScrollEvent)}_updateListPosition(){this._updateTranslateXY(this._isRtl?this._pageTranslates[this._currentPage]:-this._pageTranslates[this._currentPage],0)}_updateIndicatorButtons(){if(this._indicatorElement&&this._indicatorElement.isActive){const e=this._el.querySelector(".slide-list__indicator-button-container > .slide-list__indicator--selected");e&&(e.classList.remove(Co),e.setAttribute("aria-current",!1));const t=this._el.querySelector(".".concat(Io," > :nth-child(").concat(this._currentPage+1,")"));t.classList.add(Co),t.setAttribute("aria-current",!0)}}_updateSlideButtons(){if(this._previousButton&&this._nextButton){if(this._previousButton.disabled=!1,this._nextButton.disabled=!1,!this._pageTranslates[1]||this._pageTranslates[1]<0)return this._previousButton.disabled=!0,void(this._nextButton.disabled=!0);0===this._currentPage&&(this._previousButton.disabled=!0),this._currentPage!==this._pageTranslates.length-1&&0!==this._pageTranslates.length||(this._nextButton.disabled=!0)}this._updateIndicatorButtons()}_resetTouchEvents(){this._dragging=!1,this._dragCanceled=!1,this._listEl.classList.remove(So),this._lock.left=this._isRtl?this._currentPage===this._pageTranslates.length-1:0===this._currentPage,this._lock.right=this._isRtl?0===this._currentPage:this._currentPage===this._pageTranslates.length-1,this._dragThresholdMet=!1,this._t={current:{x:0,y:0}}}_handleTouchStart(e){this._resetTouchEvents(),this._t.start=this._getEventPosition(e),this._dragging=!0,this._listEl.classList.add(So)}_handleTouchMove(e){if(!this._dragging||this._dragCanceled)return;let t=this._getEventPosition(e);this._t.current={x:this._t.start.x-t.x,y:this._t.start.y-t.y},this._canDrag()?(this._dragThresholdMet=!0,e.preventDefault(),this._lock.left&&this._t.current.x<0?this._t.current.x=this._t.current.x*-this._dragLimit/(this._t.current.x-this._dragLimit):this._lock.right&&this._t.current.x>0&&(this._t.current.x=this._t.current.x*this._dragLimit/(this._t.current.x+this._dragLimit)),this._updateTranslateXY((this._isRtl?this._pageTranslates[this._currentPage]:-this._pageTranslates[this._currentPage])-this._t.current.x)):this._isVerticalScrolling()&&(this._dragCanceled=!0)}_handleTouchEnd(){this._dragging&&(!this._dragCanceled&&Math.abs(this._t.current.x)>20&&(this._t.current.x>0&&!this._lock.right?this._isRtl?this._currentPage--:this._currentPage++:this._t.current.x<0&&!this._lock.left&&(this._isRtl?this._currentPage++:this._currentPage--),this._dispatchPageChangeEvent()),this._resetTouchEvents(),this._updateSlideButtons(),this._updateListPosition())}_getEventPosition(e){return{x:e.touches[0].clientX,y:e.touches[0].clientY}}_isVerticalScrolling(){return Math.abs(this._t.current.x)<Math.abs(this._t.current.y)&&Math.abs(this._t.current.y)>10}_canDrag(){return this._dragThresholdMet||Math.abs(this._t.current.x)>Math.abs(this._t.current.y)&&Math.abs(this._t.current.x)>10}_updateTranslateXY(e,t){this._listEl.style.transform="translate3d(".concat(e||0,"px, ").concat(t||0,"px, 0px)")}_dispatchPageChangeEvent(){U(this._el,"pagechange",{pageNumber:this._currentPage})}}var Ao=Object.hasOwnProperty,Ro=Object.setPrototypeOf,Oo=Object.isFrozen,No=Object.getPrototypeOf,Lo=Object.getOwnPropertyDescriptor,Po=Object.freeze,xo=Object.seal,Mo=Object.create,Do="undefined"!=typeof Reflect&&Reflect,Uo=Do.apply,Bo=Do.construct;Uo||(Uo=function(e,t,n){return e.apply(t,n)}),Po||(Po=function(e){return e}),xo||(xo=function(e){return e}),Bo||(Bo=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var Fo,qo=Jo(Array.prototype.forEach),Ho=Jo(Array.prototype.pop),Go=Jo(Array.prototype.push),jo=Jo(String.prototype.toLowerCase),zo=Jo(String.prototype.match),Wo=Jo(String.prototype.replace),Ko=Jo(String.prototype.indexOf),Vo=Jo(String.prototype.trim),Qo=Jo(RegExp.prototype.test),Yo=(Fo=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bo(Fo,t)});function Jo(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Uo(e,t,r)}}function Xo(e,t){Ro&&Ro(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=jo(r);i!==r&&(Oo(t)||(t[n]=i),r=i)}e[r]=!0}return e}function Zo(e){var t=Mo(null),n=void 0;for(n in e)Uo(Ao,e,[n])&&(t[n]=e[n]);return t}function $o(e,t){for(;null!==e;){var n=Lo(e,t);if(n){if(n.get)return Jo(n.get);if("function"==typeof n.value)return Jo(n.value)}e=No(e)}return function(e){return console.warn("fallback value for",e),null}}var es=Po(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ts=Po(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ns=Po(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rs=Po(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),is=Po(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),os=Po(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ss=Po(["#text"]),as=Po(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),cs=Po(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ls=Po(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),us=Po(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ds=xo(/\{\{[\s\S]*|[\s\S]*\}\}/gm),hs=xo(/<%[\s\S]*|[\s\S]*%>/gm),ps=xo(/^data-[\-\w.\u00B7-\uFFFF]/),fs=xo(/^aria-[\-\w]+$/),ms=xo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gs=xo(/^(?:\w+script|data):/i),vs=xo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Es(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var bs=function(){return"undefined"==typeof window?null:window},ws=function(e,t){if("object"!==(void 0===e?"undefined":ys(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};var _s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bs(),n=function(t){return e(t)};if(n.version="2.3.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,c=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=c.prototype,g=$o(m,"cloneNode"),v=$o(m,"nextSibling"),y=$o(m,"childNodes"),E=$o(m,"parentNode");if("function"==typeof s){var b=i.createElement("template");b.content&&b.content.ownerDocument&&(i=b.content.ownerDocument)}var w=ws(f,r),_=w?w.createHTML(""):"",T=i,S=T.implementation,I=T.createNodeIterator,C=T.createDocumentFragment,k=T.getElementsByTagName,A=r.importNode,R={};try{R=Zo(i).documentMode?i.documentMode:{}}catch(e){}var O={};n.isSupported="function"==typeof E&&S&&void 0!==S.createHTMLDocument&&9!==R;var N=ds,L=hs,P=ps,x=fs,M=gs,D=vs,U=ms,B=null,F=Xo({},[].concat(Es(es),Es(ts),Es(ns),Es(is),Es(ss))),q=null,H=Xo({},[].concat(Es(as),Es(cs),Es(ls),Es(us))),G=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,z=null,W=!0,K=!0,V=!1,Q=!1,Y=!1,J=!1,X=!1,Z=!1,$=!1,ee=!1,te=!0,ne=!0,re=!1,ie={},oe=null,se=Xo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=null,ce=Xo({},["audio","video","img","source","image","track"]),le=null,ue=Xo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml",fe=pe,me=!1,ge=void 0,ve=["application/xhtml+xml","text/html"],ye="text/html",Ee=void 0,be=null,we=i.createElement("form"),_e=function(e){return e instanceof RegExp||e instanceof Function},Te=function(e){be&&be===e||(e&&"object"===(void 0===e?"undefined":ys(e))||(e={}),e=Zo(e),B="ALLOWED_TAGS"in e?Xo({},e.ALLOWED_TAGS):F,q="ALLOWED_ATTR"in e?Xo({},e.ALLOWED_ATTR):H,le="ADD_URI_SAFE_ATTR"in e?Xo(Zo(ue),e.ADD_URI_SAFE_ATTR):ue,ae="ADD_DATA_URI_TAGS"in e?Xo(Zo(ce),e.ADD_DATA_URI_TAGS):ce,oe="FORBID_CONTENTS"in e?Xo({},e.FORBID_CONTENTS):se,j="FORBID_TAGS"in e?Xo({},e.FORBID_TAGS):{},z="FORBID_ATTR"in e?Xo({},e.FORBID_ATTR):{},ie="USE_PROFILES"in e&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,K=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,Z=e.RETURN_DOM||!1,$=e.RETURN_DOM_FRAGMENT||!1,ee=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,te=!1!==e.SANITIZE_DOM,ne=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||U,fe=e.NAMESPACE||pe,e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(G.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ge=ge=-1===ve.indexOf(e.PARSER_MEDIA_TYPE)?ye:e.PARSER_MEDIA_TYPE,Ee="application/xhtml+xml"===ge?function(e){return e}:jo,Q&&(K=!1),$&&(Z=!0),ie&&(B=Xo({},[].concat(Es(ss))),q=[],!0===ie.html&&(Xo(B,es),Xo(q,as)),!0===ie.svg&&(Xo(B,ts),Xo(q,cs),Xo(q,us)),!0===ie.svgFilters&&(Xo(B,ns),Xo(q,cs),Xo(q,us)),!0===ie.mathMl&&(Xo(B,is),Xo(q,ls),Xo(q,us))),e.ADD_TAGS&&(B===F&&(B=Zo(B)),Xo(B,e.ADD_TAGS)),e.ADD_ATTR&&(q===H&&(q=Zo(q)),Xo(q,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Xo(le,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(oe===se&&(oe=Zo(oe)),Xo(oe,e.FORBID_CONTENTS)),ne&&(B["#text"]=!0),Y&&Xo(B,["html","head","body"]),B.table&&(Xo(B,["tbody"]),delete j.tbody),Po&&Po(e),be=e)},Se=Xo({},["mi","mo","mn","ms","mtext"]),Ie=Xo({},["foreignobject","desc","title","annotation-xml"]),Ce=Xo({},ts);Xo(Ce,ns),Xo(Ce,rs);var ke=Xo({},is);Xo(ke,os);var Ae=function(e){var t=E(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});var n=jo(e.tagName),r=jo(t.tagName);if(e.namespaceURI===he)return t.namespaceURI===pe?"svg"===n:t.namespaceURI===de?"svg"===n&&("annotation-xml"===r||Se[r]):Boolean(Ce[n]);if(e.namespaceURI===de)return t.namespaceURI===pe?"math"===n:t.namespaceURI===he?"math"===n&&Ie[r]:Boolean(ke[n]);if(e.namespaceURI===pe){if(t.namespaceURI===he&&!Ie[r])return!1;if(t.namespaceURI===de&&!Se[r])return!1;var i=Xo({},["title","style","font","a","script"]);return!ke[n]&&(i[n]||!Ce[n])}return!1},Re=function(e){Go(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=_}catch(t){e.remove()}}},Oe=function(e,t){try{Go(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Go(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!q[e])if(Z||$)try{Re(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ne=function(e){var t=void 0,n=void 0;if(X)e="<remove></remove>"+e;else{var r=zo(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=w?w.createHTML(e):e;if(fe===pe)try{t=(new p).parseFromString(o,ge)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(fe,"template",null);try{t.documentElement.innerHTML=me?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(i.createTextNode(n),s.childNodes[0]||null),fe===pe?k.call(t,Y?"html":"body")[0]:Y?t.documentElement:s},Le=function(e){return I.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Pe=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},xe=function(e){return"object"===(void 0===a?"undefined":ys(a))?e instanceof a:e&&"object"===(void 0===e?"undefined":ys(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Me=function(e,t,r){O[e]&&qo(O[e],(function(e){e.call(n,t,r,be)}))},De=function(e){var t=void 0;if(Me("beforeSanitizeElements",e,null),Pe(e))return Re(e),!0;if(zo(e.nodeName,/[\u0080-\uFFFF]/))return Re(e),!0;var r=Ee(e.nodeName);if(Me("uponSanitizeElement",e,{tagName:r,allowedTags:B}),!xe(e.firstElementChild)&&(!xe(e.content)||!xe(e.content.firstElementChild))&&Qo(/<[/\w]/g,e.innerHTML)&&Qo(/<[/\w]/g,e.textContent))return Re(e),!0;if("select"===r&&Qo(/<template/i,e.innerHTML))return Re(e),!0;if(!B[r]||j[r]){if(ne&&!oe[r]){var i=E(e)||e.parentNode,o=y(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(g(o[s],!0),v(e))}if(!j[r]&&Be(r)){if(G.tagNameCheck instanceof RegExp&&Qo(G.tagNameCheck,r))return!1;if(G.tagNameCheck instanceof Function&&G.tagNameCheck(r))return!1}return Re(e),!0}return e instanceof c&&!Ae(e)?(Re(e),!0):"noscript"!==r&&"noembed"!==r||!Qo(/<\/no(script|embed)/i,e.innerHTML)?(Q&&3===e.nodeType&&(t=e.textContent,t=Wo(t,N," "),t=Wo(t,L," "),e.textContent!==t&&(Go(n.removed,{element:e.cloneNode()}),e.textContent=t)),Me("afterSanitizeElements",e,null),!1):(Re(e),!0)},Ue=function(e,t,n){if(te&&("id"===t||"name"===t)&&(n in i||n in we))return!1;if(K&&!z[t]&&Qo(P,t));else if(W&&Qo(x,t));else if(!q[t]||z[t]){if(!(Be(e)&&(G.tagNameCheck instanceof RegExp&&Qo(G.tagNameCheck,e)||G.tagNameCheck instanceof Function&&G.tagNameCheck(e))&&(G.attributeNameCheck instanceof RegExp&&Qo(G.attributeNameCheck,t)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(t))||"is"===t&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Qo(G.tagNameCheck,n)||G.tagNameCheck instanceof Function&&G.tagNameCheck(n))))return!1}else if(le[t]);else if(Qo(U,Wo(n,D,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ko(n,"data:")||!ae[e]){if(V&&!Qo(M,Wo(n,D,"")));else if(n)return!1}else;return!0},Be=function(e){return e.indexOf("-")>0},Fe=function(e){var t=void 0,r=void 0,i=void 0,o=void 0;Me("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(o=s.length;o--;){var c=t=s[o],l=c.name,u=c.namespaceURI;if(r=Vo(t.value),i=Ee(l),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,Me("uponSanitizeAttribute",e,a),r=a.attrValue,!a.forceKeepAttr&&(Oe(l,e),a.keepAttr))if(Qo(/\/>/i,r))Oe(l,e);else{Q&&(r=Wo(r,N," "),r=Wo(r,L," "));var d=Ee(e.nodeName);if(Ue(d,i,r))try{u?e.setAttributeNS(u,l,r):e.setAttribute(l,r),Ho(n.removed)}catch(e){}}}Me("afterSanitizeAttributes",e,null)}},qe=function e(t){var n=void 0,r=Le(t);for(Me("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Me("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof o&&e(n.content),Fe(n));Me("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,i){var s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;if((me=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xe(e)){if("function"!=typeof e.toString)throw Yo("toString is not a function");if("string"!=typeof(e=e.toString()))throw Yo("dirty is not a string, aborting")}if(!n.isSupported){if("object"===ys(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(xe(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Te(i),n.removed=[],"string"==typeof e&&(re=!1),re){if(e.nodeName){var h=Ee(e.nodeName);if(!B[h]||j[h])throw Yo("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(c=(s=Ne("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!Z&&!Q&&!Y&&-1===e.indexOf("<"))return w&&ee?w.createHTML(e):e;if(!(s=Ne(e)))return Z?null:ee?_:""}s&&X&&Re(s.firstChild);for(var p=Le(re?e:s);l=p.nextNode();)3===l.nodeType&&l===u||De(l)||(l.content instanceof o&&qe(l.content),Fe(l),u=l);if(u=null,re)return e;if(Z){if($)for(d=C.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return q.shadowroot&&(d=A.call(r,d,!0)),d}var f=Y?s.outerHTML:s.innerHTML;return Q&&(f=Wo(f,N," "),f=Wo(f,L," ")),w&&ee?w.createHTML(f):f},n.setConfig=function(e){Te(e),J=!0},n.clearConfig=function(){be=null,J=!1},n.isValidAttribute=function(e,t,n){be||Te({});var r=Ee(e),i=Ee(t);return Ue(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(O[e]=O[e]||[],Go(O[e],t))},n.removeHook=function(e){O[e]&&Ho(O[e])},n.removeHooks=function(e){O[e]&&(O[e]=[])},n.removeAllHooks=function(){O={}},n}(),Ts=_s;const Ss={ADD_TAGS:["#comment","li-icon","icon","iframe"],ADD_ATTR:["target"],FORCE_BODY:!0,RETURN_DOM:!0};function Is(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Cs(null,e,t);return n.innerHTML}function Cs(e,t){let{ADD_TAGS:n=[],ADD_ATTR:r=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Ie({},Ss);i.ADD_TAGS=[...i.ADD_TAGS,...n],i.ADD_ATTR=[...i.ADD_ATTR,...r];const o=Ts.sanitize(t,i);return e&&e.nodeType===Node.ELEMENT_NODE&&(e.innerHTML="",e.append(...o.childNodes)),o}var ks=Object.freeze({__proto__:null,sanitizedMarkupOptions:Ss,getSanitizedMarkup:Is,setSanitizedMarkup:Cs}),As="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",Rs=function(){if("undefined"==typeof document)return!0;return"textContent"in document.createElement("div")}()?"textContent":"innerText",Os=["b","del","em","i","s","strong","sub","sup"],Ns=Os.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),Ls=[As,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|");function Ps(){}var xs,Ms,Ds=(Ms=/[&<>"'\u0000\\=]/g,xs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(Ms,(function(e){return xs[e]}))}),Us=function(){var e,t,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var r={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(i){return null==i?null:(i+"").replace(n,(function(n,i,o,s){return i?(a=i,r.hasOwnProperty(a)?r[a]:(e.innerHTML="&"+a+";",c=e[Rs],r[a]=c,c)):o||s?t(parseInt(o||s,o?16:10)||65533):"";var a,c}))}}();var Bs=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Fs(e){return/[<&]/.test(e)}var qs,Hs=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},Gs="[ \t\r\n]*";function js(e){e=Bs(e)?e:[e];var t,n,r,i=0,o="<(?!/?";return o+="(?:",Hs(e,(function(e,s){t=e.tags||Ns,n=e.attrs||Ls,r=e.checkUrlAttrs||!1,0!==s&&(o+="|"),o+="(?:"+t.join("|")+")",o+="(?:",o+=Gs,o+="|[ \t\r\n]+",o+="(?:(?:",o+="(?:"+n+")(?:=([\"'])[^'\"<>]*\\"+ ++i+")?",r&&(o+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++i),o+=")[ \t\r\n]*)+",o+=")"})),o+=")",o+="/?>)",new RegExp(o,"i")}function zs(e){return js({tags:e=e||Ns,checkUrlAttrs:!0})}function Ws(e,t){var n=(t=t||{}).allowTags,r=!1!==t.hasCustomElementMarkup;return n?!zs(n).test(e):r?!Ws.R_UNSAFE_CUSTOM_ELEMENT.test(e):!Ws.R_UNSAFE_HTML.test(e)}function Ks(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function Vs(e,t,n){if(null==e)return null;e=e.toString();var r=t?function(e,t){var n={};return e.replace(/\{([^}]+)\}/g,(function(e,r){var i,o=e;if(n.hasOwnProperty(r))return n[r];if(t.hasOwnProperty(r)){if(!((i="string"==typeof(o=t[r]))||o instanceof Ps||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");o=i?Ds(o):o.toString()}return n[r]=o,o}))}(e,t):e,i=e;return Fs(r)&&!Ws(r,n)&&(r=Ks(r),no("Content contains non-whitelisted tags or attributes:\nContent: "+i,"error")),r}function Qs(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e}Ws.R_UNSAFE_HTML=zs(),Ws.R_UNSAFE_CUSTOM_ELEMENT=js([{tags:Ns,checkUrlAttrs:!0},{tags:[(qs={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[As,qs.attrs].join("|"),checkUrlAttrs:!1}]);var Ys={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ys.optgroup=Ys.option,Ys.tbody=Ys.tfoot=Ys.colgroup=Ys.caption=Ys.thead,Ys.th=Ys.td;var Js=/<([\w:]+)/;function Xs(e,t){var n,r,i,o,s,a,c,l=t.createDocumentFragment(),u=[];for(s=0,c=e.length;s<c;s++)if((o=e[s])||0===o)if("string"==typeof o){for(i=i||l.appendChild(t.createElement("div")),n=(Js.exec(o)||["",""])[1].toLowerCase(),ea(i,(r=Ys[n]||Ys._default)[1]+o+r[2]),a=r[0];a--;)i.lastChild&&i.lastChild.nodeType===Node.ELEMENT_NODE&&(i=i.lastChild);Qs(u,i.childNodes),(i=l.firstChild).textContent=""}else Qs(u,o.nodeType?[o]:o);for(l.textContent="",o=u[s=0];o;)l.appendChild(o),o=u[++s];return l}var Zs=Vs,$s=Vs;function ea(e,t,n){var r=Vs(t,n);return Fs(r)?e.innerHTML=r:e[Rs]=r,r}function ta(e,t){if(!(this instanceof ta))return new ta(e,t);(t=t||{}).allowTags=t.allowTags?t.allowTags.reduce((function(e,t){return e.concat(t)}),[]):null,this._string=e,this._options=t}ta.prototype=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(new Ps,{toString:function(){var e=this._string,t=this._stringVal,n=e;return void 0!==t?t:(Ws(e,this._options)||(n=e,e=Ks(e),no("UnsafeString contains non-whitelisted tags or attributes.\nString: "+n,"error")),this._stringVal=e,e)}});var na={ALLOWED_TAGS:Ns,FORMATTING_TAGS:Os,htmlEncode:Ds,htmlUnencode:Us,log:no,mk:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,o="",s=n.length;return e&&e.forEach((function(e,t){o+=e,t<s&&(i=n[t],o+=i instanceof ta?i:Ds(i))})),$s(o)},parseHTML:function(e,t){var n;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=Xs([e],t);else{if(!Bs(e))return e;n=Xs(e,t)}return Qs([],n.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:Zs,reEncode:function(e){return Ds(Us(e))},_redirector:lo,redirect:function(e){const t=co(e);t===e&&lo.redirect(t)},sanitizeHTML:$s,sanitizeUrl:co,setElementContent:ea,text:function(e){return no("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),Ds(e)},unsafe:function(e){return e},UnsafeString:ta};const ra="toast--hidden",ia=".toast",oa=Object.freeze({CAUTION:"caution",ERROR:"error",GDPR:"gdpr",NOTIFY:"notify",SUCCESS:"success"});class sa{constructor(){let e=document.getElementById("toasts");if(!e)throw new Error("No toasts element");this._el=e,this._position=e.getAttribute("type"),this.bindEvents()}trigger(e,t,n,r){if(!e||!Object.values(oa).includes(e))throw new Error("Valid type not specified: type must be caution, error, gdpr, notify or success");if(!t)throw new Error("No message specified");const i=n?"".concat(n,"_toast-").concat(e):"toast-".concat(e),o=this._createToastEl(e,t,i,r);return this._addToast(o)}clearAllToasts(){let e=this._el.querySelectorAll(ia);Array.from(e).forEach((e=>{this._removeToast(e)}))}bindEvents(){this._el.addEventListener("click",(e=>{const t=T(e.target,".toast__dismiss-btn");if(t){const e=T(t,ia);e&&this._removeToast(e)}}))}_isValidCtaMetadata(e){return["url","trk","text"].every((t=>e.hasOwnProperty(t)))}_createToastEl(e,t,n,r){const i=document.querySelector("#toast-template").content.firstElementChild.cloneNode(!0),o=document.querySelector("#toast-icon-".concat(e)).content.firstElementChild.cloneNode(!0);if(!i||!o)throw new Error("Toast templates are missing");i.classList.add("toast--".concat(e)),i.setAttribute("type",e);const s=i.querySelector(".toast__message");s.insertBefore(o,s.firstElementChild);i.querySelector(".toast__dismiss-btn").setAttribute("data-tracking-control-name","".concat(n,"_dismiss"));const a=i.querySelector(".toast__message-content");let c="text-color-text-neutral";if(e===oa.CAUTION?c="text-color-text-caution":e===oa.ERROR?c="text-color-text-negative":e===oa.SUCCESS&&(c="text-color-text-positive"),a.classList.add(c),Cs(a,t),r&&this._isValidCtaMetadata(r)){const e=i.querySelector(".toast__message-content-container"),t=document.querySelector("#toast-cta").content.firstElementChild.cloneNode(!0),n=r.target||"_blank";t.setAttribute("href",na.sanitizeUrl(P(r.url,r.trk))),t.setAttribute("target",n),t.textContent=r.text,e.classList.add(c),e.append(t)}return i}_addToast(e){return this._el.appendChild(e),this._hasToast()&&this._el.classList.remove("invisible"),this._refreshLazyLoader(),setTimeout((function(){e.classList.remove(ra)}),500),e}_removeToast(e){let t=this._el;e.classList.add(ra),setTimeout((()=>{t.removeChild(e),this._hasToast()||t.classList.add("invisible")}),500)}_hasToast(){return[...this._el.children].some((e=>"template"!==e.tagName.toLowerCase()))}_refreshLazyLoader(){var e,t;null===(e=window.lazyloader)||void 0===e||null===(t=e.then)||void 0===t||t.call(e,(e=>{e.refreshLoader()}))}}Ce(sa,"TOAST_TYPES",oa);const aa={};function ca(e){const t=document.getElementById(e);if(!t&&void 0!==aa[e])return aa[e];if(!t)return console.warn("Element with id: ".concat(e," not found")),aa[e]=null,aa[e];let n;for(const e of t.childNodes)try{if(e.nodeType===Node.COMMENT_NODE){n=JSON.parse(e.nodeValue);break}}catch(e){}return void 0===n?(console.warn("Error retrieving content with id: ".concat(e,". Use embedJson helper to embed this content")),null):(aa[e]=n,t.parentNode.removeChild(t),aa[e])}const la={COPY:"copy",LINKEDIN:"linkedin",TWITTER:"twitter",FACEBOOK:"facebook"},ua=Object.keys(la).map((e=>la[e]));class da{constructor(e){let{globalNavigator:t=navigator,globalWindow:n=window,globalDocument:r=document}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed in");this.navigator=t,this.window=n,this.document=r,this.el=e,this._encodedShareMessage=this.window.encodeURIComponent(this.el.getAttribute("data-share-message"))||"",this._nonEncodedShareUrl=this.el.getAttribute("data-share-url")||this.window.location.href,this._encodedShareUrl=this._nonEncodedShareUrl&&this.window.encodeURIComponent(this._nonEncodedShareUrl)}init(e,t){e.addEventListener("click",(e=>{let{target:n}=e;const r=n.classList.contains(t)?n:T(n,".".concat(t));r&&this.share(r.dataset.shareService)}))}_getServiceUrl(e){this.checkAndUpdateUtm(e);return{linkedin:"https://www.".concat(W(this.document),"/shareArticle?mini=true&url=").concat(this._encodedShareUrl,"&title=").concat(this._encodedShareMessage),twitter:"https://twitter.com/intent/tweet?url=".concat(this._encodedShareUrl,"&text=").concat(this._encodedShareMessage),facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(this._encodedShareUrl)}[e]||""}share(e){if(ua.includes(e)){const i=this._nonEncodedShareUrl||this.window.location.href;if("copy"===e)try{this.navigator.clipboard?(this.checkAndUpdateUtm(e),this.navigator.clipboard.writeText(this._nonEncodedShareUrl),this.displayToast({url:i})):this.displayToast({showError:!0})}catch(e){this.displayToast({showError:!0})}finally{var t,n,r;null===(t=this.collapsibleDropdown)||void 0===t||null===(n=t.dropdownContentEl)||void 0===n||null===(r=n.classList)||void 0===r||r.add("hidden")}else{const t=this._getServiceUrl(e,i);this.window.open(t,e,"height=600,width=1000")}}}displayToast(e){let{showError:t,url:n}=e;if(this.document.getElementById("toasts")){const e="social-share",r=new sa;r.clearAllToasts();const i=t?"error":"success";r.trigger(i,ca("i18n_copy_cta_message_".concat(i)),e,{text:"View",url:n||this.window.location.href,trk:e})}}checkAndUpdateUtm(e){if(this._nonEncodedShareUrl.includes("utm_campaign")||"linkedin"===e)return;["utm_source","utm_content","utm_medium"].some((e=>this._nonEncodedShareUrl.includes(e)))&&(this._nonEncodedShareUrl="".concat(this._nonEncodedShareUrl,"&utm_campaign=").concat(e),this._encodedShareUrl=this.window.encodeURIComponent(this._nonEncodedShareUrl))}}class ha extends da{constructor(e){let{globalNavigator:t=navigator,globalWindow:n=window,globalDocument:r=document}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed in");super(e,{globalNavigator:t,globalWindow:n,globalDocument:r}),this.socialShareButton=this.el.querySelector(".social-share__button"),this.dropdown=this.el.querySelector(".collapsible-dropdown__list"),this.itemClassName="".concat("social-share","__item"),this.collapsibleDropdown=new pe(e,{dropdownTriggerEl:this.socialShareButton}),super.init(this.dropdown,this.itemClassName)}}const pa=["binlar","ask\\ jeeves","mozilla\\/4\\.0\\ \\(compatible\\;\\ msie\\ 6\\.0\\;\\ windows\\ nt\\ 5\\.1\\;1813\\)","companydatatree","genieo","microsoft\\+scheduled\\+cache\\+content\\+download\\+service","liferea","superfeedr","ez\\ publish\\ link\\ validator","htmlparser","argclrint","linkwalker","webtool","ask\\+jeeves","stackrambler","paros","^fdm\\+3\\.x","ms\\ search","indy\\+library","seznam","sitevigil","intergator","freedom(?!from)","google\\+page\\+speed\\+insights","znajdzfoto\\/image","riddler\\.io","^java\\/","twiceler","httpunit","ktxn","webcopier","mna\\+digital\\+circonus\\+check","stuff(?!nz)","updatepatrol","feedburner","hp\\+sitescope","crawler","gigablastopensource\\/","rpt\\-http","^fdm\\ 3\\.x","libwww\\-perl","((?=pital)|ca(?=pital))pita","bingpreview","oia\\.owa","^ahc\\/","thunderstone","microsoft\\ bits","alertsite","^python\\-requests\\/","dts\\ agent","tangjiutao","^inmon","linkscan","alexa\\ site\\ audit","webtrends(?!clientlibrary)","chkd","joedog","daumoa","typhoeus","loadimpactpageanalyzer","google\\ news","coldfusion","mna\\ digital\\ circonus\\ check","alexa\\+site\\+audit","getright","appengine","(?=crawler)crawl","ibot(?!ta)","jobo","python\\-httplib","powermarks","site24x7","proximic","yahoo\\+pipes","((?=aporter)|oper(?=aportable))aport","web\\+downloader","check\\_http","grabber","topsy\\.com\\/butterfly\\/","harvest","^inagist\\+url\\+resolver","fast","crescent(?!\\ build|\\+build)","sohu(?!ennews|video|news)","favorg","bloglines","fetch(?!tv)","wapt","microsoft\\+url\\+control","urchin","ning\\/1\\.0","pluck","google\\+news","spider","\\(compatible\\;\\+optimizer\\)","moreover\\/5\\.1","js\\-kit","server\\ density\\ external\\ llama","facebookexternalhit","ultraseek","catchpoint","yandex(?!\\ browser|\\+browser|mail)","echo(?!arena|fon|star)","^worldwatch\\/","combine(?!d)","winhttprequest","ez\\+publish\\+link\\+validator","jakarta","^webnotifier\\/","webmetrics","teoma","nerdbynature","ms\\+frontpage","nielsen","sucker","engagebdr","yahoofeedseeker","dts\\+agent","googleapps","holmes","plumtree","www\\-mechanize","google\\-hoteladsverifier","pingdom","drupal","sina\\_weibo","google\\ page\\ speed\\ insights","lisa","w3c\\_validator","^scan","yeti","snoopy","khte","trovit","atomz","httpcomponents","ms\\+search","google\\-http\\-java\\-client","spi\\_der","bubing","websitepulse","microsoft\\+bits","http\\_request2","ieautodiscovery","siteimprove","curl(?!ings)","go\\+1\\.1\\+package\\+http","^crowsnest\\/","email\\ exractor","utorrent","yahoocachesystem","shopwiki","justview","googlesecurityscanner","msnptc","rkg\\+url\\+verifier","monitor","bitvouseragent","((?=wormgame))worm","talktalk","help\\.coccoc\\.com","yahoo\\ pipes","heritrix","nutch","argus","kulturarw3","checkurl","universalsearch","amazon\\ route\\ 53\\ health\\ check\\ service","slurp","mozilla\\/5\\.0\\ \\(compatible\\;\\ msie\\ 5\\.0\\)","ezooms","kimengi\\/nineconnections\\.com","applesyndication","python\\-urllib","internal\\+zero\\-knowledge\\+agent","system\\+center\\+operations\\+manager","riverglassscanner","imgsizer","changedetection","nutscrape","feedzilla","contype","^lwp","\\(compatible\\;\\ optimizer\\)","infolink","outbrain","^prerender","admantx","^inagist\\ url\\ resolver","amazon\\+route\\+53\\+health\\+check\\+service","neustar","a6\\-indexer","comodo\\+ssl\\+checker","linkchecker","viglink","patric","newsnow","wasalive","scrapy","(?=gruber)grub","ruxitsynthetic","rkg\\ url\\ verifier","ocelli","webcapture","^kraken\\/","t\\-h\\-u\\-n\\-d\\-e\\-r\\-s\\-t\\-o\\-n\\-e","spider(?!solitaire)","isearch","hp\\ sitescope","maxamine","\\(simulated\\_by\\_webserver\\_stress\\_tool\\)","((?=obotics)|ther(?=obotfree))obot","yacy","twibble\\.io","google\\+wireless\\+transcoder","wget","internal\\ zero\\-knowledge\\ agent","google\\ wireless\\ transcoder","xenu","yahooseeker","advanced\\ email\\ extractor","feed43","ptst","reconnoiter","go\\ 1\\.1\\ package\\ http","advanced\\+email\\+extractor","linkdex","panscient\\.com","webcheck","linktiger","scooter","flipboard\\.com\\/browserproxy","evidon","twisted\\ pagegetter","cosmos","adbeat","sherlock","web\\ downloader","cookiereports","siteexplorer","miva","twisted\\+pagegetter","mfc\\_tear\\_sample","indy\\ library","b2w(?!tenisnew)","orangebot(?!swana)","lockss\\+cache","mozilla\\/4\\.0\\+\\(compatible\\;\\+msie\\+6\\.0\\;\\+windows\\+nt\\+5\\.1\\;1813\\)","yahooexternalcache","apache\\-httpclient\\/4\\.","archive\\.org","wesee\\:search","hiscan","ms\\ frontpage","tagscanner","google\\ web\\ preview","special\\_archiver","d24y\\-aegis","scoutjet","larbin","adsense\\-snapshot\\-google","keynote","skypeuripreview","clickajob","download\\+ninja","internet\\ ninja","^ltx71","ukonline","eventmachine\\ httpclient","nomad","mediapartners","twikle","microsoft\\ scheduled\\ cache\\ content\\ download\\ service","internet\\+ninja","scanalert","metauri","agentname","adr\\)","squider","isilo","teleport","automationtest","bordermanager","linklint","bot","templeton","rssreader","ichiro","(?=dialer\\-mobileapp)dialer","atomic\\_email\\_hunter","google\\+web\\+preview","longurl\\+api","longurl\\ api","internetseer","server\\+density\\+external\\+llama","topix","iopus","download\\ ninja","mozilla\\/5\\.0\\+\\(compatible\\;\\+msie\\+5\\.0\\)","europarchive","avantgo","flamingo\\_searchengine","lockss\\ cache","jobrapido","wesee\\:ads\\/","frontier","newspaper\\/0\\.0\\.","apachebench","flamingosearch","lydia","microsoft\\ url\\ control","phantomjs","system\\ center\\ operations\\ manager","^econtext\\/","akamai","cfschedule","searchme\\.com\\/support\\/","fortimail","comodo\\ ssl\\ checker","gomezagent","sitecon","webauto","golem","swcd","spundge\\/0\\.1","findlinks","^sjn","yandex","ia\\_archive","vagabondo","watchmouse","simplepie","1job","goldfire"].join("|");new RegExp(pa,"i");const fa=/.*(iPad|iPod|iPhone|Android|BB10|BlackBerry|IEMobile).*/;function ma(e){return!!e&&fa.test(e)}class ga{constructor(e){let{scrollThreshold:t=50,hideOnScrollBack:n=!1,hideOnScrollDown:r=!1,isBottom:i=!0,exposeStickyState:o=!1,marginApplied:s=!1,debounceDelay:a=100}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&r)throw new Error("hideOnScrollBack & hideOnScrollDown cannot both be true at the same time");this.el=e,this.scrollThreshold=t,this.hideOnScrollBack=n,this.hideOnScrollDown=r,this.isBottom=i,this.exposeStickyState=o,this._scrollListener=M(this._onScroll.bind(this),a),this.marginApplied=s,this.previousScrollPosition=window.pageYOffset,this._setSpacingBound=this._setSpacing.bind(this),this._setupResizeListener(),S((()=>{this.originalMarginTop=parseInt(window.getComputedStyle(document.body).marginTop)||0,this.originalMarginBottom=parseInt(window.getComputedStyle(document.body).marginBottom)||0,this._setSpacing(!0),this._doesPageHaveEnoughScroll()?window.addEventListener("scroll",this._scrollListener):this.hideOnScrollBack||this.show()}))}reactivate(){this._setupResizeListener(),this._setSpacing()}deactivate(){this._removeResizeListener(),this._resetSpacing()}_setupResizeListener(){ma(navigator.userAgent)||window.addEventListener("resize",this._setSpacingBound)}_removeResizeListener(){window.removeEventListener("resize",this._setSpacingBound)}_doesPageHaveEnoughScroll(){return document.body.scrollHeight>window.innerHeight+this.scrollThreshold}_setSpacing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isBottom?this._setBottomSpacing():this.hideOnScrollBack||this.hideOnScrollDown||(this._setTopSpacing(),e&&this.show())}_resetSpacing(){this.marginApplied?(document.body.style.marginTop="0px",document.body.style.marginBottom="0px"):(document.body.style.marginTop="".concat(this.originalMarginTop,"px"),document.body.style.marginBottom="".concat(this.originalMarginBottom,"px"))}_setBottomSpacing(){let e=this.el.clientHeight;document.body.style.marginBottom&&!this.marginApplied&&(e+=this.originalMarginBottom),document.body.style.marginBottom="".concat(e,"px")}_setTopSpacing(){let e=this.el.clientHeight;document.body.style.marginTop&&!this.marginApplied&&(e+=this.originalMarginTop),document.body.style.marginTop="".concat(e,"px")}show(){this.el.classList.add("show"),U(this.el,"show")}hide(){this.el.classList.remove("show"),U(this.el,"hide")}_onScroll(){const e=window.pageYOffset;e>this.scrollThreshold?(this.hideOnScrollBack||this.hideOnScrollDown||this.exposeStickyState||window.removeEventListener("scroll",this._scrollListener),this.hideOnScrollDown?this.hide():this.show(),this.exposeStickyState&&this.el.classList.add("stuck")):(this.hideOnScrollBack&&this.hide(),this.exposeStickyState&&this.el.classList.remove("stuck")),this.previousScrollPosition>e&&this.hideOnScrollDown&&this.show(),this.previousScrollPosition=e}}const va="tooltip__popup";"".concat(va,"--show");const ya="loader--absolute",Ea="loader--show",ba="loader--full-screen",wa="no-scroll",_a="loader-wrapper";class Ta{constructor(e){let{wrapperEl:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Loader el required");if(t&&!t.contains(e))throw new Error("Wrapper element is not a parent of the Loader el");this.el=e,this.wrapperEl=t,this.isAbsoluteVariant=this.wrapperEl&&this.el.classList.contains(ya),window.addEventListener("pagehide",(e=>{let{persisted:t}=e;t&&this.hide()}))}show(){this.el.classList.add(Ea),this.el.classList.contains(ba)&&document.body.classList.add(wa),this.isAbsoluteVariant&&this.wrapperEl.classList.add(_a)}hide(){this.el.classList.remove(Ea),document.body.classList.remove(wa),this.isAbsoluteVariant&&this.wrapperEl.classList.remove(_a)}}const Sa="dismissable-input",Ia="dismissable-input--focus",Ca="dismissable-input__button",ka="dismissable-input__button--show",Aa="dismissable-input__input";class Ra{constructor(e){this.el=e,this._input=this.el.querySelector(".".concat(Aa)),this._dismissButtonEl=this.el.querySelector(".".concat(Ca)),this._isDismissable=!!this._dismissButtonEl,this._attachEventListeners()}_attachEventListeners(){this._input.addEventListener("focus",this._onInputFocus.bind(this)),this._input.addEventListener("input",this._updateDismissButton.bind(this)),this._input.addEventListener("blur",this._onInputBlur.bind(this)),this._isDismissable&&(this._dismissButtonEl.addEventListener("click",this.clear.bind(this)),this._updateDismissButton())}_onInputFocus(){this.el.classList.add(Ia),this._updateDismissButton(),U(this._input,"dismissableInputFocused")}_updateDismissButton(){this._isDismissable&&(this._input.value.length?(this._showDismissButton(),this._dismissButtonEl.disabled=!1):(this._hideDismissButton(),this._dismissButtonEl.disabled=!0))}_hideDismissButton(){this._dismissButtonEl.classList.remove(ka)}_showDismissButton(){this._dismissButtonEl.classList.add(ka)}_onInputBlur(){this.el.classList.remove(Ia)}clear(){this._input.value="",this._updateDismissButton(""),this._input.focus(),U(this.el,"clear")}}const Oa={block:"typeahead-input",showList:"typeahead-input__dropdown--show",dropdown:"typeahead-input__dropdown",dropdownList:"typeahead-input__dropdown-list",dropdownText:"typeahead-input__dropdown-text",listItemFocus:"typeahead-input__dropdown-item--highlighted",listItem:"typeahead-input__dropdown-item",liveText:"typeahead-live-text",template:"typeahead-item-template"},Na="i18n_aria_live_text_no-suggestions",La="i18n_aria_live_text_one-suggestion",Pa="i18n_aria_live_text_multiple-suggestions",xa=500;class Ma{constructor(e,t){let{createDismissableInput:n,elementClasses:r=Oa,generateApiUrl:i,liveTextEl:o,liveTextClearTime:s=xa,onSelect:a,onInput:c=(()=>{}),inputEl:l,dropdownContainerEl:u,dropdownListEl:d,isFullPageTypeahead:h,closeOnEscape:p=!1}=t;this.el=e,this._liveTextClearTime=s,this._elementClasses=r,this._closeOnEscape=p,this._input=l||this.el.querySelector(".".concat(Aa)),this._dropdownContainerEl=u||this.el.querySelector(".".concat(this._elementClasses.dropdown)),this._dropdownListEl=d||this.el.querySelector(".".concat(this._elementClasses.dropdownList)),this._listId=this._dropdownListEl.id,this._generateApiUrl=i,this._onSelect=a,this._onInput=c,this._typeaheadItemTemplate=this.el.querySelector(".".concat(this._elementClasses.template)),this._boundClickOutsideToCloseHandler=this._clickOutsideToCloseHandler.bind(this),this._liveTextEl=o||this.el.querySelector(".".concat(this._elementClasses.liveText)),n&&(this.dismissableInput=new Ra(this.el)),this.isFullPageTypeahead=h,this._getLiveTextOptions(),this._resetState(),this._attachEventListeners(),this._requestHandler=M(this._getAndApplyResults.bind(this),500)}_resetState(){this._dropdownListItemEls=[],this._setHighlightedEl(null),this._setExpandedState(!1)}_attachEventListeners(){this.checkForListItemSelectHandler=this._checkForListItemSelect.bind(this),this.hideListHandler=this._hideList.bind(this),this.onKeyDownHandler=this._onKeyDown.bind(this),this.onUserInputHandler=this._onUserInput.bind(this),this.onClearHandler=this._onClear.bind(this),this._input.addEventListener("keydown",this.onKeyDownHandler),this._input.addEventListener("input",this.onUserInputHandler),this._input.addEventListener("focus",this.onUserInputHandler),!this.isFullPageTypeahead&&this._input.addEventListener("blur",this.hideListHandler),this._dropdownListEl.addEventListener("mousedown",this.checkForListItemSelectHandler),this._isDismissable&&this.el.addEventListener("clear",this.onClearHandler)}_removeEventListeners(){this._input.removeEventListener("keydown",this.onKeyDownHandler),this._input.removeEventListener("input",this.onUserInputHandler),this._input.removeEventListener("focus",this.onUserInputHandler),!this.isFullPageTypeahead&&this._input.removeEventListener("blur",this.hideListHandler),this._dropdownListEl.addEventListener("mousedown",this.checkForListItemSelectHandler)}_isListActive(){return this._input.getAttribute("aria-owns")===this._listId&&Boolean(this._input.getAttribute("aria-expanded"))}_clickOutsideToCloseHandler(e){e.target!==this._input&&this._hideList()}_onKeyDown(e){if(!this._isListActive())return;switch(J(e.key)){case Q.ARROW_DOWN:e.preventDefault(),this._moveToResult(1);break;case Q.ARROW_UP:e.preventDefault(),this._moveToResult(-1);break;case Q.ESCAPE:this._closeOnEscape&&this._hideList();break;case Q.ENTER:this._checkForListItemSelect(e)}}_moveToResult(e){if(0===this._dropdownListItemEls.length)return;const t=-1===e?-1:0;let n=null===this._highlighted.index?t:this._highlighted.index+e;n<0&&(n=this._dropdownListItemEls.length-1),n>=this._dropdownListItemEls.length&&(n=0),this._setHighlightedEl(n)}_setHighlightedEl(e){this._highlighted&&this._highlighted.el&&(this._highlighted.el.classList.remove(this._elementClasses.listItemFocus),this._highlighted.el.setAttribute("aria-selected",!1)),null===e?(this._highlighted={el:null,index:null},this._input.removeAttribute("aria-activedescendant")):(this._highlighted.el=this._dropdownListItemEls[e],this._highlighted.index=e,this._highlighted.el.setAttribute("aria-selected",!0),this._highlighted.el.classList.add(this._elementClasses.listItemFocus),this._input.setAttribute("aria-activedescendant",this._highlighted.el.id))}_isInputValid(){return this._input.value.length>0}_onUserInput(e){this._onInput(e),this._isInputValid()?this._requestHandler():this._hideList()}_getAndApplyResults(){if(this._isInputValid()){const e=this._input.value;this._makeTypeaheadRequest(e).then((e=>this._appendResults(e))).then((()=>this._showList()))}}_makeTypeaheadRequest(e){return fe(this._generateApiUrl(e),{sendCookies:!1}).then((e=>e&&JSON.parse(e.responseText)||[]))}_getItemEl(){return document.importNode(this._typeaheadItemTemplate.content,!0)}_appendResults(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._hideList(),e.forEach(((e,t)=>{const n=this._getItemEl(),r=n.querySelector(".".concat(this._elementClasses.listItem)),i=r.querySelector(".".concat(this._elementClasses.dropdownText));r.id="".concat(this._input.name,"-").concat(t+1),i.textContent=e.displayName,i.dataset.id=e.id,this._dropdownListEl.appendChild(n)})),this._dropdownListItemEls=R(this._dropdownListEl.children)}_shouldShowList(){return this._dropdownListItemEls.length>0&&this._isInputValid()}_showList(){this._shouldShowList()?(this._dropdownContainerEl.classList.add(this._elementClasses.showList),document.body.addEventListener("click",this._boundClickOutsideToCloseHandler),this._setExpandedState(!0)):(this._hideList(),this._setExpandedState(!1)),this._setLiveText()}_hideList(){if(this._isListActive()){for(;this._dropdownListEl.firstChild;)this._dropdownListEl.removeChild(this._dropdownListEl.firstChild);this._resetState(),this._dropdownContainerEl.classList.remove(this._elementClasses.showList),document.body.removeEventListener("click",this._boundClickOutsideToCloseHandler)}}_onClear(){this.hideListHandler()}_checkForListItemSelect(e){if(!this._isListActive())return;const t="mousedown"===e.type?e.target:this._highlighted.el;if(!t)return;e.preventDefault();const n=t.classList.contains(this._elementClasses.dropdownText)?t:t.querySelector(".".concat(this._elementClasses.dropdownText))||t.closest(".".concat(this._elementClasses.dropdownText));n&&this.el.contains(n)&&this._updateInputTo(n,e)}_updateInputTo(e,t){this._input.value=e.textContent.trim(),this._input.focus(),"function"==typeof this._onSelect&&this._onSelect(e,t),this._hideList()}_getLiveTextOptions(){this._liveTextNoSuggestions=ca(Na),this._liveTextOneSuggestion=ca(La),this._liveTextMultipleSuggestions=ca(Pa)}_getLiveText(){let e;switch((this._dropdownListItemEls||[]).length){case 0:e=this._liveTextNoSuggestions;break;case 1:e=this._liveTextOneSuggestion;break;default:e=this._liveTextMultipleSuggestions}return e}_setLiveText(){const e=this._getLiveText(),t=document.createElement("p");t.textContent=e,this._liveTextEl.children.length&&(this._liveTextEl.removeChild(this._liveTextEl.firstChild),clearTimeout(this._liveTextTimeout)),this._liveTextEl.appendChild(t),this._liveTextTimeout=setTimeout((()=>{this._liveTextEl.firstChild&&this._liveTextEl.removeChild(this._liveTextEl.firstChild)}),this._liveTextClearTime)}_setExpandedState(e){this._input.setAttribute("aria-expanded",e),e&&(this._input.setAttribute("aria-owns",this._listId),this._input.setAttribute("aria-controls",this._listId))}}const Da="no-scroll",Ua="fixed",Ba="show-on-mobile",Fa="hide-on-mobile",qa="isExpanded";class Ha{constructor(e,t,n){let{onCloseExpandedSearch:r=(e=>e),isMobileDevice:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.el=e,this.expandedEl=t,this.placeholderEl=n,this.isMobileDevice=i,!this.el)throw new Error("No element passed in to BaseSearchBar");this.isExpanded=!1,this.type=this.el.getAttribute("data-searchbar-type"),this.firstInput=this.el.querySelector("input:first-of-type"),this.isIOSDevice="iPhone"===navigator.platform||"iPad"===navigator.platform||"iPod"===navigator.platform,this.onCloseExpandedSearch=r,i&&(this.focusTrap=new Te(this.expandedEl))}showExpandedSearch(){this.isExpanded=!0,this.isMobileDevice&&(this.focusTrap.init(),this.placeholderEl.classList.add("hidden")),this.placeholderEl.classList.remove(Ba),this.placeholderEl.classList.add(Fa),this.expandedEl.classList.add(qa),document.body.classList.add(Da),this.isIOSDevice&&(document.body.classList.add(Ua),this.expandedEl.addEventListener("touchstart",this._onIOSTouchStartEvent)),document.addEventListener("keyup",this._onKeyUpEvent.bind(this)),this.firstInput.focus()}hideExpandedSearch(){this.firstInput.blur(),this.isExpanded=!1,this.isMobileDevice&&(this.focusTrap.tearDown(),this.placeholderEl.classList.remove("hidden")),this.expandedEl.classList.remove(qa),this.placeholderEl.classList.remove(Fa),this.placeholderEl.classList.add(Ba),document.body.classList.remove(Da),this.isIOSDevice&&(document.body.classList.remove(Ua),this.expandedEl.removeEventListener("touchstart",this._onIOSTouchStartEvent)),document.removeEventListener("keyup",this._onKeyUpEvent),this.placeholderEl.focus(),this.onCloseExpandedSearch()}_onKeyUpEvent(e){const{key:t,target:n}=e,r="Escape"===t,i="INPUT"===n.tagName;r&&!i?(e.preventDefault(),this.hideExpandedSearch()):"Tab"===t&&this._userIsTabbedOut()&&this.hideExpandedSearch()}_onIOSTouchStartEvent(e){const{target:t}=e;T(t,".".concat(Oa.block))||document.activeElement.blur()}_userIsTabbedOut(){if(this.expandedEl.classList.contains(qa)&&uo()){return!this.expandedEl.contains(document.activeElement)}return!1}}class Ga extends Ma{constructor(e,t){let{generateApiUrl:n,liveTextEl:r,onSelect:i,onInput:o,isFullPageTypeahead:s}=t;super(e,{createDismissableInput:!0,generateApiUrl:n,liveTextEl:r,onSelect:i,onInput:o,isFullPageTypeahead:s})}}const ja={clearButton:"recent-searches__clear-btn",dropdown:"recent-searches",dropdownList:"recent-searches__list",listItem:"recent-searches__item",listItemClearButton:"recent-searches__item--clear",listItemLink:"recent-searches__item-link",listItemFocus:"recent-searches__item--highlighted",showList:"recent-searches--show"},za="i18n_aria_live_text_recent-searches-one-suggestion",Wa="i18n_aria_live_text_recent-searches-multiple-suggestions",Ka="i18n_aria_live_text_recent-searches-cleared";class Va extends Ma{constructor(e,t){let{liveTextEl:n,clearRecentSearchApiBaseUrl:r}=t;if(super(e,{liveTextEl:n,elementClasses:ja,liveTextClearTime:1e3,closeOnEscape:!0}),!e)throw Error("An element must be provided to RecentSearches");if(this.dropdownContainerEl=e.querySelector(".".concat(ja.dropdown)),!this.dropdownContainerEl)throw Error("A RecentSearches container element must be in the RecentSearches parent element");this._clearRecentSearchApiBaseUrl=r,this._dropdownListItemEls=R(this.dropdownContainerEl.querySelectorAll(".".concat(ja.listItem))),this._clearBtnItem=e.querySelector(".".concat(ja.listItemClearButton)),this._dropdownListItemEls.push(this._clearBtnItem),this._dismissButtonEl=e.querySelector(".".concat(Ca))}_attachEventListeners(){this._clearBtn=this.el.querySelector(".".concat(ja.clearButton)),this._clearRecentSearchesHandler=this._clearRecentSearches.bind(this),this._clearBtn.addEventListener("mousedown",this._clearRecentSearchesHandler),super._attachEventListeners()}_removeEventListeners(){this._clearBtn.removeEventListener("mousedown",this._clearRecentSearchesHandler),super._removeEventListeners()}_onUserInput(){this._shouldShowList()?this._showList():this._hideList()}_redirect(e){e.click()}_clickOutsideToCloseHandler(e){e.target===this._input||this._dismissButtonEl.contains(e.target)||this._hideList()}_checkForListItemSelect(e){if(!this._isListActive())return;const t="mousedown"===e.type?e.target:this._highlighted.el;if(!t)return;e.preventDefault();const n=t.querySelector(".".concat(ja.listItemLink));n?this._redirect(n):t.classList.contains(ja.listItemLink)?this._redirect(t):t===this._clearBtnItem&&this._clearRecentSearches()}_shouldShowList(){return this._dropdownListItemEls.length>1&&0===this._input.value.length}_onClear(){this.onUserInputHandler()}_hideList(){this._isListActive()&&(this.dropdownContainerEl.classList.remove(ja.showList),document.body.removeEventListener("click",this._boundClickOutsideToCloseHandler),this._setExpandedState(!1),this._setHighlightedEl(null))}_getLiveTextOptions(){this._liveTextOneSuggestion=ca(za),this._liveTextMultipleSuggestions=ca(Wa),this._liveTextClearedSuggestions=ca(Ka)}_getLiveText(){let e;switch(this._informUserThatSearchesAreCleared?0:this._dropdownListItemEls.length){case 0:e=this._liveTextClearedSuggestions,this._informUserThatSearchesAreCleared=!1;break;case 2:e=this._liveTextOneSuggestion;break;default:e=this._liveTextMultipleSuggestions}return e}_clearRecentSearches(){fe(this._clearRecentSearchApiBaseUrl,{method:"DELETE"}).then((()=>{this._removeEventListeners(),this._informUserThatSearchesAreCleared=!0,super._hideList(),super._setLiveText()})).catch((e=>{throw e}))}}const Qa="tab-selected",Ya="hidden",Ja="switcher-tabs__button",Xa="switcher-tabs__tab";class Za{constructor(e,t,n){this.el=e,this.mobileTriggerEl=n,this.baseSearchBarsMap=t,this.currentType=this.el.getAttribute("data-current-search-type"),this.switcherTriggerAndTabs=this.el.querySelector(".".concat("switcher-tabs__trigger-and-tabs")),this.switcherTabs=this.el.querySelector(".".concat("switcher-tabs")),this.dropdownList=this.el.querySelector(".".concat("switcher-tabs__list")),this.dropdownTrigger=this.el.querySelector(".".concat("switcher-tabs__placeholder")),this.dropdownPlaceholderText=this.el.querySelector(".".concat("switcher-tabs__placeholder-text")),this._handleSwitcherClick=this._handleSwitcherClick.bind(this),this._initMobileExpandedSwitcher(),this._initCollapsibleSwitcher()}_initMobileExpandedSwitcher(){this.el.addEventListener("click",this._handleSwitcherClick),this.mobileTriggerEl.addEventListener("click",(e=>{e.preventDefault(),this.baseSearchBarsMap[this.currentType].showExpandedSearch()})),this.cancelBtn=this.el.querySelector(".".concat("switcher-tabs__cancel-btn")),this.cancelBtn.addEventListener("click",(e=>{e.preventDefault(),this.baseSearchBarsMap[this.currentType].hideExpandedSearch()}))}_initCollapsibleSwitcher(){this.collapsibleSwitcher=new pe(this.switcherTriggerAndTabs,{dropdownContentEl:this.dropdownList,dropdownTriggerEl:this.dropdownTrigger}),this.switcherTriggerAndTabs.addEventListener("open",(()=>this._openSwitcher())),this.switcherTriggerAndTabs.addEventListener("close",(()=>this._closeSwitcher())),this._updatePlaceholderText()}_openSwitcher(){this.dropdownList.addEventListener("click",this._handleSwitcherClick),this.switcherTabs.classList.remove(Ya),this.dropdownList.querySelector("button").focus()}_closeSwitcher(){this.dropdownList.removeEventListener("click",this._handleSwitcherClick),this.switcherTabs.classList.add(Ya)}_handleSwitcherClick(e){if(!e.target.classList.contains(Ja)&&!e.target.classList.contains(Xa))return;const t=T(e.target,".".concat(Xa)),n=t.querySelector(".".concat(Ja)).getAttribute("data-switcher-type");n&&t&&this.currentType!==n?(this.collapsibleSwitcher.collapsible.currentListItem=t,this._switchTo(n,t)):this.collapsibleSwitcher.collapsible.close()}_switchTo(e,t){this._updateActiveTab(t),this._updatePlaceholderText(),this.el.setAttribute("data-current-search-type",e),this.collapsibleSwitcher.collapsible.close(),this.baseSearchBarsMap[this.currentType].isExpanded?this.baseSearchBarsMap[e].showExpandedSearch():this.baseSearchBarsMap[e].hideExpandedSearch(),this.currentType=e}_updateActiveTab(e){const t=this.el.querySelector(".".concat(Qa)),n=T(t,".".concat(Xa));n&&(n.setAttribute("aria-selected","false"),t.classList.remove(Qa)),e.classList.contains(Xa)&&(e.querySelector(".".concat(Ja)).classList.add(Qa),e.setAttribute("aria-selected","true"))}_updatePlaceholderText(){let e=this.el.querySelector(".".concat(Qa));e&&(this.dropdownPlaceholderText.textContent=e.textContent)}}class $a{constructor(e){let{typeaheadApiBaseUrl:t,clearRecentSearchApiBaseUrl:n,shouldSearchOnSelect:r=!0,onCloseExpandedSearch:i,includeSwitcher:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.el=e,!this.el)throw new Error("No element passed into SearchBar");this.typeaheadApiBaseUrl=t;const s=this.el.querySelector(".".concat("search-bar__live-text"));this.shouldSearchOnSelect=r,this.placeholderEl=this.el.querySelector(".".concat("search-bar__placeholder"));const a=!!this.el.querySelector(".".concat("search-bar__mobile-wrapper"));if(this.baseSearchBarsMap=R(this.el.querySelectorAll(".".concat("base-search-bar"))).reduce(((e,t)=>{const n=new Ha(t,this.el,this.placeholderEl,{onCloseExpandedSearch:i,isMobileDevice:a});return e[n.type]=n,e}),{}),t){this.baseSearchBarFormEl=this.baseSearchBarsMap.JOBS.el.querySelector(".base-search-bar__form"),this.geoIdInputEl=this.el.querySelector('input[name="geoId"]');const e=this.el.querySelector(".keywords-typeahead-input");new Ga(e,{generateApiUrl:this._generateKeywordsTypeaheadApiUrl.bind(this),liveTextEl:s,onSelect:this._onKeywordsTypeaheadSelect.bind(this)});e.querySelector(".".concat(ja.dropdown))&&new Va(e,{clearRecentSearchApiBaseUrl:n,liveTextEl:s}),new Ga(this.el.querySelector(".location-typeahead-input"),{generateApiUrl:this._generateLocationTypeaheadApiUrl.bind(this),liveTextEl:s,onSelect:this._onLocationTypeaheadSelect.bind(this),onInput:this._onLocationTypeaheadInput.bind(this)}),Array.from(this.el.querySelectorAll(".".concat(Sa,".search-input"))).forEach((e=>{new Ra(e);e.querySelector(".".concat(ja.dropdown))&&new Va(e,{clearRecentSearchApiBaseUrl:n,liveTextEl:s})})),this._addCustomErrorStateHandler()}else Array.from(this.el.querySelectorAll(".".concat(Sa))).forEach((e=>new Ra(e)));o&&(this.switcher=new Za(e,this.baseSearchBarsMap,this.placeholderEl)),this.setupSearchInputFocusTracking()}_generateKeywordsTypeaheadApiUrl(e){return"".concat(this.typeaheadApiBaseUrl,"?query=").concat(window.encodeURIComponent(e))}_generateLocationTypeaheadApiUrl(e){return"".concat(this.typeaheadApiBaseUrl,"?query=").concat(window.encodeURIComponent(e),"&typeaheadType=GEO&geoTypes=POPULATED_PLACE,ADMIN_DIVISION_2,MARKET_AREA,COUNTRY_REGION")}_onKeywordsTypeaheadSelect(){this.shouldSearchOnSelect&&this._submitForm()}_onLocationTypeaheadSelect(e){this.geoIdInputEl&&(this.geoIdInputEl.value=e.dataset.id),this.shouldSearchOnSelect&&this._submitForm()}_onLocationTypeaheadInput(){this.geoIdInputEl&&(this.geoIdInputEl.value="")}_submitForm(){const e=this.el.querySelector(".keywords-typeahead-input input");null!=e&&e.validity.valueMissing?e.reportValidity():this.baseSearchBarFormEl&&this.baseSearchBarFormEl.submit()}_addCustomErrorStateHandler(){const e=this.el.querySelector(".keywords-typeahead-input input"),t=this.el.querySelector(".keywords-typeahead-input-helper");null==e||e.addEventListener("invalid",(n=>{n.preventDefault(),this.baseSearchBarFormEl.classList.add("input-error"),null==t||t.classList.remove("hidden"),e.focus()}))}setupSearchInputFocusTracking(){this.el.addEventListener("dismissableInputFocused",(e=>{const t=e.target.getAttribute("data-tracking-control-name");t&&window.tracking&&window.tracking.then((e=>{e.fireTrackingEvent("SearchInputFocusEvent",{header:{},controlUrn:"urn:li:control:".concat(G(document),"-").concat(t)})}))}))}}const ec="/mwlite/badge-counts";const tc="overlay_";class nc extends Zi{constructor(e){let{enablePageViewTracking:t=!1,shouldHideModal:n=(()=>!1),triggerByOutletEl:r=!0,pushState:i=!0,shouldMoveToTopContainer:o=!0,focusElement:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed into mobile web modal");super(e,{enablePageViewTracking:t,shouldHideModal:n,triggerByOutletEl:r,shouldMoveToTopContainer:o,focusElement:s}),this.pushState=i,this.hashChangeHandlerRef=this._hashChangeHandler.bind(this)}historyBackClickHandler(){this.close({enableHistoryBack:!1})}_hashChangeHandler(e){const t=e.oldURL&&e.oldURL.split("#")[1];t&&t==="".concat(tc).concat(this._el.id)&&this.historyBackClickHandler()}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.open(e),this._shouldHideModal()||(this.pushState&&history.pushState(this._el.id,"show modal","#".concat(tc).concat(this._el.id)),window.addEventListener("hashchange",this.hashChangeHandlerRef))}close(){let{enableHistoryBack:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.removeEventListener("hashchange",this.hashChangeHandlerRef),this.pushState&&e&&(window.history.replaceState({},document.title,window.location.href.split("#")[0]),history.back()),super.close()}}document.querySelector.bind(document);String.fromCharCode(32);G(document);String.fromCharCode(32);function rc(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!e||0===e.trim().length};return e.errorMessageSuffix="error_empty",e}function ic(e){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length<e};return t.errorMessageSuffix="error_too_short",t}function oc(e){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length>e};return t.errorMessageSuffix="error_too_long",t}rc(),ic(3),oc(128),rc(),ic(6),oc(400);var sc=window||t.g;const ac=/^((?!\.(stg|corp)).)*\.linkedin\.(com|cn)$/,cc="utag_data",lc="tealium";function uc(){const e=sc.location?sc.location.hostname:"";return ac.test(e)}function dc(){return uc()?hc()?"platform.linkedin.cn":"platform.linkedin.com":hc()?"platform.linkedin-ei.cn":"platform.linkedin-ei.com"}function hc(){const e=sc.location?sc.location.hostname:"";return/\.cn$/.test(e)}function pc(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("function"!=typeof t||"function"!=typeof n)throw new TypeError("One of the specified callbacks is not a function.");const i=new sc.XMLHttpRequest;i.withCredentials=r,i.open("GET",e,!0),i.onreadystatechange=function(){this.readyState===this.DONE&&(200===this.status&&"function"==typeof t?t(this.responseText):n(this))},i.send()}function fc(e){return function(){let e=_();return!e||e.consent.optedInConsentMap.ADVERTISING}()&&function(e){return e["compliance.isGDPROptIn"]}(e)}function mc(e){return function(){let e=_();return!e||e.consent.optedInConsentMap.ANALYTICS_AND_RESEARCH}()}function gc(e){return function(){let e=_();return!e||e.consent.optedInConsentMap.FUNCTIONAL}()}function vc(e){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];e[i]=n[i]}}}return e}function yc(e){const t=new sc.Date;t.setSeconds(0),t.setMilliseconds(0);const n=Math.floor(t.getMinutes()/e)*e;return t.setMinutes(n),t.getTime()}function Ec(){return/utagdb=[^;]+/.test(sc.document.cookie)}let bc;const wc={},_c={};function Tc(){return"https://".concat(uc()?hc()?"www.linkedin.cn":"www.linkedin.com":hc()?"www.linkedin-ei.cn":"www.linkedin-ei.com").concat("/litms/api/metadata/user")}function Sc(){return function(e){let t=vc({},e);return t["compliance.isAdvertisingOptIn"]=fc(t),t["compliance.isAnalyticsAndResearchOptIn"]=mc(),t["compliance.isFunctionalOptIn"]=gc(),t}(wc)}function Ic(e){if(!_c[e]){const t=function(e){return"https://".concat(dc(),"/litms/allowlist/").concat(encodeURIComponent(e))}(e),n=new Promise(((e,n)=>{pc(t,(t=>{e(JSON.parse(t))}),(e=>{n(e)}),!1)}));_c[e]=n}return _c[e]}sc[cc]||(sc[cc]={});const Cc="undefined"!=typeof window&&window&&"node"!==window.appEnvironment;let kc;function Ac(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=null;return"string"==typeof e&&(n="https://".concat(dc(),"/litms/utag/").concat(e,"/utag.js?cb=").concat(yc(t))),n}function Rc(){return function(){if(void 0===kc&&Cc){const e=sc.document.cookie.match(/litms_utag_override=([^;]+)/);kc=e?e[1]:""}return kc}().length>0}function Oc(e,t,n,r){e.onLoadRulesRunOnce(n);let i=vc({},t,Sc());e.view(i),Ec()&&sc.trackingEventDebugData.push({profileName:r,eventType:"PV",trackingData:i})}function Nc(e,t,n,r){e.onLoadRulesRunOnce(n);let i=vc({},t,Sc());e.link(i),Ec()&&sc.trackingEventDebugData.push({profileName:r,eventType:"CI",trackingData:i})}function Lc(e,t,n){if(function(e){sc.utag=e}(e),t instanceof Array&&t.length>0){const r=t.length;for(let i=0;i<r;i++){const r=t.shift();r.isControlInteraction?Nc(e,r.data,r.callback,n):Oc(e,r.data,r.callback,n)}}}function Pc(e,t){!function(e){return"object"==typeof e&&"function"==typeof e.fireTrackingEvent}(e)?console.error("Unable to fire tracking event"):e.fireTrackingEvent(t.info.name,t.body)}function xc(e,t){return"urn:li:externalMarketingTag:(".concat(function(e){const t=e.data["ut.profile"],n=e.cfg.v;return"urn:li:tagManagementSystemProfile:(".concat(lc,",").concat(t,",").concat(n,")")}(e),",").concat(parseInt(t),")")}function Mc(e){const t=function(e){return Object.keys(e.loader.cfg).filter((t=>1===e.loader.cfg[t].send&&0!==e.loader.cfg[t].load))}(e).map((t=>function(e,t){return{tagUrn:xc(e,t)}}(e,t)));if(0!==t.length)return{info:{name:"ExternalMarketingTagFireEvent"},body:{header:{},requestHeader:{},tags:t}}}sc.utag_cfg_ovrd=sc.utag_cfg_ovrd||{},sc.trackingEventDebugData=sc.trackingEventDebugData||[],sc.utag_cfg_ovrd.noview=!0,sc.utag_cfg_ovrd.nocookie=!0;const Dc=Cc&&new RegExp("bot|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|sogou|facebook|alexa","i").test(sc.navigator.userAgent),Uc={};let Bc,Fc,qc,Hc={};class Gc{constructor(){let{profileName:e,tracking2Instance:t,enableAllowlisting:n=!1,cacheBusterInterval:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isInitialized=!1,this.isAllowlistingEnabled=!1,this._allowlistReadyPromise=Promise.resolve({}),this.isContainerTagLoaded=!1,this._queue=[],this.allowlist={pageKey:{},controlUrn:{}},this.tracking2Instance=t,this.profileName=e,this.enableAllowlisting=n,this.cacheBusterInterval=r}initialize(){return this._shouldInitialize()?this.isInitialized?(console.warn("Initialize should not be called more that once"),this.initializePromise.then()):(this.isInitialized=!0,this.initializePromise=new Promise(((e,t)=>{this.enableAllowlisting?(this.isAllowlistingEnabled=!0,this._onInitializeSuccessCallback=e,this._onInitializeFailureCallback=t,this._allowlistReadyPromise=Ic(this.profileName).then((e=>this._processAllowlistResult(e))).catch((e=>console.error("Unable to retrieve allowlists for profile : ".concat(this.profileName),e)))):this._loadContainerTag(e,t)})),this.profileName&&(Uc[this.profileName]=this),this.initializePromise):Promise.resolve()}_processAllowlistResult(e){Object.keys(e).forEach((t=>this.addValuesToAllowlist(t,e[t])))}_loadContainerTag(e,t){void 0!==sc.utag&&(sc.utag=void 0),void 0!==sc[cc]&&(sc[cc]=void 0);const n=function(){if(!bc){const e=Tc();bc=new Promise(((t,n)=>{pc(e,(e=>{try{t(JSON.parse(e))}catch(e){console.error("Invalid JSON format of userSettings"),n(e)}}),(e=>{n(e)}))}))}return bc}().then((e=>{Object.keys(e).forEach((t=>{!function(e,t){const n="string"!=typeof t?"":"".concat(t,".");"object"==typeof e&&Object.keys(e).forEach((t=>{wc[n+t]=e[t]}))}(e[t],t)}))})).catch((e=>{console.error("Unable to get user settings while calling loading container tag",e)})),r=(i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",t=arguments.length>1?arguments[1]:void 0;return Rc()?kc:Ac(e,t)}(this.profileName,this.cacheBusterInterval),new Promise((e=>{const t=sc.document.createElement("script");t.type="text/javascript",t.src=i,t.async=!0,t.onload=e,sc.document.getElementsByTagName("head")[0].appendChild(t)})));var i;Promise.all([n,r]).then((()=>{this.isContainerTagLoaded=!0,this._uTag=sc.utag,function(e){const t=[];e.onLoadRulesRunOnce=function(e){t.push(e)};const n=e.loader.initcfg;e.loader.initcfg=function(){n.call(this,arguments),t.length>0&&t.shift()()}}(this._uTag),this._processQueuedEvents();const t={info:{name:"TagManagementSystemLoadEvent"},body:{header:{},requestHeader:{}}};"object"==typeof this.tracking2Instance&&Pc(this.tracking2Instance,t),e(t)})).catch((e=>{console.error("Unable to complete loading container tag",e),t()}))}_shouldInitialize(){return!Dc}_shouldProcessEvent(e){return Dc?Promise.resolve(!1):this.isAllowlistingEnabled?new Promise((t=>{this._allowlistReadyPromise.then((()=>{t(this._isEventAllowlisted(e))}))})):Promise.resolve(!0)}_isEventAllowlisted(e){return void 0!==e.controlUrn?this._isEventAllowlistedByControlUrn(e):this._isEventAllowlistedByPageKey(e)}_isEventAllowlistedByPageKey(e){return void 0!==this.allowlist.pageKey[e.pageKey]}_isEventAllowlistedByControlUrn(e){return void 0!==this.allowlist.controlUrn[e.controlUrn]}addValuesToAllowlist(e,t){"string"==typeof e&&Array.isArray(t)&&void 0!==this.allowlist[e]&&t.forEach((t=>{this.allowlist[e][t]=!0}))}_processQueuedEvents(){this.isContainerTagLoaded?Lc(this._uTag,this._queue,this.profileName):this.isInitialized&&this.isAllowlistingEnabled&&this._loadContainerTag(this._onInitializeSuccessCallback,this._onInitializeFailureCallback)}_fireAuditEvent(){const e=Mc(this._uTag);return void 0!==this.tracking2Instance&&void 0!==e&&Pc(this.tracking2Instance,e),e}_createCallbackForAuditEvent(e){const t=this;return function(){const n=t._fireAuditEvent();"function"==typeof e&&e(n)}}_checkForCookieConsent(){_().consent.consentAvailable&&!Fc?this._refireTracking():Bc=setTimeout((()=>{this._checkForCookieConsent()}),2e3)}_refireTracking(){Hc.payloads&&Hc.payloads.forEach((e=>{const{data:t,callback:n}=e;t.cookieConsentGiven=!0,this.trackPageView(t,n)}))}_savePayloadForRefire(e,t){if(Cc){Fc=!1;const{payloads:n=[],url:r}=Hc,i=location.href,o={data:e,callback:t},s=i!==r?[]:n;s.push(o),Hc={url:i,payloads:s},Bc||(Bc=setTimeout((()=>{this._checkForCookieConsent()}),2e3))}}trackPageView(e,t){return _().consent.consentAvailable||this._savePayloadForRefire(e,t),this._shouldProcessEvent(e).then((n=>{n&&(this._queue.push({isControlInteraction:!1,data:e,callback:this._createCallbackForAuditEvent(t)}),this._processQueuedEvents())}))}trackControlInteraction(e,t){return this._shouldProcessEvent(e).then((n=>{n&&(this._queue.push({isControlInteraction:!0,data:e,callback:this._createCallbackForAuditEvent(t)}),this._processQueuedEvents())}))}}function jc(e){let{event:t,litmsInstance:n,pageKey:r}=e;const i=t.target.getAttribute("data-tracking-control-name"),o=t.target.hasAttribute("data-tracking-litms");i&&o&&n.trackControlInteraction({controlUrn:"urn:li:control:".concat(r,"-").concat(i)})}class zc{constructor(e){if(this.trackingInstance=e,this.pageKey=G(document),this.litmsProfileName=function(e){const t=e.querySelector('meta[name="litmsProfileName"]');return t?t.content:""}(document),!this.litmsProfileName)throw Error('Page missing "litmsProfileName" meta tag.');this.litmsInstance=new Gc({tracking2Instance:this.trackingInstance,profileName:this.litmsProfileName}),this.litmsInstance.initialize(),this.clickEventListener=e=>jc({event:e,litmsInstance:this.litmsInstance,pageKey:this.pageKey}),this.keydownEventListener=e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||jc({event:e,litmsInstance:this.litmsInstance,pageKey:this.pageKey})},document.body.addEventListener("click",this.clickEventListener,!0),document.body.addEventListener("keydown",this.keydownEventListener,!0)}trackPageView(){let{pageKey:e="",customParameters:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!("string"==typeof e||e instanceof String))throw new Error("The pageKey is not a string!");if(!("object"==typeof t||t instanceof Object))throw new Error("CustomParamteres is expected to be an object.");const n=e||this.pageKey;this.litmsInstance&&this.litmsInstance.trackPageView(Ie({pageKey:n},t))}}function Wc(e){if(!qc){if(!e)throw new Error("No trackingInstance passed in!");qc=new zc(e)}return qc}!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}const e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();const Kc={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},Vc={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},{GOOGLE_ERROR:Qc,GOOGLE_USER_FETCHED:Yc,INITIALIZED:Jc}=Kc,{INITIALIZATION:Xc,AUTHENTICATION:Zc}=Vc;class $c extends EventTarget{constructor(e){let{libSrcPath:t,el:n,clientId:r=CLIENT_ID}=e;if(super(),!n)throw TypeError("DOM element for Sign In button is required");if(this.libSrcPath=t,this.el=n,this.clientId=r,window.gapi)this._initializeGoogleAuth();else{if(!t)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");!function(e){"complete"===document.readyState?e():window.addEventListener("load",(()=>{e()}))}((()=>{!function(e,t){const n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}(t,this._initializeGoogleAuth.bind(this))}))}}_initializeGoogleAuth(){return gapi.auth2.init({client_id:this.clientId}).then((e=>{this.auth2=e,this._attachSignIn();const t=new CustomEvent(Jc);this.dispatchEvent(t)})).catch((e=>{const t={type:Xc,message:e.error},n=new CustomEvent(Qc,{detail:t});this.dispatchEvent(n)}))}_attachSignIn(){this.auth2.attachClickHandler(this.el,{},(e=>{const t=new CustomEvent(Yc,{detail:this._getGoogleUserInformation(e)});this.dispatchEvent(t)}),(e=>{const t={type:Zc,message:e.error},n=new CustomEvent(Qc,{detail:t});this.dispatchEvent(n)}))}_getGoogleUserInformation(e){const t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}var el={exports:{}};function tl(e){this.message=e}tl.prototype=new Error,tl.prototype.name="InvalidCharacterError";var nl="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new tl("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};var rl=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(nl(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return nl(t)}};function il(e){this.message=e}il.prototype=new Error,il.prototype.name="InvalidTokenError",el.exports=function(e,t){if("string"!=typeof e)throw new il("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(rl(e.split(".")[n]))}catch(e){throw new il("Invalid token specified: "+e.message)}},el.exports.InvalidTokenError=il;const ol=Kc,sl=Vc,{GOOGLE_USER_FETCHED:al,GOOGLE_ERROR:cl,INITIALIZED:ll}=ol,{INITIALIZATION:ul}=sl;function dl(e){var t=e.intersectionRect;return t.width>=0&&t.height>=0}function hl(e){try{return e.getBoundingClientRect()}catch(e){if("object"==typeof e&&null!==e&&16389==(65535&e.number))return{top:0,bottom:0,left:0,width:0,height:0,right:0,x:0,y:0};throw e}}function pl(e,t){return Math.round(e-t)}var fl,ml=(fl=function(e,t){return fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fl(e,t)},function(e,t){function n(){this.constructor=e}fl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),gl=function(){function e(){this.items=[]}return e.prototype.remove=function(e){for(var t=this.items.length,n=0;n<t;n++)this.removePredicate(e,this.items[n])&&(this.items.splice(n,1),n--,t--)},e.prototype.clear=function(){this.items=[]},e.prototype.push=function(e){this.items.push(e)},e.prototype.isEmpty=function(){return 0===this.items.length},e}(),vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ml(t,e),t.prototype.removePredicate=function(e,t){return"string"==typeof e?t.id===e:t.callback===e},t}(gl),yl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ml(t,e),t.prototype.removePredicate=function(e,t){return t===e},t}(gl),El=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ml(t,e),t.prototype.removePredicate=function(e,t){return"string"==typeof e?t.id===e:"function"==typeof e?t.callback===e:t.el===e},t}(gl),bl=function(){return 0},wl=!("undefined"==typeof window||!window||"undefined"==typeof document||!document),_l=wl&&!!window.requestAnimationFrame,Tl={hasDOM:wl,hasRAF:_l,getScrollTop:bl,getScrollLeft:bl,getHeight:bl,getWidth:bl,rAF:_l?window.requestAnimationFrame.bind(window):function(e){e()},meta:{width:0,height:0,scrollTop:0,scrollLeft:0,x:0,y:0,top:0,left:0},version:0,lastVersion:0,updateMeta:bl,get isDirty(){return Tl.version!==Tl.lastVersion},document:window.document,IntersectionObserver:wl&&window.IntersectionObserver,performance:wl&&window.performance};function Sl(){++Tl.version}function Il(){var e=null!=document.scrollingElement;Tl.getScrollTop=e?function(){return document.scrollingElement.scrollTop}:function(){return window.scrollY},Tl.getScrollLeft=e?function(){return document.scrollingElement.scrollLeft}:function(){return window.scrollX}}wl&&(Tl.getHeight=function(){return window.innerHeight},Tl.getWidth=function(){return window.innerWidth},Tl.updateMeta=function(){Tl.meta.height=Tl.getHeight(),Tl.meta.width=Tl.getWidth(),Tl.meta.scrollLeft=Tl.getScrollLeft(),Tl.meta.scrollTop=Tl.getScrollTop(),Tl.lastVersion=Tl.version},Tl.updateMeta(),"loading"!==document.readyState?Il():document.addEventListener("DOMContentLoaded",Il),window.addEventListener("resize",Sl,!1),window.addEventListener("scroll",Sl,!1));var Cl=function(){function e(){this.reads=[],this.work=[],this.running=!1}return e.prototype.scheduleRead=function(e){this.reads.unshift(e),this.run()},e.prototype.scheduleWork=function(e){this.work.unshift(e),this.run()},e.prototype.run=function(){var e=this;this.running||(this.running=!0,Tl.rAF((function(){e.running=!1;for(var t=0,n=e.reads.length;t<n;t++)e.reads.pop()();t=0;for(var r=e.work.length;t<r;t++)e.work.pop()();(e.work.length>0||e.reads.length>0)&&e.run()})))},e}(),kl=null;var Al=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rl="xxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),Ol=0,Nl=function(){function e(e,t,n,r,i,o,s,a,c,l){this.dateNow=e,this.highResTime=t,this.scrollTop=n,this.scrollLeft=r,this.width=i,this.height=o,this.x=s,this.y=a,this.top=c,this.left=l}return e.generate=function(t){void 0===t&&(t=window);var n=this.revalidateRootMeta(t);return new e(Date.now(),performance.now(),n.scrollTop,n.scrollLeft,n.width,n.height,n.x,n.y,n.top,n.left)},e.revalidateRootMeta=function(e){void 0===e&&(e=document);var t,n={width:0,height:0,scrollTop:0,scrollLeft:0,x:0,y:0,top:0,left:0};return Tl.isDirty&&Tl.updateMeta(),e===window||e===document?(n.height=Tl.meta.height,n.width=Tl.meta.width,n.scrollLeft=Tl.meta.scrollLeft,n.scrollTop=Tl.meta.scrollTop,n):(t=hl(e),n.scrollTop=e.scrollTop,n.scrollLeft=e.scrollLeft,n.width=t.width,n.height=t.height,n.x=t.x,n.y=t.y,n.top=t.top,n.left=t.left,n)},e}();function Ll(){return Ol+++Rl}var Pl=function(){function e(e,t){this.isTicking=!1,this.toRemove=[],this.engine=e||(kl||(kl=new Cl)),this.root=t||window}return e.prototype.tick=function(){if(this.queue.isEmpty())this.isTicking=!1;else{if(this.toRemove.length>0){for(var e=0;e<this.toRemove.length;e++)this.queue.remove(this.toRemove[e]);this.toRemove=[]}this.applyQueue(Nl.generate(this.root)),this.engine.scheduleRead(this.tick.bind(this))}},e.prototype.scheduleWork=function(e){this.engine.scheduleWork(e)},e.prototype.scheduleRead=function(e){this.engine.scheduleRead(e)},e.prototype.queryElement=function(e,t){var n,r,i=this;this.engine.scheduleRead((function(){n=hl(e),r=Nl.generate(i.root)})),this.engine.scheduleWork((function(){t(n,r)}))},e.prototype.unwatch=function(e){this.toRemove.push(e)},e.prototype.unwatchAll=function(){this.queue.clear()},e.prototype.startTicking=function(){this.isTicking||(this.isTicking=!0,this.engine.scheduleRead(this.tick.bind(this)))},e}(),xl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.queue=new vl,t}return Al(t,e),t.prototype.applyQueue=function(e){for(var t=0;t<this.queue.items.length;t++){var n=this.queue.items[t],r=n.id;(0,n.callback)(e,r)}},t.prototype.watch=function(e){this.startTicking();var t=Ll();return this.queue.push({callback:e,id:t}),t},t}(Pl),Ml=function(e){function t(t){var n=e.call(this,void 0,window)||this;return n.predicate=t,n}return Al(t,e),t.prototype.applyQueue=function(t){this.predicate(t)&&e.prototype.applyQueue.call(this,t)},t}(xl),Dl=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t,n)||this;return i.lastVersion=Tl.version,i.queue=new El,i.ALLOW_CACHED_SCHEDULER=r,i}return Al(t,e),Object.defineProperty(t.prototype,"isDirty",{get:function(){return Tl.version!==this.lastVersion},enumerable:!1,configurable:!0}),t.prototype.applyQueue=function(e){for(var t=0;t<this.queue.items.length;t++){var n=this.queue.items[t],r=n.callback,i=n.el,o=n.id,s=n.clientRect;!this.isDirty&&s&&this.ALLOW_CACHED_SCHEDULER||(s=this.queue.items[t].clientRect=hl(i)),r(e,o,s)}this.lastVersion=Tl.version},t.prototype.watch=function(e,t,n){this.startTicking(),n=n||Ll();return this.queue.push({el:e,callback:t,id:n,clientRect:null}),n},t}(Pl),Ul=null;var Bl=function(){function e(){this.queue=new yl}return e.prototype.listen=function(e){this.queue.push(e)},e.prototype.unlisten=function(e){this.queue.remove(e)},e.prototype.trigger=function(e){for(var t=0;t<this.queue.items.length;t++)this.queue.items[t](e)},e}(),Fl=function(){function e(e){this.scheduler=new Ml(e.bind(this))}return e.prototype.trigger=function(){},e.prototype.listen=function(e){this.state=Nl.generate(),this.scheduler.watch(e)},e.prototype.unlisten=function(e){this.scheduler.unwatch(e)},e}(),ql=null;function Hl(e,t){var n=(ql||(ql={scroll:new Fl((function(e){var t=this.state,n=t.scrollTop,r=t.scrollLeft;return this.state=e,n!==e.scrollTop||r!==e.scrollLeft})),resize:new Fl((function(e){var t=this.state,n=t.width,r=t.height;return this.state=e,r!==e.height||n!==e.width})),destroy:new Bl,beforeunload:new Bl,hide:new Bl,show:new Bl}))[e];n&&n.listen(t)}function Gl(e,t){if(ql){var n=ql[e];n&&n.unlisten(t)}}function jl(e,t){if(ql){var n=ql[e];n&&n.trigger(t)}}function zl(e){(Ul||(Ul=new xl)).scheduleWork(e)}function Wl(e){var t=e.left,n=e.right,r=e.top,i=e.bottom;return{left:t,x:t,top:r,y:r,bottom:i,right:n,width:n-t,height:i-r}}Tl.hasDOM&&(window.addEventListener("beforeunload",(function(){jl("beforeunload"),jl("destroy")})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?jl("show"):jl("hide")})));var Kl=function(){function e(e,t){void 0===t&&(t={}),this.records={},this.callback=e,t.threshold=t.threshold||0,this.rootMarginObj=function(e){var t=e.split(" ").map((function(e){return parseInt(e,10)}));switch(t.length){case 2:return{top:t[0],left:t[1],bottom:t[0],right:t[1]};case 3:return{top:t[0],left:t[1],bottom:t[2],right:t[1]};case 4:return{top:t[0],left:t[1],bottom:t[2],right:t[3]};default:return{top:0,left:0,bottom:0,right:0}}}(t.rootMargin||"0px"),this.root=t.root||null,Array.isArray(t.threshold)?this.thresholds=t.threshold:this.thresholds=[t.threshold],this.scheduler=new Dl(void 0,this.root,t.ALLOW_CACHED_SCHEDULER)}return e.prototype.observe=function(e){var t=this,n=e,r=n.__spanielId=n.__spanielId||Ll();return this.scheduler.watch(e,(function(e,r,i){t.onTick(e,r,i,n)}),n.__spanielId),r},e.prototype.onTick=function(e,t,n,r){var i=this,o=this.generateEntryEvent(e,n,r),s=o.numSatisfiedThresholds,a=o.entry,c=this.records[t]||(this.records[t]={entry:a,numSatisfiedThresholds:0});s===c.numSatisfiedThresholds&&a.isIntersecting===c.entry.isIntersecting||(c.numSatisfiedThresholds=s,c.entry=a,this.scheduler.scheduleWork((function(){i.callback([a])})))},e.prototype.unobserve=function(e){this.scheduler.unwatch(e.__spanielId),delete this.records[e.__spanielId]},e.prototype.disconnect=function(){this.scheduler.unwatchAll(),this.records={}},e.prototype.takeRecords=function(){return[]},e.prototype.generateEntryEvent=function(e,t,n){for(var r=0,i=function(e,t,n,r){if("none"===n.style.display)return{time:e.dateNow,highResTime:e.highResTime,boundingClientRect:Vl(),intersectionRatio:0,intersectionRect:Vl(),isIntersecting:!1,rootBounds:Vl(),target:n};var i=t.bottom,o=t.right,s=e.left+r.left,a=e.top+r.top,c={left:s,top:a,bottom:r.bottom,right:r.right,width:e.width-(r.right+r.left),height:e.height-(r.bottom+r.top),y:a,x:s},l=Math.max(c.left,t.left),u=Math.max(c.top,t.top),d=Math.min(c.left+c.width,t.right)-l,h=Math.min(c.top+c.height,t.bottom)-u,p=d>=0?l:0,f=u>=0?u:0,m={left:p,top:f,x:p,y:f,width:d,height:h,right:o,bottom:i};return function(e){var t=e.unixTime,n=e.highResTime,r=e.rootBounds,i=e.boundingClientRect,o=e.intersectionRect,s=e.target,a=i.height*i.width,c=a>0?o.width*o.height/a:0;return{time:t,highResTime:n,rootBounds:r,boundingClientRect:i,intersectionRect:o,target:s,intersectionRatio:c,isIntersecting:dl({intersectionRect:o})}}({unixTime:e.dateNow,highResTime:e.highResTime,rootBounds:c,target:n,boundingClientRect:Wl(t),intersectionRect:m})}(e,t,n,this.rootMarginObj),o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];i.intersectionRatio>=s&&r++}return{numSatisfiedThresholds:r,entry:i}},e}();function Vl(){return{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}var Ql={x:0,y:0,width:0,height:0,bottom:0,left:0,top:0,right:0};!function(){function e(e,t){var n=this;this.paused=!1,this.queuedEntries=[],this.recordStore={},this.callback=e;var r=t||{threshold:[]},i=r.root,o=r.rootMargin,s=r.threshold,a=r.ALLOW_CACHED_SCHEDULER,c=r.BACKGROUND_TAB_FIX,l=r.USE_NATIVE_IO,u="string"!=typeof(o=o||"0px")?function(e){return e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px"}(o):o;this.thresholds=s.sort((function(e){return e.ratio}));var d={root:i,rootMargin:u,threshold:this.thresholds.map((function(e){return e.ratio})),ALLOW_CACHED_SCHEDULER:a};this.usingNativeIo=!!l&&!!Tl.IntersectionObserver;var h=this.usingNativeIo?Tl.IntersectionObserver:Kl;this.observer=new h((function(e){return n.internalCallback(e)}),d),this.onTabHidden=this._onTabHidden.bind(this),this.onWindowClosed=this._onWindowClosed.bind(this),this.onTabShown=this._onTabShown.bind(this),Tl.hasDOM&&(Hl("beforeunload",this.onWindowClosed),Hl("hide",this.onTabHidden),Hl("show",this.onTabShown),c&&(this.paused="visible"!==Tl.document.visibilityState))}e.prototype._onWindowClosed=function(){this.onTabHidden()},e.prototype.setAllHidden=function(){for(var e=Object.keys(this.recordStore),t=0;t<e.length;t++)this.handleRecordExiting(this.recordStore[e[t]]);this.flushQueuedEntries()},e.prototype._onTabHidden=function(){this.paused=!0,this.setAllHidden()},e.prototype.generateObserverTimestamp=function(){return this.usingNativeIo?Math.floor(performance.now()):Date.now()},e.prototype._onTabShown=function(){this.paused=!1;for(var e=Object.keys(this.recordStore),t=performance.now(),n=this.generateObserverTimestamp(),r=0;r<e.length;r++){var i=this.recordStore[e[r]].lastSeenEntry;if(i){var o=i.intersectionRatio,s=i.boundingClientRect,a=i.rootBounds,c=i.intersectionRect,l=i.isIntersecting,u=i.target;this.handleObserverEntry({intersectionRatio:o,boundingClientRect:s,time:n,highResTime:t,isIntersecting:l,rootBounds:a,intersectionRect:c,target:u})}}},e.prototype.internalCallback=function(e){e.forEach(this.handleObserverEntry.bind(this))},e.prototype.flushQueuedEntries=function(){this.queuedEntries.length>0&&(this.callback(this.queuedEntries),this.queuedEntries=[])},e.prototype.generateSpanielEntry=function(e,t){var n=e.intersectionRatio,r=e.rootBounds,i=e.boundingClientRect,o=e.intersectionRect,s=e.isIntersecting,a=e.time,c=e.target,l=this.recordStore[c.__spanielId],u=this.usingNativeIo?Math.floor((Tl.performance.timeOrigin||Tl.performance.timing.navigationStart)+a):a,d=this.usingNativeIo?a:e.highResTime;if(!d)throw new Error("Missing intersection entry timestamp");return{intersectionRatio:n,isIntersecting:s,unixTime:u,time:u,highResTime:d,rootBounds:r,boundingClientRect:i,intersectionRect:o,target:c,duration:0,visibleTime:s?u:-1,entering:!1,payload:l.payload,label:t.threshold.label,threshold:t.threshold}},e.prototype.handleRecordExiting=function(e){var t=this,n=Date.now(),r=performance.now();e.thresholdStates.forEach((function(i){var o=e.lastSeenEntry&&e.lastSeenEntry.boundingClientRect;t.handleThresholdExiting({intersectionRatio:-1,isIntersecting:!1,unixTime:n,time:n,highResTime:r,payload:e.payload,label:i.threshold.label,threshold:i.threshold,entering:!1,rootBounds:Ql,boundingClientRect:o||Ql,intersectionRect:Ql,visibleTime:i.lastVisible.unixTime,duration:pl(r,i.lastVisible.highResTime),target:e.target},i),i.lastSatisfied=!1,i.visible=!1,i.lastEntry=null}))},e.prototype.handleThresholdExiting=function(e,t){var n=e.highResTime,r=!!t.threshold.time;t.lastSatisfied&&(!r||r&&t.visible)&&(e.duration=pl(n,t.lastVisible.highResTime),e.visibleTime=t.lastVisible.unixTime,e.entering=!1,t.visible=!1,this.queuedEntries.push(e)),clearTimeout(t.timeoutId)},e.prototype.handleObserverEntry=function(e){var t=this,n=e.target,r=this.recordStore[n.__spanielId];r&&(r.lastSeenEntry=e,this.paused||(r.thresholdStates.forEach((function(n){var r=!!n.threshold.time,i=t.generateSpanielEntry(e,n),o=e.intersectionRatio>=n.threshold.ratio,s="boolean"==typeof i.isIntersecting?i.isIntersecting:dl(e),a=o&&s;if(a!=n.lastSatisfied){if(a)if(i.entering=!0,n.lastVisible={highResTime:i.highResTime,unixTime:i.unixTime},r){var c=Number(setTimeout((function(){n.visible=!0,i.duration=pl(performance.now(),n.lastVisible.highResTime),i.visibleTime=n.lastVisible.unixTime,t.callback([i])}),n.threshold.time));n.timeoutId=c}else n.visible=!0,i.duration=Date.now()-n.lastVisible.unixTime,t.queuedEntries.push(i);else t.handleThresholdExiting(i,n);n.lastEntry=e,n.lastSatisfied=a}})),this.flushQueuedEntries()))},e.prototype.disconnect=function(){this.setAllHidden(),this.observer.disconnect(),this.recordStore={}},e.prototype.destroy=function(){this.disconnect(),Tl.hasDOM&&(Gl("beforeunload",this.onWindowClosed),Gl("hide",this.onTabHidden),Gl("show",this.onTabShown))},e.prototype.unobserve=function(e){var t=this,n=this.recordStore[e.__spanielId];n&&(delete this.recordStore[e.__spanielId],this.observer.unobserve(e),zl((function(){t.handleRecordExiting(n),t.flushQueuedEntries()})))},e.prototype.observe=function(e,t){var n=e,r=n.__spanielId=n.__spanielId||Ll();return this.recordStore[r]={target:n,payload:t,lastSeenEntry:null,thresholdStates:this.thresholds.map((function(e){return{lastSatisfied:!1,lastEntry:null,threshold:e,visible:!1,lastVisible:{unixTime:0,highResTime:-1}}}))},this.observer.observe(n),r}}();Tl.IntersectionObserver&&Tl.IntersectionObserver;const Yl="show-more-less";".".concat(Yl,"__list"),".".concat(Yl,"__more-button"),".".concat(Yl,"__less-button"),"".concat(Yl,"__list--hide-after"),"".concat(Yl,"__button--hide");const Jl="accordion-item__trigger";".".concat(Jl);const Xl=350,Zl="sticky-header--disabled",$l="body--sticky-header-disabled";class eu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector(".".concat("sticky-header")),{marginApplied:t=!0,disableUnderMinimumViewportHeight:n=!1,minimumViewportHeight:r=Xl}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("A header element is required to instantiate a StickyHeader");if(!e.querySelector("nav"))throw Error("The header must contain a 'nav' element in order to instantiate a StickyHeader");let i=8;if(uo()){const t=e.querySelector(".search-bar");t&&(i=t.getBoundingClientRect().height)}return this.stickyHeader=e,this.stickyElementOptions={exposeStickyState:!0,isBottom:!1,marginApplied:t,scrollThreshold:i},n&&r>0?this.setupDisableUnderMinimumViewportHeight(r):this.instantiateStickyElement(),this.stickyElement}instantiateStickyElement(){!0===ca("isClsFixActive")||document.body.classList.add("body--sticky-header"),this.stickyElement=new ga(this.stickyHeader,this.stickyElementOptions)}setupDisableUnderMinimumViewportHeight(e){const t="(min-height: ".concat(e,"px)"),n=window.matchMedia(t);n.addEventListener("change",this.handleMediaQueryChange.bind(this)),this.handleMediaQueryChange(n)}handleMediaQueryChange(e){var t;e.matches?(this.stickyHeader.classList.remove(Zl),document.body.classList.remove($l),this.stickyElement?this.stickyElement.reactivate():this.instantiateStickyElement()):(this.stickyHeader.classList.add(Zl),document.body.classList.add($l),null===(t=this.stickyElement)||void 0===t||t.deactivate())}}const tu=["options","optionsV2"];function nu(e){return t=>t.type&&t.type.toLowerCase()===e.toLowerCase()}const ru="BLOCK_PROFILE",iu=nu("action"),ou=nu("openpage"),su=nu("openlink"),au=e=>iu(e)&&e.action.actionType===ru;function cu(e){const t=function(e){const t=(e.type?e.type:e).toLowerCase().split("_"),n=[];n.push(t.splice(0,1));for(const e of t)n.push(e[0].toUpperCase()+e.slice(1));return n.join("")}(e),n=t.toLowerCase();return{[n]:Ie({},e[t]),type:n}}class lu{constructor(e){this.optionStack=[],this.semaphoreJson=e.constructor==={}.constructor?e:JSON.parse(e)}getNextStep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.semaphoreJson,{options:n,optionsV2:r}=t,i=ke(t,tu);if(n&&!(this.optionStack.length>=i.numberOfSteps)){if(e===ru){let e=n.find((e=>iu(e)&&e.action.type===ru));if(!e)return;e=JSON.parse(JSON.stringify(e)),e.action.actionType=ru;const t=[e];return this.optionStack.push(Ie({options:t.map((e=>cu(e))),heading:i.blockConfirmationScreen.heading},i)),this.optionStack[this.optionStack.length-1]}if(e){const t=this.optionStack.length;if(0===t)return;const n=this.optionStack[t-1].options.find((t=>t[t.type].title===e));if(!n)return;if(ou(n))return Ie(Ie({},n),i);const r=Ie({options:n[n.type].options.map((e=>cu(e)))},i);n[n.type].heading&&(r.heading=n[n.type].heading),this.optionStack.push(r)}else n=[...n,...r],this.optionStack.push(Ie({options:n.map((e=>cu(e)))},i));return this.optionStack[this.optionStack.length-1]}}getPreviousStep(){if(this.optionStack.length>1)return this.optionStack.pop(),this.optionStack[this.optionStack.length-1]}hasPreviousStep(){return this.optionStack.length>1}getCurrentStep(){return this.optionStack[this.optionStack.length-1]}findAction(e){const t=this.optionStack[this.optionStack.length-1].options;if(!t)return;const n=t.find((t=>iu(t)&&t[t.type].title===e));return n&&n.action}}const uu="hidden";class du extends Zi{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.titleEl=this._el.querySelector(".semaphore-modal__title"),this.contentEl=this._el.querySelector(".semaphore-modal__content"),this.footer=this._el.querySelector(".modal__footer"),this.submitBtn=this.footer.querySelector('[data-semaphore-action="submit"]')}setTitle(e){this.titleEl.textContent=e}setContent(e){this.contentEl.appendChild(e)}hideFooter(){this.footer.classList.add(uu)}showFooter(){this.footer.classList.remove(uu)}enableSubmit(){this.submitBtn.disabled=!1}disableSubmit(){this.submitBtn.disabled=!0}hideSubmit(){this.disableSubmit(),this.submitBtn.classList.add(uu)}showSubmit(){this.enableSubmit(),this.submitBtn.classList.remove(uu)}querySelector(e){return this._el.querySelector(e)}clearContent(){for(this.disableSubmit();this.contentEl.firstChild;)this.contentEl.removeChild(this.contentEl.firstChild)}close(){this.clearContent(),super.close()}}class hu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-item-type="semaphore"]',t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3?arguments[3]:void 0;this.semaphoreSelector=e,this.parentContainer=t||document;const i=this.parentContainer.querySelector(e);if(i){this.semaphoreTrackingPrefix=i.dataset.semaphoreTrackingPrefix;const e=this.parentContainer.querySelector("#semaphore-modal");this.semaphoreModal=new du(e,{focusElement:r}),this.submitActionCallBack=n,this.parentContainer?(this.parentContainer.addEventListener("click",this.semaphoreClickHandler.bind(this)),e.addEventListener("click",this.clickHandler.bind(this))):(document.body.removeEventListener("click",this.clickHandler),document.body.addEventListener("click",this.clickHandler.bind(this)))}}clickHandler(e){const t=T(e.target,"[data-semaphore-input]");if(t){if(t.href)return e.preventDefault(),void window.open(t.href,"_blank");"semaphore-action"===t.name&&(this.semaphoreModal.showFooter(),this.semaphoreModal.showSubmit())}if("back"===e.target.dataset.semaphoreAction){const e=this.semaphoreConfigParser.getPreviousStep();return void(e?(this.renderSemaphoreOptions(e),this.refreshLazyLoader(),this.semaphoreModal.open()):this.semaphoreModal.close())}if("submit"===e.target.dataset.semaphoreAction){let t=this.semaphoreModal.querySelector("[data-semaphore-input]:checked");if(t){const n=this.semaphoreConfigParser.findAction(t.value);n&&this.sendAction(n).finally((()=>{this.renderThanks(this.semaphoreConfigParser.getCurrentStep().resultScreen),this.submitActionCallBack(e)}))}}let n=T(e.target,"[data-semaphore-item]");if(n&&"action"!==n.dataset.semaphoreItem){const t=n.querySelector('[data-attr="title"]');if(t){const n=this.semaphoreConfigParser.getNextStep(t.textContent);n&&(ou(n)?(this.renderThanks(n.resultScreen),this.submitActionCallBack(e)):this.renderSemaphoreOptions(n),this.refreshLazyLoader(),this.semaphoreModal.open())}}else{if(n&&n.dataset.semaphoreType===ru){const e=this.semaphoreConfigParser.getNextStep(ru);e&&this.renderSemaphoreOptions(e)}this.parentContainer||this.semaphoreClickHandler(e)}}semaphoreClickHandler(e){let t=T(e.target,this.semaphoreSelector);t&&t.dataset.semaphoreContentType&&t.dataset.semaphoreContentUrn&&"true"===t.dataset.isLoggedIn&&(e.preventDefault(),this.makeSemaphoreRequest(t.dataset.semaphoreContentUrn,t.dataset.semaphoreContentType,t.dataset.semaphoreAuthorProfileId,t.dataset.semaphoreAuthorUrn).then((e=>{this.semaphoreConfigParser=new lu(e);const t=this.semaphoreConfigParser.getNextStep();t&&(this.renderSemaphoreOptions(t),this.refreshLazyLoader(),this.semaphoreModal.open())})))}renderSemaphoreOptions(e){this.semaphoreModal.clearContent();const t=this.parentContainer.querySelector("#semaphore-container-template").content.firstElementChild.cloneNode(!0);let n=!1,r=!1,i=!1;e.options.forEach((o=>{let s=o.type;su(o)&&!r&&(r=!0),iu(o)&&(n||(n=!1===o[s].nonRadioOptionEnabled),s=au(o)?"block":o[s].nonRadioOptionEnabled?s:"".concat(s,"-radio"));const a=this.parentContainer.querySelector("#semaphore-".concat(s,"-template")).content.firstElementChild.cloneNode(!0),c=o[o.type],l=a.querySelector('[data-attr="title"]');if(l&&(l.textContent=c.title),c.type&&(a.dataset.semaphoreType=c.type),iu(o)){if(au(o)){i=!0;const t="".concat(e.blockConfirmationScreen.firstLine," \n ").concat(e.blockConfirmationScreen.secondLine);a.querySelector('[data-attr="block-content"]').textContent=t}a.querySelector("[data-semaphore-input]").value=c.title}const u=a.querySelector('[data-attr="body"]');u&&(c.body?u.textContent=c.body:u.remove()),c.url&&(a.querySelector("[data-semaphore-input]").href=c.url),a.querySelector("[data-semaphore-input]").dataset.trackingControlName=c.trackingId,t.appendChild(a)})),this.semaphoreModal.setContent(t),this.semaphoreModal.setTitle(e.heading||e.headings.whyReportingThis),this.semaphoreConfigParser.hasPreviousStep()?(this.semaphoreModal.showFooter(),i&&this.semaphoreModal.showSubmit()):this.semaphoreModal.hideFooter(),r&&this.semaphoreModal.hideSubmit()}renderThanks(e){this.semaphoreModal.hideFooter(),this.semaphoreModal.clearContent(),this.semaphoreModal.setTitle(e.title);const t=this.parentContainer.querySelector("#semaphore-result-template").content.firstElementChild.cloneNode(!0);t.querySelector('[data-attr="thanks-text-body"]').textContent=e.messageBody.body;let n=t.querySelector('[data-attr="thanks-help-center-link"]');n.textContent=e.messageBody.helpCenterText,n.href=this.addTrackingCode(e.messageBody.helpCenterLink);const r=document.createElement("div");r.appendChild(t),this.semaphoreModal.setContent(r)}addTrackingCode(e){return P(e,this.semaphoreTrackingPrefix)}sendAction(e){return fe(e.actionUrl,{method:e.actionUrlRequestType,postData:e.actionPostData})}makeSemaphoreRequest(e,t,n,r){let i=x("/psettings/flagging-menu","entityUrn",e);return i=x(i,"contentSource",t),n?i=x(i,"authorProfileId",n):r&&(i=x(i,"authorUrn",r)),fe(i).then((e=>200===e.status?e.responseText:"{}")).catch((()=>"{}"))}refreshLazyLoader(){window.lazyloader&&window.lazyloader.then((e=>{e.refreshLoader()}))}}class pu{constructor(e){if(!e)throw new Error("EllipsisMenu el required");this._el=e,this.currentMenuItem=this._el.querySelector(".ellipsis-menu__item-button");const t=this._el.querySelector(".collapsible-dropdown");if(!t)throw new Error("A collapsible dropdown is required to instantiate an EllipsisMenu");this.collapsibleDropdown=new pe(t,{elementToFocus:this.currentMenuItem});this._el.querySelector(".ellipsis-menu__semaphore")&&(this._semaphore=new hu('[data-item-type="semaphore"]',t))}}var fu;!function(e){e.ProductName="productName",e.UntrackedResponseCodes="untrackedResponseCodes",e.TrackedResponseCodes="trackedResponseCodes",e.ClientSensorGroupName="clientSensorGroupName"}(fu||(fu={}));new Set(Object.values(fu));class mu extends Error{constructor(e){super(e),Object.setPrototypeOf(this,mu.prototype)}}var gu;!function(e){e.ProductName="productName",e.CustomTrackingId="customTrackingId",e.ClientSensorGroupName="clientSensorGroupName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides"}(gu||(gu={})),new Set(Object.values(gu));var vu={exports:{}};(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},d.apply(null,arguments)}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||!h(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},p(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function g(e){return function(){var t,n=c(e);if(u()){var r=c(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return m(this,t)}}function v(e){"complete"===document.readyState?e():window.addEventListener("load",(function(){e()}))}function y(e,t){var n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}function E(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}(function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window.CustomEvent=e})(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}var e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();var b="990339570472-k6nqn1tpmitg8pui82bfaun3jrpmiuhs.apps.googleusercontent.com",w={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},_="https://accounts.google.com",T={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},S={INIT_FAILED:"idpiframe_initialization_failed",POPUP_CLOSED_BY_USER:"popup_closed_by_user",ACCESS_DENIED:"access_denied",IMMEDIATE_FAILED:"immediate_failed"},I={SIGN_IN:"signin",SIGN_UP:"signup",USE:"use"},C={DISPLAY:"display",SKIPPED:"skipped",DISMISSED:"dismissed"},k={NOT_DISPLAYED:{BROWSER_NOT_SUPPORTED:"browser_not_supported",INVALID_CLIENT:"invalid_client",MISSING_CLIENT_ID:"missing_client_id",OPT_OUT_OR_NO_SESSION:"opt_out_or_no_session",SECURE_HTTP_REQUIRED:"secure_http_required",SUPPRESSED_BY_USER:"suppressed_by_user",UNREGISTERED_ORIGIN:"unregistered_origin",UNKNOWN_REASON:"unknown_reason"},SKIPPED:{AUTO_CANCEL:"auto_cancel",USER_CANCEL:"user_cancel",TAP_OUTSIDE:"tap_outside",ISSUING_FAILED:"issuing_failed"},DISMISSED:{CREDENTIAL_RETURNED:"credential_returned",CANCEL_CALLED:"cancel_called",FLOW_RESTARTED:"flow_restarted"}},A="com.linkedin.LinkedIn.service",R="https://www.linkedin.com/redirect",O="https://www.linkedin-ei.com/redirect",N={DISMISSED:"DISMISSED",INITIALIZED:"INITIALIZED",SNAPPLE_USER_FETCHED:"SNAPPLE_USER_FETCHED"},L={signin:{GOT:"signin",GSI_BUTTON:"signin_with"},signup:{GOT:"signup",GSI_BUTTON:"signup_with"},use:{GOT:"use",GSI_BUTTON:"continue_with"}},P=w.GOOGLE_ERROR,x=w.GOOGLE_USER_FETCHED,M=w.INITIALIZED,D=T.INITIALIZATION,U=T.AUTHENTICATION,B=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.libSrcPath,s=e.el,a=e.clientId,c=void 0===a?b:a;if(t(this,i),r=n.call(this),!s)throw TypeError("DOM element for Sign In button is required");if(r.libSrcPath=o,r.el=s,r.clientId=c,window.gapi)r._initializeGoogleAuth();else{if(!o)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");v((function(){y(o,r._initializeGoogleAuth.bind(f(r)))}))}return r}return r(i,[{key:"_initializeGoogleAuth",value:function(){var e=this;return gapi.auth2.init({client_id:this.clientId}).then((function(t){e.auth2=t,e._attachSignIn();var n=new CustomEvent(M);e.dispatchEvent(n)})).catch((function(t){var n={type:D,message:t.error},r=new CustomEvent(P,{detail:n});e.dispatchEvent(r)}))}},{key:"_attachSignIn",value:function(){var e=this;this.auth2.attachClickHandler(this.el,{},(function(t){var n=new CustomEvent(x,{detail:e._getGoogleUserInformation(t)});e.dispatchEvent(n)}),(function(t){var n={type:U,message:t.error},r=new CustomEvent(P,{detail:n});e.dispatchEvent(r)}))}},{key:"_getGoogleUserInformation",value:function(e){var t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}]),i}(p(EventTarget)),F=w.GOOGLE_USER_FETCHED,q=w.PROMPT_MOMENT,H=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.autoSelect,s=void 0!==o&&o,a=e.libSrcPath,c=e.containerId,l=e.context,u=e.clientId,d=void 0===u?b:u,h=e.cancelOnTapOutside,p=void 0===h||h;if(t(this,i),r=n.call(this),!l)throw TypeError("context param is required to determine the message to show in Google One Tap");if(r.autoSelect=s,r.libSrcPath=a,r.containerId=c,r.cancelOnTapOutside=p,r.clientId=d,r.context=l,window.google&&window.google.accounts&&window.google.accounts.id)r._onGoogleApiLoad();else{if(!a)throw TypeError("Google One Tap lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(a,r._onGoogleApiLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onGoogleApiLoad",value:function(){var e=this;return google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.containerId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:this.context}),Promise.resolve().then((function(){return e.promptOneTap()}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=this.context===I.SIGN_UP?this._getBasicProfile(t):{idToken:t};if(n){n.selectedBy=e.select_by;var r=new CustomEvent(F,{detail:n});this.dispatchEvent(r)}}},{key:"_getBasicProfile",value:function(e){try{var t=new gapi.auth2.BasicProfile({id_token:e});return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:e,imageUrl:t.getImageUrl()}}catch(e){return this._dispatchSkippedEvent(e.message),null}}},{key:"_dispatchSkippedEvent",value:function(e){var t={message:e,reason:k.SKIPPED.ISSUING_FAILED,type:C.SKIPPED},n=new CustomEvent(q,{detail:t});this.dispatchEvent(n)}},{key:"promptOneTap",value:function(){var e=this;google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},r=new CustomEvent(q,{detail:n});e.dispatchEvent(r),e.checkIfDesktopAndApplyClass()}))}},{key:"hideOneTap",value:function(){google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),i}(p(EventTarget)),G={exports:{}},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function z(e){this.message=e}function W(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new z("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r=j.indexOf(r);return s}z.prototype=new Error,z.prototype.name="InvalidCharacterError";var K="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||W;function V(e){return decodeURIComponent(K(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}var Q=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return V(t)}catch(e){return K(t)}};function Y(e){this.message=e}Y.prototype=new Error,Y.prototype.name="InvalidTokenError",G.exports=function(e,t){if("string"!=typeof e)throw new Y("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Q(e.split(".")[n]))}catch(e){throw new Y("Invalid token specified: "+e.message)}},G.exports.InvalidTokenError=Y;var J=G.exports,X=w.GOOGLE_USER_FETCHED,Z=w.PROMPT_MOMENT,$=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.autoSelect,s=void 0!==o&&o,a=e.libSrcPath,c=e.clientId,l=void 0===c?b:c,u=e.showOneTap,d=void 0===u||u,h=e.promptParentId,p=e.buttonParentEl,m=e.gsiButtonConfig,g=void 0===m?{}:m,w=e.context,_=void 0===w?"signin":w,T=e.cancelOnTapOutside,S=void 0===T||T;if(t(this,i),(r=n.call(this)).autoSelect=s,r.libSrcPath=a,r.clientId=l,r.showOneTap=d,r.promptParentId=h,r.buttonParentEl=p,r.gsiButtonConfig=g,r.cancelOnTapOutside=S,r.context=_,r.isLibraryLoaded=E(),window.google&&window.google.accounts&&window.google.accounts.id)r._onGoogleApiLoad();else{if(!a)throw TypeError("GSI lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(a,r._onGoogleApiLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onGoogleApiLoad",value:function(){var e=this;return this.isLibraryLoaded.resolve(),window.google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.promptParentId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:L[this.context].GOT}),Promise.resolve().then((function(){return e.showGsiUI()}))}},{key:"showGsiUI",value:function(){this.buttonParentEl&&this.renderGSIButton(this.buttonParentEl,this.gsiButtonConfig),this.showOneTap&&this.promptOneTap()}},{key:"renderGSIButton",value:function(e,t){var n=this,r=t.logo_alignment,i=void 0===r?"center":r,o=t.shape,s=void 0===o?"pill":o,a=t.size,c=void 0===a?"large":a,l=t.text,u=t.theme,d=t.type,h=t.width,p=void 0===h?"400px":h;return this.isLibraryLoaded.then((function(){var t=l||L[n.context].GSI_BUTTON;window.google.accounts.id.renderButton(e,{logo_alignment:i,shape:s,size:c,text:t,theme:u,type:d,width:p})}))}},{key:"promptOneTap",value:function(){var e=this;return this.isLibraryLoaded.then((function(){window.google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},r=new CustomEvent(Z,{detail:n});e.dispatchEvent(r),e.checkIfDesktopAndApplyClass()}))}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=e.select_by,r=J(t),i=s({},this._getBasicProfile(r),{idToken:t,selectedBy:n});if(i){var o=new CustomEvent(X,{detail:i});this.dispatchEvent(o)}}},{key:"_getBasicProfile",value:function(e){return{email:e.email,familyName:e.family_name,givenName:e.given_name,id:e.sub,imageUrl:e.picture}}},{key:"hideOneTap",value:function(){window.google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),i}(p(EventTarget)),ee=N.DISMISSED,te=N.INITIALIZED,ne=N.SNAPPLE_USER_FETCHED,re=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.libSrcPath,s=e.snappleCTA,a=e.clientId,c=void 0===a?A:a,l=e.redirectURI;if(t(this,i),r=n.call(this),!s)throw TypeError("snappleCTA is required. Please pass the correct CTA element to this Snapple Constructor");if(r.libSrcPath=o,r.clientId=c,r.redirectURI=r._getRedirectURL(l),r.snappleCTA=s,window.AppleID&&window.AppleID.auth&&window.AppleID.auth.init)r._onSnappleLibLoad();else{if(!o)throw TypeError("Snapple lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(o,r._onSnappleLibLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onSnappleLibLoad",value:function(){window.AppleID.auth.init({clientId:this.clientId,scope:"name email",redirectURI:this.redirectURI,usePopup:!0});var e=new CustomEvent(te);return this.dispatchEvent(e),Promise.resolve(this._attachEvents())}},{key:"_attachEvents",value:function(){var e=this;this.snappleCTA.addEventListener("click",(function(){return window.AppleID.auth.signIn().then((function(t){var n=new CustomEvent(ne,{detail:t});e.dispatchEvent(n)})).catch((function(t){var n=new CustomEvent(ee,{detail:{type:ee,message:t}});e.dispatchEvent(n)}))}))}},{key:"_getRedirectURL",value:function(e){var t=window.location.host.indexOf("linkedin.com")>-1;return this.redirectURI?e:t?R:O}}]),i}(p(EventTarget)),ie={CLIENT_ID:b,EVENTS:w,GOOGLE_ACCOUNT_URL:_,GSI_ERROR_TYPES:T,GSI_ERROR_MESSAGES:S,GOT_CONTEXTS:I,GOT_PROMPT_MOMENT_REASONS:k,GOT_PROMPT_MOMENT_TYPES:C};e.GoogleGsi=$,e.GoogleOneTap=H,e.GoogleSignIn=B,e.GoogleSignInConstants=ie,e.SnappleAuth=re,e.SnappleEvents=N,Object.defineProperty(e,"__esModule",{value:!0})})(vu.exports);const{EVENTS:yu,GOT_CONTEXTS:Eu,GOT_PROMPT_MOMENT_REASONS:bu,GOT_PROMPT_MOMENT_TYPES:wu}=vu.exports.GoogleSignInConstants,{GOOGLE_USER_FETCHED:_u,PROMPT_MOMENT:Tu}=yu,{SIGN_IN:Su}=Eu;bu.NOT_DISPLAYED.BROWSER_NOT_SUPPORTED,bu.NOT_DISPLAYED.OPT_OUT_OR_NO_SESSION,bu.NOT_DISPLAYED.SUPPRESSED_BY_USER,bu.SKIPPED.AUTO_CANCEL,bu.SKIPPED.TAP_OUTSIDE,bu.SKIPPED.USER_CANCEL;class Iu{constructor(){let{typeaheadApiBaseUrl:e,stickyHeaderOptions:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=document.querySelector(".search-bar");n&&(this.searchBar=new $a(n,{typeaheadApiBaseUrl:e}));const r=document.querySelector(".language-selector");r&&(this.languageSelector=new ve(r));document.querySelector(".sticky-header")&&new eu(void 0,t),document.querySelector(".member-nav-menu")&&new to}}const Cu="filter-values-container__filter-value";".".concat(Cu," input"),".".concat(Cu," input[type=radio]:checked");const ku="badgesreceived";class Au{constructor(){let{badgeSel:e="[data-badge-without-count-source]",badgeCountSel:t="[data-badge-source]",cacheBustHrefSel:n='[data-update-cache-bust-url="true"]'}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._counts={},this.badgeCountEls=document.querySelectorAll(t),this.badgeWithoutCountEls=document.querySelectorAll(e),this.cacheBustHrefEls=document.querySelectorAll(n),this.feedLastUpdatedTimeInDom=ca("feedLastUpdatedTime")}resetBadges(){yo(this.badgeCountEls),yo(this.badgeWithoutCountEls)}getBadges(){const e=this.feedLastUpdatedTimeInDom||"";return fe(e?x(ec,"feedQueryAfterTime",e):ec).then((t=>{const n=JSON.parse(t.responseText);U(window,ku,{feedsCount:n.feedsCount}),this._counts=n;const r=bo();return"messaging"===r&&(this._counts.messagingCount=0),"feed"===r||e||(this._counts.feedsCount=2),this._counts.feedsCount=this._counts.feedsCount>=2?1:0,this._counts.lastUpdatedAt=(new Date).getTime(),this._updateCacheBustUrl(this._counts.feedsCount>0),this._renderBadges(),this})).catch((()=>{U(window,ku,{feedsCount:0})}))}_renderBadges(){this.badgeCountEls.forEach((e=>{this._setBadgeCount(e,this._counts[e.dataset.badgeSource])})),this.badgeWithoutCountEls.forEach((e=>{this._setBadge(e,this._counts[e.dataset.badgeWithoutCountSource])}))}_setBadgeCount(e,t){if(!e)return;const n=e.innerHTML;null==n&&t>0?(e.textContent=t,vo(e)):t!==n&&(t>0?(e.textContent=t,vo(e),e.classList.toggle("singular",t<=1)):go(e))}_setBadge(e,t){e&&(t>0?(vo(e),e.classList.add("badge-with-no-count")):go(e))}_updateCacheBustUrl(e){ca("isSWCacheEnabled")&&this.cacheBustHrefEls&&this.cacheBustHrefEls.forEach((t=>{t.href=Is(e?x(t.href,"pwa","noCache"):q(t.href))}))}}!function(){let e}();const Ru="_lastUpdatedAt";class Ou{constructor(e){this.storage=void 0===e?localStorage:e}read(e){const t=this.storage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){console.error(e)}return null}write(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}}remove(e){try{this.storage.removeItem(e)}catch(e){console.error(e)}}readWithExpiry(e,t){const n=this.read(e+Ru);return n&&(new Date).getTime()-n<t?this.read(e):(this.removeWithExpiry(e),null)}writeWithExpiry(e,t){this.write(e,t),this.write(e+Ru,(new Date).getTime())}removeWithExpiry(e){this.remove(e),this.remove(e+Ru)}}Ou.instance||(Ou.instance=new Ou(localStorage)),Ou.instance,Ou.sessionInstance||(Ou.sessionInstance=new Ou(sessionStorage)),Ou.sessionInstance;let Nu;C.getInstance().addUnloadCallback((()=>{Nu&&Nu.close(),go(document.querySelector("#discard-post-modal")),go(document.querySelector("#visibility-settings-modal")),go(document.querySelector("#max-images-prompt-modal")),go(document.querySelector("#retry-upload-modal"))}));function Lu(){var e,t;null===(e=window.lazyloader)||void 0===e||null===(t=e.then)||void 0===t||t.call(e,(e=>{e.refreshLoader()}))}const Pu="selected";function xu(e){const t=e.target.value;e.target.classList.toggle(Pu,t),e.target.focus()}function Mu(e){if(e){const{id:t,labelText:n}=e.dataset;if(!t||!n)throw new Error("mandatory fields missing.");const r=e.querySelector("select");r&&(r.addEventListener("change",xu),r.value&&r.classList.add(Pu))}else{document.querySelectorAll(".dropdown-container").forEach(Mu)}Lu()}const Du="input",Uu="change",Bu="focus",Fu="input:cleared",qu="selected";function Hu(e){const t=e.currentTarget.parentElement.querySelector(Du);t.value="",t.classList.remove(qu),t.focus(),U(t,Fu),U(t,Uu)}function Gu(e){const t=e.currentTarget.parentElement,n=t.dataset.placeholder,r=t.querySelector(Du);n&&r.setAttribute("placeholder",n),r.removeEventListener(Bu,Gu)}function ju(e){const t=e.target.value;e.target.classList.toggle(qu,t)}function zu(e){if(e){const{id:t,labelText:n}=e.dataset;if(!t||!n)throw new Error("mandatory fields missing.");const r=e.querySelector(Du),i=e.querySelector(".right");r.addEventListener(Uu,ju),r.addEventListener(Bu,Gu),i&&i.addEventListener("click",Hu)}else{document.querySelectorAll(".input-container").forEach(zu)}Lu()}const Wu="MinLength",Ku="MaxLength",Vu="Regex",Qu="Required",Yu="RegexAllow",Ju={SPECIAL_CHARS:{pattern:/([!@#$%^&*+=|<>?:;\\])/,errorCode:"SpecialChars"},URL_KEYWORDS:{pattern:/(https?(:\/\/)?|www\.)/i,errorCode:"UrlKeywords"},EMAIL:{pattern:new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'),errorCode:"Email"},PHONE_NUMBER:{pattern:/(?:^((\+(?=[0-9]{1,4}))?))[0-9]{5,14}$/,errorCode:"PhoneNumber"}},Xu="EMAIL_ADDRESS",Zu="PHONE_NUMBER",$u="OTHER",ed="consentUnchecked",td={INPUT:"INPUT",SELECT:"SELECT"},nd="text",rd="checkbox";function id(e){return Object.keys(td).includes(e.tagName)}function od(e){const t=function(e){const t=[],{minLength:n,maxLength:r,inputType:i}=e.dataset;let o;switch(i){case $u:n&&t.push({type:Wu,MinLength:n}),r&&t.push({type:Ku,MaxLength:r});break;case Xu:t.push({type:Yu,RegexAllow:[Ju.EMAIL]});break;case Zu:o=e.value.replace(/ /g,""),t.push({type:Yu,RegexAllow:[Ju.PHONE_NUMBER]})}return{value:o||e.value,ruleSet:t}}(e),n=t.value;return t.ruleSet.map((e=>((e,t)=>{const n=t.trim();if(e)switch(e.type){case Qu:if(0===n.length)return Qu;break;case Wu:if(n.length<e[Wu])return Wu;break;case Ku:if(n.length>e[Ku])return Ku;break;case Vu:for(let t=0;t<e[Vu].length;t++)if(e[Vu][t].pattern.test(n))return Vu+e[Vu][t].errorCode;break;case Yu:for(let t=0;t<e[Yu].length;t++)if(!e[Yu][t].pattern.test(n))return Yu+e[Yu][t].errorCode}})(e,n))).filter((e=>!!e))}function sd(e,t){return t&&!e?ed:null}const ad=(e,t)=>parseInt(t.split(e)[1]);function cd(e,t){return document.querySelector("#".concat(e.id,"-strings")).dataset["str".concat(t)]}const ld=(e,t)=>({questionId:e,textQuestionAnswer:{answer:t}}),ud=(e,t)=>({questionId:e,multipleChoiceAnswer:{options:[{index:t}]}});function dd(e){const t=e.id+"_",n=t+"q",r=t+"c";return new Promise(((t,i)=>{const o=[];let s,a;const{urn:c}=e.dataset;a=e.dataset.leadTrackingParams,a||(s=e.closest("[data-lead-tracking-params]"),a=s.dataset.leadTrackingParams);const l={formResponse:{adFormUrn:c,submittedAt:Date.now(),answers:[],consentResponses:[]},trackingUrl:a,trackingAction:"LEAD_FORM_CLICK"};return Array.from(e).filter(id).forEach((e=>{let t;if(e.tagName===td.SELECT)t=((e,t)=>{const n=ad(e,t.id),r=t.selectedIndex;return{response:ud(n,r)}})(n,e),l.formResponse.answers.push(t.response);else if(e.type===nd)if(t=((e,t)=>{const n=ad(e,t.id),r=od(t);return 0!==r.length?{errors:r}:{response:ld(n,t.value)}})(n,e),t.response)l.formResponse.answers.push(t.response);else{const n=t.errors[0];o.push({element:e,errorType:n})}else e.type===rd&&(t=((e,t,n,r)=>{const i=ad(e,t),o=sd(n,r);return o?{errors:o}:{response:{consentId:i,accepted:n}}})(r,e.id,e.checked,e.required),t.response?l.formResponse.consentResponses.push(t.response):o.push({element:e,errorType:t.errors}))})),0===o.length?t(l):i(o)}))}const hd=".lead-gen-input-container",pd=".error-text",fd="input-error",md="aria-invalid",gd="role",vd="click";class yd{constructor(e){let{isLivePreview:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("containerEl is not present");zu(),Mu(),wo("form-modal-description__content-truncated",".form-modal-description__btn-truncation",e),this.containerEl=e,this.formEl=e.querySelector("form");const n=e.querySelector(".lead-gen-modal");this.modal=new nc(n,{triggerByOutletEl:!t,shouldMoveToTopContainer:!1}),t?this.showForm():this._bindEvents()}showForm(){this.modal.open()}hideForm(){this.modal.close()}_clearFormErrors(){Array.from(this.formEl).filter(id).map((e=>this._hideError(e)))}_submitForm(){this._clearFormErrors(),dd(this.formEl).then((e=>{U(this.containerEl,this.constructor.LEAD_GEN_SUBMIT_EVENT,e),this.hideForm()})).catch((e=>{e.forEach((e=>this._setAndShowError(e.element,e.errorType)));const t=e[0];if(t){t.element.focus();ce(cd(t.element,t.errorType),ae.ASSERTIVE)}}))}_hideError(e){if(e){const t=e.closest(hd),n=t.querySelector(pd);go(n),t.classList.remove(fd),e.removeAttribute(md),n.removeAttribute(gd)}}_setAndShowError(e,t){if(e){const n=cd(e,t),r=e.closest(hd),i=r.querySelector(pd);i.innerText=n,vo(i),r.classList.add(fd),i.setAttribute(gd,"alert"),e.setAttribute(md,"true")}}_handleInputError(e){let t;if(this._hideError(e),e.type===rd)t=sd(e.checked,e.required);else if(e.type===nd){const n=od(e);n&&n.length&&(t=n[0])}t&&this._setAndShowError(e,t)}_bindEvents(){this.formEl.addEventListener(vd,(e=>{e.target.classList.contains("checkbox-input")&&this._handleInputError(e.target)})),this.formEl.addEventListener(Fu,(e=>{this._handleInputError(e.target)})),this.formEl.addEventListener("keyup",(e=>{e.target.classList.contains("inputbox-input")&&this._handleInputError(e.target)})),this.formEl.querySelector(".submit-btn").addEventListener(vd,(e=>{e.preventDefault(),e.stopPropagation(),this._submitForm()}))}}Ce(yd,"LEAD_GEN_SUBMIT_EVENT","FormModal:LeadGen:submit");class Ed{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,{onSelect:t=(()=>{}),onClipboardCopy:n=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.onSelect=t,this.onClipboardCopy=n;const r=ca("share-via-text"),i=ca("share-via-url");if(this.shareData={url:i},r&&(this.shareData.text=r),this.shareViaActionEl=e.querySelector("[data-share-via-action]"),!this.shareViaActionEl)throw new Error('Element with "data-share-via-action" attribute cannot be found');this.shareViaModalEl=e.querySelector(".share-via-modal"),this.shareViaModalEl&&(this.shareViaModal=new Zi(this.shareViaModalEl)),this.bindEvents()}modalClickHandler(e){const t=T(e.target,"[data-action-copy-to-clipboard]");t?(this.onSelect(e,t),this.copyToClipboard.call(this,e)):this.onSelect(e,T(e.target,".share-via-action")),this.shareViaModal.close()}share(){navigator.canShare&&navigator.canShare(this.shareData)?navigator.share(this.shareData):this.shareViaModal&&this.shareViaModal.open()}copyToClipboard(){navigator.clipboard.writeText(this.shareData.url).then((()=>{this.onClipboardCopy(!0)})).catch((e=>{this.onClipboardCopy(!1,e)}))}bindEvents(){this.shareViaActionEl.addEventListener("click",this.share.bind(this)),this.shareViaModalEl&&this.shareViaModalEl.addEventListener("click",this.modalClickHandler.bind(this))}}function bd(){let{endpoint:e,headers:t={"Content-Type":"application/json"},queryId:n,variables:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fe(e,{method:"POST",headers:t,postData:JSON.stringify({queryId:n,variables:r})})}const wd="FOLLOW_ACTIVE",_d="UNFOLLOW";class Td{constructor(e){if(!e)throw Error("Missing FollowMutation endpoint");this.endpoint=e}execute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};return bd({endpoint:this.endpoint,queryId:Td.query,variables:{followState:e,to:t}}).then((e=>{const{responseText:t}=e;n(JSON.parse(t).graphQL)})).catch(r)}}Ce(Td,"query","cbed571fffd8cea15209aed8d44e6759");const Sd=Object.freeze({APPRECIATION:"APPRECIATION",ASSENT:"ASSENT",CELEBRATION:"CELEBRATION",EMPATHY:"EMPATHY",ENTERTAINMENT:"ENTERTAINMENT",INSPIRATION:"INSPIRATION",INTEREST:"INTEREST",LIKE:"LIKE",MAYBE:"MAYBE",PRAISE:"PRAISE",UNKNOWN:"UNKNOWN",USEFULNESS:"USEFULNESS"});Object.values(Sd);const Id="CREATE",Cd="DELETE",kd="UPDATE";class Ad{constructor(e){if(!e)throw Error("Missing ReactionMutation endpoint");this.endpoint=e}execute(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const o={endpoint:this.endpoint,queryId:Ad.query,variables:{entityUrn:t,action:n}};return n!==Id&&n!==kd||(o.variables.reactionType=e),bd(o).then((e=>{const{responseText:t}=e;r(JSON.parse(t).graphQL)})).catch(i)}}Ce(Ad,"query","070ee23fd6fb77f92ac08f964ae1df29");const Rd="REACT",Od="UNREACT",Nd=".reactions-menu",Ld="[data-reaction-type]",Pd=".selected-reaction",xd=".like-button-default",Md="aria-pressed",Dd="hidden",Ud="w-0",Bd="click";class Fd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(Nd,"__trigger"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,{endpoint:n,beforeReaction:r,onReaction:i,onReactionSuccess:o=(()=>{}),onReactionError:s=(()=>{}),shouldStopPropagation:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.triggerSelector=e,this.a11yTriggerSelector="".concat(e,"--a11y"),this.reactionsMenu=t.querySelector("#reactions-menu"),this.parentContainerElement=t,this._mutationInstance=new Ad(n),this.selectedReactionTemplate=t.querySelector("#selected-reaction"),!this.reactionsMenu)throw new Error("Cannot find ReactionsMenu template");this.beforeReaction=r,this.onReaction=i,this.onReactionSuccess=o,this.onReactionError=s,this.shouldStopPropagation=a,this.triggers=t.querySelectorAll(this.triggerSelector),this.reactionsMenuClickHandler=this.handleReactionsClick.bind(this),this.bindEvents()}bindEvents(){ma(navigator.userAgent)?(this.parentContainerElement.addEventListener("touchstart",(e=>{e.target.closest(this.triggerSelector)&&(this.longPressTimer=setTimeout((()=>{e.preventDefault(),this.showReactions(e)}),334))})),this.parentContainerElement.addEventListener("touchmove",(e=>{e.target.closest(this.triggerSelector)&&clearTimeout(this.longPressTimer)})),this.parentContainerElement.addEventListener("touchend",(e=>{e.target.closest(this.triggerSelector)&&clearTimeout(this.longPressTimer)}))):this.triggers.forEach((e=>{e.addEventListener("mouseenter",M(this.showReactions.bind(this),300)),e.addEventListener("mouseleave",M((()=>{!e.parentElement.matches(":hover")&&this.hideReactions.call(this)}),500))})),this.parentContainerElement.addEventListener(Bd,(e=>{if(e.target.closest(this.triggerSelector)){var t,n;const r=this.getContainerElement(e.target);null===(t=this.beforeReaction)||void 0===t||t.call(this,e),this.toggleReaction(r);const i=this.getCurrentReactionType(r);null===(n=this.onReaction)||void 0===n||n.call(this,e,i,this.getParentUrn(r)),this._mutationInstance.execute(i,this.getParentUrn(r),i?Id:Cd,(e=>{this.onReactionSuccess(e)}),(e=>{this.onReactionError(e)}))}else e.target.closest(this.a11yTriggerSelector)?(e.stopPropagation(),this.showReactions(e)):this.maybeHideReactions(e)})),this.parentContainerElement.querySelectorAll(this.a11yTriggerSelector).forEach((e=>{e.addEventListener("focus",(e=>{e.target.classList.remove(Ud)})),e.addEventListener("blur",(e=>{!this.getContainerElement(e.target).querySelector('[data-id="reactions-menu"]')&&e.target.classList.add(Ud)}))})),window.addEventListener("scroll",(()=>{this.hideReactions()})),this.parentContainerEl!==document.body&&document.addEventListener("click",(e=>{e.target.closest(this.a11yTriggerSelector)||this.hideReactions()}))}showReactions(e){if(!this.reactionsMenuEl){let t=e.target;if(!e.target.classList.contains("reaction-menu")&&(t=this.getContainerElement(e.target),!t))return;this.renderReactionsMenu(t.querySelector(this.triggerSelector))}}hideReactions(){var e,t;this.reactionsMenuEl&&(this.reactionsMenuEl.removeEventListener(Bd,this.reactionsMenuClickHandler),null===(e=this.getContainerElement(this.reactionsMenuEl))||void 0===e||null===(t=e.querySelector(this.a11yTriggerSelector))||void 0===t||t.classList.add(Ud),this.reactionsMenuEl.parentElement.removeChild(this.reactionsMenuEl),this.reactionsMenuEl=null)}getActionType(e,t){return e&&t?t!==e?kd:null:t?Id:Cd}handleReactionsClick(e){const t=T(e.target,Ld),n=this.getContainerElement(e.target),r=this.getCurrentReactionType(n),i=this.getParentUrn(n);let o,s;if(t){var a,c,l,u;if(null===(a=this.beforeReaction)||void 0===a||a.call(this,e),this.setReaction(t.dataset.reactionType,n),null===(c=this.getContainerElement(n))||void 0===c||null===(l=c.querySelector(this.triggerSelector))||void 0===l||l.focus(),o=this.getCurrentReactionType(n),s=this.getActionType(r,o),s)null===(u=this.onReaction)||void 0===u||u.call(this,e,o,i),this._mutationInstance.execute(o,this.getParentUrn(n),s,(e=>{this.onReactionSuccess(e)}),(e=>{this.onReactionError(e)}));this.shouldStopPropagation&&e.stopPropagation()}}renderReactionsMenu(e){const t=this.reactionsMenu.content.firstElementChild.cloneNode(!0);t&&e&&(this.reactionsMenuEl=this.getContainerElement(e).appendChild(t),this.reactionsMenuEl.addEventListener(Bd,this.reactionsMenuClickHandler))}maybeHideReactions(e){T(e.target,Ld)||this.hideReactions()}setReaction(e,t){const n="".concat(Pd,"--").concat(e),r=this.selectedReactionTemplate.content.querySelector(n).cloneNode(!0),i=t.querySelector(Pd),o=t.querySelector(xd);i?i.remove():o.classList.add(Dd),t.querySelector(this.triggerSelector).setAttribute(Md,"true"),r.classList.add("selected-reaction"),o.parentElement.insertBefore(r,o),this.postReactionChangeCallback(e,t)}toggleReaction(e){const t=e.querySelector(Pd),n=e.querySelector(xd);if(t)return t.remove(),e.querySelector(this.triggerSelector).setAttribute(Md,"false"),n.classList.remove(Dd),void this.postReactionChangeCallback("",e);this.setReaction(Sd.LIKE,e)}postReactionChangeCallback(e,t){const n=(e?"un".concat(e):"".concat(Sd.LIKE)).toLowerCase()+"Update";this.hideReactions(),t.querySelector(this.triggerSelector).setAttribute("data-social-reaction",e),t.querySelector(this.triggerSelector).setAttribute("data-feed-action-type",n),t.querySelector(this.triggerSelector).setAttribute("data-feed-action-category",e?Od:Rd)}getCurrentReactionType(e){return e.querySelector(this.triggerSelector).dataset.socialReaction}getParentUrn(e){return e.querySelector(this.triggerSelector).dataset.parentUrn}getContainerElement(e){return e.closest(Nd)}getContainerElementFromParentUrn(e){const t=this.parentContainerElement.querySelector("".concat(this.triggerSelector,'[data-parent-urn="').concat(e,'"]'));return null==t?void 0:t.closest(Nd)}}class qd{constructor(e){let{endpoint:t,errorCallback:n=(()=>{}),globalWindow:r=window,onFollowSuccess:i=(()=>{}),onUnfollowSuccess:o=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed in");this._el=e,this._errorCallback=n,this._successCallbackForFollow=i,this._successCallbackForUnfollow=o,this._window=r,this._followButtonEl=e.querySelector(".follow-button__follow"),this._followingButtonEl=e.querySelector(".follow-button__following"),this._mutationInstance=new Td(t),this._entityUrn=e.getAttribute("data-entity-urn"),this._initEventListeners()}_initEventListeners(){this._followButtonEl.addEventListener("click",(e=>{e.preventDefault(),this._showFollowingButton(),this._mutationInstance.execute(wd,this._entityUrn,(e=>{this._successCallbackForFollow(e)}),(e=>{this._hideFollowingButton(),this._errorCallback(e)}))})),this._followingButtonEl.addEventListener("click",(e=>{e.preventDefault(),this._hideFollowingButton(),this._mutationInstance.execute(_d,this._entityUrn,(e=>{this._successCallbackForUnfollow(e)}),(e=>{this._showFollowingButton(),this._errorCallback(e)}))}))}_showFollowingButton(){var e,t,n,r;null===(e=this._followButtonEl)||void 0===e||null===(t=e.classList)||void 0===t||t.add("hidden"),null===(n=this._followingButtonEl)||void 0===n||null===(r=n.classList)||void 0===r||r.remove("hidden")}_hideFollowingButton(){var e,t,n,r;null===(e=this._followingButtonEl)||void 0===e||null===(t=e.classList)||void 0===t||t.add("hidden"),null===(n=this._followButtonEl)||void 0===n||null===(r=n.classList)||void 0===r||r.remove("hidden")}}const Hd=Object.freeze({NEW_COMMENT_CREATE_EVENT:"Comment:newComment:create",NEW_COMMENT_SUCCESS_EVENT:"Comment:newComment:success",NEW_COMMENT_FAIL_EVENT:"Comment:newComment:fail"});class Gd{constructor(){let{commentContainerClass:e="comments__container",commentBoxClass:t="comments__comment-text",postCommentBtnClass:n="comments__post-btn",templateSelector:r="#comment-template",templateSelectors:i={message:".comment__message",commentText:".comments__comment-text",postButton:".comments__post-btn"}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.commentContainerClass=e,this.commentContainers=document.querySelectorAll(".".concat(e)),this.commentBoxClass=t,this.commentTextBoxen=document.querySelectorAll(".".concat(e," .").concat(t)),this.postCommentBtnClass=n,this.templateSelector=r,this.templateSelectors=i,this.containerMap={},this.bindEvents()}bindEvents(){this.commentContainers.forEach((e=>{e.addEventListener("click",this.postComment.bind(this))})),this.commentTextBoxen&&this.commentTextBoxen.forEach((e=>{e.addEventListener("input",this.enableDisablePostButton.bind(this))})),document.body.addEventListener(Hd.NEW_COMMENT_SUCCESS_EVENT,this.renderNewComment.bind(this))}postComment(e){if(e.target.classList.contains(this.postCommentBtnClass)){const t=e.target.closest(".".concat(this.commentContainerClass));if(t){const n=t.querySelector(".".concat(this.commentBoxClass));if(n){const t=n.dataset.threadUrn;t in this.containerMap||(this.containerMap[t]=e.currentTarget),U(document.body,Hd.NEW_COMMENT_CREATE_EVENT,{comment:n.value,threadUrn:t})}}}}enableDisablePostButton(e){const t=e.target,n=t.value.trim().length>0;for(let e=t.nextElementSibling;e;e=e.nextElementSibling)e.classList.contains(this.postCommentBtnClass)&&e.classList.toggle("hidden",!n)}renderNewComment(e){const{entityUrn:t,graphqlResponse:n}=e.detail;if(this.containerMap[t]){const e=this.containerMap[t],r=document.querySelector(this.templateSelector).content.firstElementChild.cloneNode(!0);Cs(r.querySelector(this.templateSelectors.message),n.comment.message[0].text),e.parentElement.insertBefore(r,e.nextSibling),e.querySelector(this.templateSelectors.commentText).value="",e.querySelector(this.templateSelectors.postButton).classList.add("hidden"),this.refreshLazyLoader()}}refreshLazyLoader(){window.lazyloader&&window.lazyloader.then((e=>{e.refreshLoader()}))}}class jd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".social-action-counts__social-comments-counts";this.selector=e,this.bindEvents()}bindEvents(){document.body.addEventListener("Comment:newComment:success",(e=>{const t=e.detail.entityUrn;if(t){const e=document.querySelector("".concat(this.selector,'[data-entity-urn="').concat(t,'"]'));if(e){this._maybeInitPluralRules(e);const t=(parseInt(e.dataset.numComments)||0)+1;this._formatDisplayText(e,t)}}})),document.body.addEventListener("Comment:removeComment:success",(e=>{const t=e.detail.entityUrn;if(t){const e=document.querySelector("".concat(this.selector,'[data-entity-urn="').concat(t,'"]'));if(e){this._maybeInitPluralRules(e);let t=parseInt(e.dataset.numComments)||0;t>=1&&(t-=1),this._formatDisplayText(e,t)}}}))}_formatDisplayText(e,t){const n=this.plRules.select(t),r=this.plMap[n]||this.plMap.other;e.dataset.numComments=t,e.textContent=r.replace("%numComments%",(new Intl.NumberFormat).format(t))}_maybeInitPluralRules(e){this.plRules&&this.plMap||(this.plRules=new Intl.PluralRules,this.plMap={one:e.dataset.numCommentsSingular,other:e.dataset.numCommentsPlural})}}const zd="Comment:newComment:success",Wd="Comment:deleteComment:success",Kd="Reaction:newReaction:success",Vd="Reaction:deleteReaction:success";class Qd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-id="social-actions__reactions"]',t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'[data-id="social-actions__comments"]';this.reactionsSelector=e,this.commentsSelector=t,this.bindEvents()}bindEvents(){this.commentCountEventHandler(zd),this.commentCountEventHandler(Wd),this.reactionCountEventHandler(Kd),this.reactionCountEventHandler(Vd)}commentCountEventHandler(e){document.body.addEventListener(e,(t=>{const{entityUrn:n}=t.detail;if(n){const t=document.querySelectorAll("".concat(this.commentsSelector,'[data-entity-urn="').concat(n,'"]'));null!=t&&t.length&&t.forEach((t=>{this.maybeInitPluralRules(t);let n=parseInt(t.dataset.numComments,10);e===zd?n+=1:e===Wd&&n&&(n-=1);const r=this.plRules.select(n),i=this.plMap[r];t.dataset.numComments=n,t.textContent=n?i.replace("%numComments%",(new Intl.NumberFormat).format(n)):""}))}}))}reactionCountEventHandler(e){document.body.addEventListener(e,(t=>{const{entityUrn:n}=t.detail,{reactionType:r}=t.detail;if(n){const t=document.querySelectorAll("".concat(this.reactionsSelector,'[data-entity-urn="').concat(n,'"]'));null!=t&&t.length&&t.forEach((t=>{this.maybeInitPluralRules(t);let i=parseInt(t.dataset.numReactions,10);e!==Kd||t.dataset.isSelfReaction?e===Vd&&i&&(i-=1,delete t.dataset.isSelfReaction):(i+=1,t.dataset.isSelfReaction="true");const o=this.plRules.select(i),s=this.plMap[o];t.dataset.numReactions=i,t.querySelector("span").textContent=i?s.replace("%numReactions%",(new Intl.NumberFormat).format(i)):"";const a=t.querySelectorAll("img");if(e===Kd&&a.length<3&&!t.querySelector('img[data-reaction-type="'.concat(r,'"]'))){const e=t.querySelector("span"),o=document.createElement("img");if(o.dataset.delayedUrl=ca("social-actions__reaction-image-".concat(r)),o.dataset.reactionType=r,o.dataset.singleSelfReaction="true",e.parentElement.insertBefore(o,e),1===i){const e=t.parentElement.querySelector("".concat(this.commentsSelector,'[data-entity-urn="').concat(n,'"]'));null==e||e.classList.add("before:middot")}window.lazyloader.then((e=>e.refreshLoader()))}else if(e===Vd){const e=t.querySelector("[data-single-self-reaction]");if(null==e||e.remove(),0===i){const e=t.parentElement.querySelector("".concat(this.commentsSelector,'[data-entity-urn="').concat(n,'"]'));null==e||e.classList.remove("before:middot")}}}))}}))}maybeInitPluralRules(e){this.plRules=new Intl.PluralRules,this.plMap={one:e.dataset.singular,other:e.dataset.plural}}}class Yd{constructor(e){if(!e)throw new Error("No element passed into to full lockout component");this.el=e,this.moreArticlesEl=e.querySelector(".more-articles__slide-list"),this.moreArticlesEl&&new ko(this.moreArticlesEl)}}class Jd extends HTMLElement{connectedCallback(){this.update(),this.syncA11yCaption(),this.setAttribute("aria-hidden","true"),handleLargeIcon(this)}disconnectedCallback(){this.removeA11yCaption()}static get observedAttributes(){return["a11y-text","type","class"]}attributeChangedCallback(e){ATTRS_TRIGGERING_UPDATE.indexOf(e)>-1&&this.update(),"a11y-text"===e&&this.syncA11yCaption(),"type"!==e&&"class"!==e||handleLargeIcon(this)}update(){const e=this.getAttribute("type"),t=this.getAttribute("category")||"ui",n="true"===this.dataset.inlineSvg;(e||t)&&(n||setIcon(this,t,e))}installA11yCaption(){const{parentNode:e,a11yCaption:t}=this;e&&t&&!t.parentNode&&e.insertBefore(t,this)}removeA11yCaption(){const{a11yCaption:e}=this;e&&e.parentNode&&e.parentNode.removeChild(e),this.a11yCaption=null}syncA11yCaption(){const{a11yCaption:e}=this,t=this.getAttribute("a11y-text");t?e?e.textContent=t:(this.a11yCaption=(e=>{const t=document.createElement("span");return t.setAttribute("class","a11y-text"),t.textContent=e,t})(t),this.installA11yCaption()):this.removeA11yCaption()}}const Xd={getPageInstance:ji,getEventBody:Hi,firePageViewEvent:qi,fireViewModuleImpressionEvent:Gi,getTrackingInstance:function(){let{appId:e="seo",appVersion:t="0.0.0",locale:n,multiproduct:r="undefined-frontend-mpName",service:i="undefined-frontend-serviceName",callTreeId:o=null,endpoint:s="li/track",maxSize:a=10,debounceTime:c=50,disableCompression:l=!1,customDelegate:u={},retryConfig:d=null,isLoggedIn:h=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const p={appId:e,appVersion:t,locale:n,multiproduct:r,service:i,endpoint:s,disableCompression:l,retryConfig:d,api:{AbortController,location:window.location,document,performance,PerformanceObserver,Promise,assign:Object.assign,fetch,sendBeacon:navigator.sendBeacon.bind(navigator)},batching:{maxSize:a,debounceTime:c}};o&&(p.treeID=o);const f=new cr(p),m=new gr(f);return m.delegate=Ie(Ie({},m.delegate),{},{preTransporter:e=>Ie(Ie({},e),{},{meta:Wi(e.meta)}),shouldAnonymizeMemberId:()=>!!d&&!h},u),m}},Zd="one_tap",$d="one-tap-auto-login";function eh(e){"complete"===document.readyState?e():window.addEventListener("load",(()=>{e()}))}function th(e,t){const n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}const e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();const nh="990339570472-k6nqn1tpmitg8pui82bfaun3jrpmiuhs.apps.googleusercontent.com",rh={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},ih={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},oh={SIGN_IN:"signin",SIGN_UP:"signup",USE:"use"},sh={DISPLAY:"display",SKIPPED:"skipped",DISMISSED:"dismissed"},ah={NOT_DISPLAYED:{BROWSER_NOT_SUPPORTED:"browser_not_supported",INVALID_CLIENT:"invalid_client",MISSING_CLIENT_ID:"missing_client_id",OPT_OUT_OR_NO_SESSION:"opt_out_or_no_session",SECURE_HTTP_REQUIRED:"secure_http_required",SUPPRESSED_BY_USER:"suppressed_by_user",UNREGISTERED_ORIGIN:"unregistered_origin",UNKNOWN_REASON:"unknown_reason"},SKIPPED:{AUTO_CANCEL:"auto_cancel",USER_CANCEL:"user_cancel",TAP_OUTSIDE:"tap_outside",ISSUING_FAILED:"issuing_failed"},DISMISSED:{CREDENTIAL_RETURNED:"credential_returned",CANCEL_CALLED:"cancel_called",FLOW_RESTARTED:"flow_restarted"}},{GOOGLE_ERROR:ch,GOOGLE_USER_FETCHED:lh,INITIALIZED:uh}=rh,{INITIALIZATION:dh,AUTHENTICATION:hh}=ih;class ph extends EventTarget{constructor({libSrcPath:e,el:t,clientId:n=nh}){if(super(),!t)throw TypeError("DOM element for Sign In button is required");if(this.libSrcPath=e,this.el=t,this.clientId=n,window.gapi)this._initializeGoogleAuth();else{if(!e)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");eh((()=>{th(e,this._initializeGoogleAuth.bind(this))}))}}_initializeGoogleAuth(){return gapi.auth2.init({client_id:this.clientId}).then((e=>{this.auth2=e,this._attachSignIn();const t=new CustomEvent(uh);this.dispatchEvent(t)})).catch((e=>{const t={type:dh,message:e.error},n=new CustomEvent(ch,{detail:t});this.dispatchEvent(n)}))}_attachSignIn(){this.auth2.attachClickHandler(this.el,{},(e=>{const t=new CustomEvent(lh,{detail:this._getGoogleUserInformation(e)});this.dispatchEvent(t)}),(e=>{const t={type:hh,message:e.error},n=new CustomEvent(ch,{detail:t});this.dispatchEvent(n)}))}_getGoogleUserInformation(e){const t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}const{GOOGLE_USER_FETCHED:fh,PROMPT_MOMENT:mh}=rh;class gh extends EventTarget{constructor({autoSelect:e=!1,libSrcPath:t,containerId:n,context:r,clientId:i=nh,cancelOnTapOutside:o=!0}){if(super(),!r)throw TypeError("context param is required to determine the message to show in Google One Tap");if(this.autoSelect=e,this.libSrcPath=t,this.containerId=n,this.cancelOnTapOutside=o,this.clientId=i,this.context=r,window.google&&window.google.accounts&&window.google.accounts.id)this._onGoogleApiLoad();else{if(!t)throw TypeError("Google One Tap lib is not already loaded on the page. libSrcPath is required to load the library");eh((()=>{th(t,this._onGoogleApiLoad.bind(this))}))}}_onGoogleApiLoad(){return google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.containerId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:this.context}),Promise.resolve().then((()=>this.promptOneTap()))}_handleCredentialResponse(e){const t=e.credential;let n=this.context===oh.SIGN_UP?this._getBasicProfile(t):{idToken:t};if(n){n.selectedBy=e.select_by;const t=new CustomEvent(fh,{detail:n});this.dispatchEvent(t)}}_getBasicProfile(e){try{const t=new gapi.auth2.BasicProfile({id_token:e});return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:e,imageUrl:t.getImageUrl()}}catch(e){return this._dispatchSkippedEvent(e.message),null}}_dispatchSkippedEvent(e){const t={message:e,reason:ah.SKIPPED.ISSUING_FAILED,type:sh.SKIPPED},n=new CustomEvent(mh,{detail:t});this.dispatchEvent(n)}promptOneTap(){google.accounts.id.prompt((e=>{const t={type:e.getMomentType(),reason:e.getNotDisplayedReason()||e.getSkippedReason()||e.getDismissedReason()},n=new CustomEvent(mh,{detail:t});this.dispatchEvent(n),this.checkIfDesktopAndApplyClass()}))}hideOneTap(){google.accounts.id.cancel()}checkIfDesktopAndApplyClass(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){const e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}var vh={exports:{}};function yh(e){this.message=e}yh.prototype=new Error,yh.prototype.name="InvalidCharacterError";var Eh="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new yh("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};var bh=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Eh(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return Eh(t)}};function wh(e){this.message=e}wh.prototype=new Error,wh.prototype.name="InvalidTokenError",vh.exports=function(e,t){if("string"!=typeof e)throw new wh("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(bh(e.split(".")[n]))}catch(e){throw new wh("Invalid token specified: "+e.message)}},vh.exports.InvalidTokenError=wh;vh.exports;const{GOOGLE_USER_FETCHED:_h,PROMPT_MOMENT:Th}=rh;class Sh extends EventTarget{constructor({autoSelect:e=!1,libSrcPath:t,clientId:n=nh,showOneTap:r=!0,promptParentId:i,buttonParentEl:o,gsiButtonConfig:s={},context:a="signin",cancelOnTapOutside:c=!0}){if(super(),this.autoSelect=e,this.libSrcPath=t,this.clientId=n,this.showOneTap=r,this.promptParentId=i,this.buttonParentEl=o,this.gsiButtonConfig=s,this.cancelOnTapOutside=c,this.context=a,this.isLibraryLoaded=function(){let e,t;const n=new Promise(((e,t)=>{e,t}));return n.resolve=e,n.reject=t,n}(),window.google&&window.google.accounts&&window.google.accounts.id)this._onGoogleApiLoad();else{if(!t)throw TypeError("GSI lib is not already loaded on the page. libSrcPath is required to load the library");eh((()=>{th(t,this._onGoogleApiLoad.bind(this))}))}}_onGoogleApiLoad(){return this.isLibraryLoaded.resolve(),window.google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.promptParentId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:GSI_CONTEXT[this.context].GOT}),Promise.resolve().then((()=>this.showGsiUI()))}showGsiUI(){this.buttonParentEl&&this.renderGSIButton(this.buttonParentEl,this.gsiButtonConfig),this.showOneTap&&this.promptOneTap()}renderGSIButton(e,{logo_alignment:t="center",shape:n="pill",size:r="large",text:i,theme:o,type:s,width:a="400px"}){return this.isLibraryLoaded.then((()=>{const c=i||GSI_CONTEXT[this.context].GSI_BUTTON;window.google.accounts.id.renderButton(e,{logo_alignment:t,shape:n,size:r,text:c,theme:o,type:s,width:a})}))}promptOneTap(){return this.isLibraryLoaded.then((()=>{window.google.accounts.id.prompt((e=>{const t={type:e.getMomentType(),reason:e.getNotDisplayedReason()||e.getSkippedReason()||e.getDismissedReason()},n=new CustomEvent(Th,{detail:t});this.dispatchEvent(n),this.checkIfDesktopAndApplyClass()}))}))}_handleCredentialResponse({credential:e,select_by:t}){const n=jwtDecode(e),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?registration_ui_lib_es_ownKeys(Object(n),!0).forEach((function(t){registration_ui_lib_es_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):registration_ui_lib_es_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._getBasicProfile(n),{idToken:e,selectedBy:t});if(r){const e=new CustomEvent(_h,{detail:r});this.dispatchEvent(e)}}_getBasicProfile(e){const{email:t,family_name:n,given_name:r,sub:i,picture:o}=e;return{email:t,familyName:n,givenName:r,id:i,imageUrl:o}}hideOneTap(){window.google.accounts.id.cancel()}checkIfDesktopAndApplyClass(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){const e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}const Ih={CLIENT_ID:nh,EVENTS:rh,GOOGLE_ACCOUNT_URL:"https://accounts.google.com",GSI_ERROR_TYPES:ih,GSI_ERROR_MESSAGES:{INIT_FAILED:"idpiframe_initialization_failed",POPUP_CLOSED_BY_USER:"popup_closed_by_user",ACCESS_DENIED:"access_denied",IMMEDIATE_FAILED:"immediate_failed"},GOT_CONTEXTS:oh,GOT_PROMPT_MOMENT_REASONS:ah,GOT_PROMPT_MOMENT_TYPES:sh};function Ch(e,t){const n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),n}const kh=V.getPageKey(document).replace("_jsbeacon","");function Ah(e,t,n){window.tracking&&window.tracking.then((r=>{if(t&&e.appendChild(function(e){return Ch("controlId","".concat(kh,"-").concat(e.dataset.trackingControlName))}(t)),e.appendChild(function(e){const t=e.state&&e.state.currentPageInstance||{};return Ch("pageInstance","".concat(t.pageUrn,";").concat(t.trackingId))}(r)),n){const e="".concat(kh,"_").concat(n);Xd.firePageViewEvent(r,"ajax",e),Wc(r).trackPageView({pageKey:e})}}))}function Rh(e){window.tracking&&window.tracking.then((t=>{t.fireControlInteractionEvent(e)}))}const{EVENTS:Oh,GOT_CONTEXTS:Nh,GOT_PROMPT_MOMENT_REASONS:Lh,GOT_PROMPT_MOMENT_TYPES:Ph}=Ih,{GOOGLE_USER_FETCHED:xh,PROMPT_MOMENT:Mh}=Oh,{SIGN_IN:Dh}=Nh,Uh=[Lh.NOT_DISPLAYED.BROWSER_NOT_SUPPORTED,Lh.NOT_DISPLAYED.OPT_OUT_OR_NO_SESSION,Lh.NOT_DISPLAYED.SUPPRESSED_BY_USER],Bh=[Lh.SKIPPED.AUTO_CANCEL,Lh.SKIPPED.TAP_OUTSIDE,Lh.SKIPPED.USER_CANCEL];class Fh{constructor(e,{onNotDisplayed:t,onSkipped:n,isAutoSelectEnabled:r=!1}={}){if(!e)throw Error("Google one tap form element must be provided");this.el=e,this.onNotDisplayed="function"==typeof t&&t,this.onSkipped="function"==typeof n&&n,this.containerEl=this.el.querySelector(".google-one-tap__container"),this.loaderEl=this.el.querySelector(".loader"),this.loader=this.loaderEl&&new Ta(this.loaderEl),this.isAutoSelectEnabled=r,Ah(this.el,this.containerEl),this.googleOneTapPromise=this._createGoogleOneTap()}_createGoogleOneTap(){return window.lazyloader.then((e=>e.getLazyLoadedJavascriptModule("google-one-tap-lib"))).then((()=>(this.googleOneTapInstance=new gh({autoSelect:this.isAutoSelectEnabled,cancelOnTapOutside:!1,context:Dh}),this.googleOneTapInstance.addEventListener(xh,(({detail:e})=>{Rh("google-one-tap--account-selected");const{idToken:t,selectedBy:n}=e,r=this.googleOneTapInstance._getBasicProfile(t);this._submitWithGoogle(n,r)})),this.googleOneTapInstance.addEventListener(Mh,(({detail:e})=>{const{reason:t,type:n}=e;let r="google-one-tap-moment--".concat(n);if(r=t?"".concat(r,"-").concat(t):r,Rh(r),t)if(n===Ph.SKIPPED){if(this.onSkipped)this.onSkipped(e);else if(-1===Bh.indexOf(t))throw Error("GoogleOneTapError ".concat(n,": ").concat(t))}else if(n===Ph.DISPLAY)if(this.onNotDisplayed)this.onNotDisplayed(e);else if(-1===Uh.indexOf(t))throw Error("GoogleOneTapError ".concat(n,": ").concat(t))})),this.googleOneTapInstance)))}_submitWithGoogle(e,t={}){const{email:n,idToken:r,imageUrl:i,familyName:o,givenName:s}=t;this.googleIdTokenInput&&this.el.removeChild(this.googleIdTokenInput),this.googleIdTokenInput=Ch("googleIdToken",r),this.el.appendChild(Ch("googleGivenName",s)),this.el.appendChild(Ch("googleFamilyName",o)),this.el.appendChild(Ch("googleImageUrl",i)),this.el.appendChild(Ch("googleEmail",n));const a="auto"===e?$d:Zd;this.el.appendChild(Ch("soogleLoginRequestType",a)),this.el.appendChild(this.googleIdTokenInput),this.loader&&this.loader.show(),this.el.submit()}}const{GOOGLE_USER_FETCHED:qh,GOOGLE_ERROR:Hh,INITIALIZED:Gh}=Ih.EVENTS,{INITIALIZATION:jh}=Ih.GSI_ERROR_TYPES;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;function zh(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}zh((function(e,t){e.exports=function(){var e="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",t="alt|checked|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width",n="border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding",r=d()?"textContent":"innerText",i=["b","del","em","i","s","strong","sub","sup"],o=i.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),s=[e,t,n].join("|"),a="href|src",c="data:image/(?:gif|jpg|jpeg|png);base64,",l="https?|ftp|mailto|invalid";function u(){}function d(){return"undefined"==typeof document||"textContent"in document.createElement("div")}function h(e,t){if(t=t||"log",window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}var p=function(){var e,t=/[&<>"'\u0000\\=]/g;return e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"},function(n){return null==n?null:n.toString().replace(t,(function(t){return e[t]}))}}(),f=function(){var e,t,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var i={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};function o(t){var n;return i.hasOwnProperty(t)?i[t]:(e.innerHTML="&"+t+";",n=e[r],i[t]=n,n)}return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(e){return null==e?null:(e+"").replace(n,(function(e,n,r,i){return n?o(n):r||i?t(parseInt(r||i,r?16:10)||65533):""}))}}();function m(e){return p(f(e))}function g(e){return h("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),p(e)}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e){return/[<&]/.test(e)}function E(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function b(e){return e.reduce((function(e,t){return e.concat(t)}),[])}var w=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},_="[ \t\r\n]*",T="[ \t\r\n]+";function S(e){e=v(e)?e:[e];var t,n,r,i=0,u="<(?!/?";return u+="(?:",w(e,(function(e,d){t=e.tags||o,n=e.attrs||s,r=e.checkUrlAttrs||!1,0!==d&&(u+="|"),u+="(?:"+t.join("|")+")",u+="(?:",u+=_,u+="|"+T,u+="(?:(?:",u+="(?:"+n+")(?:=([\"'])[^'\"<>]*\\"+ ++i+")?",r&&(u+="|(?:"+a+")=([\"'])(?:(?:"+l+")(?::|&#(?:58|x3a);)|(?:"+c+")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++i),u+=")"+_+")+",u+=")"})),u+=")",u+="/?>)",new RegExp(u,"i")}function I(e){return S({tags:e=e||o,checkUrlAttrs:!0})}function C(){var t={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"};return S([{tags:o,checkUrlAttrs:!0},{tags:[t.tag],attrs:[e,t.attrs].join("|"),checkUrlAttrs:!1}])}function k(e,t){var n=(t=t||{}).allowTags,r=!1!==t.hasCustomElementMarkup;return n?!I(n).test(e):r?!k.R_UNSAFE_CUSTOM_ELEMENT.test(e):!k.R_UNSAFE_HTML.test(e)}function A(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function R(e,t,n){if(null==e)return null;e=e.toString();var r=t?O(e,t):e,i=e;return y(r)&&!k(r,n)&&(r=A(r),h("Content contains non-whitelisted tags or attributes:\nContent: "+i,"error")),r}function O(e,t){var n={};return e.replace(/\{([^}]+)\}/g,(function(e,r){var i,o=e;if(n.hasOwnProperty(r))return n[r];if(t.hasOwnProperty(r)){if(!((i="string"==typeof(o=t[r]))||o instanceof u||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");o=i?p(o):o.toString()}return n[r]=o,o}))}function N(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e}k.R_UNSAFE_HTML=I(),k.R_UNSAFE_CUSTOM_ELEMENT=C();var L={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};L.optgroup=L.option,L.tbody=L.tfoot=L.colgroup=L.caption=L.thead,L.th=L.td;var P=/<([\w:]+)/;function x(e,t){var n,r,i,o,s,a,c,l=t.createDocumentFragment(),u=[];for(s=0,c=e.length;s<c;s++)if((o=e[s])||0===o)if("string"==typeof o){for(i=i||l.appendChild(t.createElement("div")),n=(P.exec(o)||["",""])[1].toLowerCase(),B(i,(r=L[n]||L._default)[1]+o+r[2]),a=r[0];a--;)i.lastChild&&i.lastChild.nodeType===Node.ELEMENT_NODE&&(i=i.lastChild);N(u,i.childNodes),(i=l.firstChild).textContent=""}else N(u,o.nodeType?[o]:o);for(l.textContent="",o=u[s=0];o;)l.appendChild(o),o=u[++s];return l}function M(e,t){var n;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=x([e],t);else{if(!v(e))return e;n=x(e,t)}return N([],n.childNodes)}var D=R,U=R;function B(e,t,n){var i=R(t,n);return y(i)?e.innerHTML=i:e[r]=i,i}function F(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e}function q(e){return e}function H(e,t){if(!(this instanceof H))return new H(e,t);(t=t||{}).allowTags=t.allowTags?b(t.allowTags):null,this._string=e,this._options=t}function G(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i="",o=void 0,s=n.length;return e&&e.forEach((function(e,t){i+=e,t<s&&(o=n[t],i+=o instanceof H?o:p(o))})),U(i)}H.prototype=E(new u,{toString:function(){var e=this._string,t=this._stringVal,n=e;return void 0!==t?t:(k(e,this._options)||(n=e,e=A(e),h("UnsafeString contains non-whitelisted tags or attributes.\nString: "+n,"error")),this._stringVal=e,e)}});var j=/ /g,z=/[\s\u0000<>"]|%00/,W=/\\/,K=/([.]|%2e){2}/i,V=new RegExp("^(?:https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function Q(e){var t=void 0,n="invalid://";if("string"!=typeof e)return h("jSecure Warning: url must be a string","error"),n;if((t=e.trim()).indexOf(" ")>-1&&(h("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(j,"+")),!V.test(t))return h("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n;if(z.test(t))return h("jSecure Error: not valid url character found in url: "+e,"error"),n;var r=t.split("?")[0];return W.test(r)||K.test(r)||K.test(decodeURI(r))?(h("jSecure Error: malicious data found in url path: "+r,"error"),n):e}var Y={redirect:function(e){window&&(window.location.href=e)}};function J(e){var t=Q(e);t===e&&Y.redirect(t)}return{ALLOWED_TAGS:o,FORMATTING_TAGS:i,htmlEncode:p,htmlUnencode:f,log:h,mk:G,parseHTML:M,parseSelector:F,processTemplate:D,reEncode:m,_redirector:Y,redirect:J,sanitizeHTML:U,sanitizeUrl:Q,setElementContent:B,text:g,unsafe:q,UnsafeString:H}}()}));const Wh=/\!|\@|\#|\$|\%|\^|\&|\*|\+|\=|\||<|\>|\?|\:|\;/,Kh=/(.)\1{3}/,Vh=/linkedin/i,Qh=/\d\d/,Yh=new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?"),Jh=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Xh=/^[\u4E00-\u9FFF|\u3400-\u4DBF|\uF900-\uFAFF]*$/,Zh=/^[-]*$/,$h=/^[+]?[\s./0-9]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/,ep="i18n_invalidFormat_",tp=e=>{const t=(t="")=>t.length<=e;return t.errorMessagePrefix="i18n_tooLong_",t},np=e=>{const t=(t="")=>t.length>=e;return t.errorMessagePrefix="i18n_tooShort_",t},rp=(e="")=>!Qh.test(e);rp.errorMessagePrefix="i18n_noConsecutiveDigits_";const ip=(e="")=>!Wh.test(e);ip.errorMessagePrefix="i18n_noForbiddenCharacters_";const op=(e="")=>!Kh.test(e);op.errorMessagePrefix="i18n_noFourConsecutiveDuplicates_";const sp=(e="")=>!Vh.test(e);sp.errorMessagePrefix="i18n_noLinkedIn_";const ap=(e="")=>!Yh.test(e);ap.errorMessagePrefix="i18n_noUrl_";const cp=(e="")=>Xh.test(e);cp.errorMessagePrefix="i18n_onlyChinese_";const lp=(e="")=>Zh.test(e);lp.errorMessagePrefix="i18n_onlyPhonetic_";const up=(e="")=>""!==e.trim();up.errorMessagePrefix="i18n_required_";const dp=(e="")=>Jh.test(e);dp.errorMessagePrefix=ep;const hp=(e="")=>$h.test(e);hp.errorMessagePrefix=ep;const pp=(e="")=>Jh.test(e)||$h.test(e);pp.errorMessagePrefix=ep;const fp=[tp(50),ip,rp,op,sp,ap],mp=[up].concat(fp),gp=[lp,tp(50),op];tp(4),np(2),tp(128),tp(128),tp(128),(e=>{const t=(t="")=>""===t||e(t);t.errorMessagePrefix=e.errorMessagePrefix})(dp),np(6),tp(200);const{GOT_PROMPT_MOMENT_REASONS:vp,GOT_PROMPT_MOMENT_TYPES:yp}=Ih;const{GOOGLE_ERROR:Ep,GOOGLE_USER_FETCHED:bp,INITIALIZED:wp}=Ih.EVENTS;zh((function(e,t){!function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},d.apply(null,arguments)}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||!h(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},p(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function g(e){return function(){var t,n=c(e);if(u()){var r=c(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return m(this,t)}}function v(e){"complete"===document.readyState?e():window.addEventListener("load",(function(){e()}))}function y(e,t){var n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}function E(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}(function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window.CustomEvent=e})(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}var e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();var b="990339570472-k6nqn1tpmitg8pui82bfaun3jrpmiuhs.apps.googleusercontent.com",w={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},_="https://accounts.google.com",T={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},S={INIT_FAILED:"idpiframe_initialization_failed",POPUP_CLOSED_BY_USER:"popup_closed_by_user",ACCESS_DENIED:"access_denied",IMMEDIATE_FAILED:"immediate_failed"},I={SIGN_IN:"signin",SIGN_UP:"signup",USE:"use"},C={DISPLAY:"display",SKIPPED:"skipped",DISMISSED:"dismissed"},k={NOT_DISPLAYED:{BROWSER_NOT_SUPPORTED:"browser_not_supported",INVALID_CLIENT:"invalid_client",MISSING_CLIENT_ID:"missing_client_id",OPT_OUT_OR_NO_SESSION:"opt_out_or_no_session",SECURE_HTTP_REQUIRED:"secure_http_required",SUPPRESSED_BY_USER:"suppressed_by_user",UNREGISTERED_ORIGIN:"unregistered_origin",UNKNOWN_REASON:"unknown_reason"},SKIPPED:{AUTO_CANCEL:"auto_cancel",USER_CANCEL:"user_cancel",TAP_OUTSIDE:"tap_outside",ISSUING_FAILED:"issuing_failed"},DISMISSED:{CREDENTIAL_RETURNED:"credential_returned",CANCEL_CALLED:"cancel_called",FLOW_RESTARTED:"flow_restarted"}},A="com.linkedin.LinkedIn.service",R="https://www.linkedin.com/redirect",O="https://www.linkedin-ei.com/redirect",N={DISMISSED:"DISMISSED",INITIALIZED:"INITIALIZED",SNAPPLE_USER_FETCHED:"SNAPPLE_USER_FETCHED"},L={signin:{GOT:"signin",GSI_BUTTON:"signin_with"},signup:{GOT:"signup",GSI_BUTTON:"signup_with"},use:{GOT:"use",GSI_BUTTON:"continue_with"}},P=w.GOOGLE_ERROR,x=w.GOOGLE_USER_FETCHED,M=w.INITIALIZED,D=T.INITIALIZATION,U=T.AUTHENTICATION,B=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.libSrcPath,s=e.el,a=e.clientId,c=void 0===a?b:a;if(t(this,i),r=n.call(this),!s)throw TypeError("DOM element for Sign In button is required");if(r.libSrcPath=o,r.el=s,r.clientId=c,window.gapi)r._initializeGoogleAuth();else{if(!o)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");v((function(){y(o,r._initializeGoogleAuth.bind(f(r)))}))}return r}return r(i,[{key:"_initializeGoogleAuth",value:function(){var e=this;return gapi.auth2.init({client_id:this.clientId}).then((function(t){e.auth2=t,e._attachSignIn();var n=new CustomEvent(M);e.dispatchEvent(n)})).catch((function(t){var n={type:D,message:t.error},r=new CustomEvent(P,{detail:n});e.dispatchEvent(r)}))}},{key:"_attachSignIn",value:function(){var e=this;this.auth2.attachClickHandler(this.el,{},(function(t){var n=new CustomEvent(x,{detail:e._getGoogleUserInformation(t)});e.dispatchEvent(n)}),(function(t){var n={type:U,message:t.error},r=new CustomEvent(P,{detail:n});e.dispatchEvent(r)}))}},{key:"_getGoogleUserInformation",value:function(e){var t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}]),i}(p(EventTarget)),F=w.GOOGLE_USER_FETCHED,q=w.PROMPT_MOMENT,H=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.autoSelect,s=void 0!==o&&o,a=e.libSrcPath,c=e.containerId,l=e.context,u=e.clientId,d=void 0===u?b:u,h=e.cancelOnTapOutside,p=void 0===h||h;if(t(this,i),r=n.call(this),!l)throw TypeError("context param is required to determine the message to show in Google One Tap");if(r.autoSelect=s,r.libSrcPath=a,r.containerId=c,r.cancelOnTapOutside=p,r.clientId=d,r.context=l,window.google&&window.google.accounts&&window.google.accounts.id)r._onGoogleApiLoad();else{if(!a)throw TypeError("Google One Tap lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(a,r._onGoogleApiLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onGoogleApiLoad",value:function(){var e=this;return google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.containerId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:this.context}),Promise.resolve().then((function(){return e.promptOneTap()}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=this.context===I.SIGN_UP?this._getBasicProfile(t):{idToken:t};if(n){n.selectedBy=e.select_by;var r=new CustomEvent(F,{detail:n});this.dispatchEvent(r)}}},{key:"_getBasicProfile",value:function(e){try{var t=new gapi.auth2.BasicProfile({id_token:e});return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:e,imageUrl:t.getImageUrl()}}catch(e){return this._dispatchSkippedEvent(e.message),null}}},{key:"_dispatchSkippedEvent",value:function(e){var t={message:e,reason:k.SKIPPED.ISSUING_FAILED,type:C.SKIPPED},n=new CustomEvent(q,{detail:t});this.dispatchEvent(n)}},{key:"promptOneTap",value:function(){var e=this;google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},r=new CustomEvent(q,{detail:n});e.dispatchEvent(r),e.checkIfDesktopAndApplyClass()}))}},{key:"hideOneTap",value:function(){google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),i}(p(EventTarget)),G={exports:{}},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function z(e){this.message=e}function W(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new z("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r=j.indexOf(r);return s}z.prototype=new Error,z.prototype.name="InvalidCharacterError";var K="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||W;function V(e){return decodeURIComponent(K(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}var Q=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return V(t)}catch(e){return K(t)}};function Y(e){this.message=e}Y.prototype=new Error,Y.prototype.name="InvalidTokenError",G.exports=function(e,t){if("string"!=typeof e)throw new Y("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Q(e.split(".")[n]))}catch(e){throw new Y("Invalid token specified: "+e.message)}},G.exports.InvalidTokenError=Y;var J=G.exports,X=w.GOOGLE_USER_FETCHED,Z=w.PROMPT_MOMENT,$=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.autoSelect,s=void 0!==o&&o,a=e.libSrcPath,c=e.clientId,l=void 0===c?b:c,u=e.showOneTap,d=void 0===u||u,h=e.promptParentId,p=e.buttonParentEl,m=e.gsiButtonConfig,g=void 0===m?{}:m,w=e.context,_=void 0===w?"signin":w,T=e.cancelOnTapOutside,S=void 0===T||T;if(t(this,i),(r=n.call(this)).autoSelect=s,r.libSrcPath=a,r.clientId=l,r.showOneTap=d,r.promptParentId=h,r.buttonParentEl=p,r.gsiButtonConfig=g,r.cancelOnTapOutside=S,r.context=_,r.isLibraryLoaded=E(),window.google&&window.google.accounts&&window.google.accounts.id)r._onGoogleApiLoad();else{if(!a)throw TypeError("GSI lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(a,r._onGoogleApiLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onGoogleApiLoad",value:function(){var e=this;return this.isLibraryLoaded.resolve(),window.google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.promptParentId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:L[this.context].GOT}),Promise.resolve().then((function(){return e.showGsiUI()}))}},{key:"showGsiUI",value:function(){this.buttonParentEl&&this.renderGSIButton(this.buttonParentEl,this.gsiButtonConfig),this.showOneTap&&this.promptOneTap()}},{key:"renderGSIButton",value:function(e,t){var n=this,r=t.logo_alignment,i=void 0===r?"center":r,o=t.shape,s=void 0===o?"pill":o,a=t.size,c=void 0===a?"large":a,l=t.text,u=t.theme,d=t.type,h=t.width,p=void 0===h?"400px":h;return this.isLibraryLoaded.then((function(){var t=l||L[n.context].GSI_BUTTON;window.google.accounts.id.renderButton(e,{logo_alignment:i,shape:s,size:c,text:t,theme:u,type:d,width:p})}))}},{key:"promptOneTap",value:function(){var e=this;return this.isLibraryLoaded.then((function(){window.google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},r=new CustomEvent(Z,{detail:n});e.dispatchEvent(r),e.checkIfDesktopAndApplyClass()}))}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=e.select_by,r=J(t),i=s({},this._getBasicProfile(r),{idToken:t,selectedBy:n});if(i){var o=new CustomEvent(X,{detail:i});this.dispatchEvent(o)}}},{key:"_getBasicProfile",value:function(e){return{email:e.email,familyName:e.family_name,givenName:e.given_name,id:e.sub,imageUrl:e.picture}}},{key:"hideOneTap",value:function(){window.google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),i}(p(EventTarget)),ee=N.DISMISSED,te=N.INITIALIZED,ne=N.SNAPPLE_USER_FETCHED,re=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.libSrcPath,s=e.snappleCTA,a=e.clientId,c=void 0===a?A:a,l=e.redirectURI;if(t(this,i),r=n.call(this),!s)throw TypeError("snappleCTA is required. Please pass the correct CTA element to this Snapple Constructor");if(r.libSrcPath=o,r.clientId=c,r.redirectURI=r._getRedirectURL(l),r.snappleCTA=s,window.AppleID&&window.AppleID.auth&&window.AppleID.auth.init)r._onSnappleLibLoad();else{if(!o)throw TypeError("Snapple lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(o,r._onSnappleLibLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onSnappleLibLoad",value:function(){window.AppleID.auth.init({clientId:this.clientId,scope:"name email",redirectURI:this.redirectURI,usePopup:!0});var e=new CustomEvent(te);return this.dispatchEvent(e),Promise.resolve(this._attachEvents())}},{key:"_attachEvents",value:function(){var e=this;this.snappleCTA.addEventListener("click",(function(){return window.AppleID.auth.signIn().then((function(t){var n=new CustomEvent(ne,{detail:t});e.dispatchEvent(n)})).catch((function(t){var n=new CustomEvent(ee,{detail:{type:ee,message:t}});e.dispatchEvent(n)}))}))}},{key:"_getRedirectURL",value:function(e){var t=window.location.host.indexOf("linkedin.com")>-1;return this.redirectURI?e:t?R:O}}]),i}(p(EventTarget)),ie={CLIENT_ID:b,EVENTS:w,GOOGLE_ACCOUNT_URL:_,GSI_ERROR_TYPES:T,GSI_ERROR_MESSAGES:S,GOT_CONTEXTS:I,GOT_PROMPT_MOMENT_REASONS:k,GOT_PROMPT_MOMENT_TYPES:C};e.GoogleGsi=$,e.GoogleOneTap=H,e.GoogleSignIn=B,e.GoogleSignInConstants=ie,e.SnappleAuth=re,e.SnappleEvents=N,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));new Set(["","",""," ",""," ",""," ",""," ","",""," ",""," ","","","","",""," ",""," ",""," ",""," ","","","","","","",""," ","","",""," ",""," ",""," ","","","",""," ","","","","",""," ","",""," ",""," ",""," ","",""," ",""," ",""," ",""," ","",""," ",""," ","",""," ",""," ",""," ","",""," ","",""]);var _p;!function(e){e.ProductName="productName",e.UntrackedResponseCodes="untrackedResponseCodes",e.TrackedResponseCodes="trackedResponseCodes"}(_p||(_p={}));new Set(Object.values(_p));class Tp extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Tp.prototype)}}const{EVENTS:Sp,GOT_CONTEXTS:Ip,GOT_PROMPT_MOMENT_TYPES:Cp}=Ih,{GOOGLE_USER_FETCHED:kp,PROMPT_MOMENT:Ap}=Sp;function Rp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Np,Lp={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},Pp="GUEST",xp="MEMBER",Mp=0,Dp=1,Up=2,Bp=(Op(Np={},Pp,"li_gc"),Op(Np,xp,"li_mc"),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var o in Rp(this,e),t=t||{},this.consentAvailable=!1,this.issuedAt=n,this.userMode=r,this.optedInConsentMap={},Lp)t[o]=t[o]||Mp,t[o]!==Mp&&(this.consentAvailable=!0),this.optedInConsentMap[o]=t[o]===Dp||t[o]===Mp&&i===Dp});(function(){var e=[Lp.ADVERTISING,Lp.ANALYTICS_AND_RESEARCH,Lp.FUNCTIONAL],t=[Mp,Dp,Up,Mp],n=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";"))})(),new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";"));window.encodeURIComponent;function Fp(e,t){if(!e)return null;let n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;for(;e&&!n.call(e,t);)e=e.parentElement;return e}function qp(e){"complete"===document.readyState?e():window.addEventListener("load",(()=>{setTimeout(e)}))}class Hp{constructor(){this._unloadCallbacks=[],this._initEventListener()}_initEventListener(){window.addEventListener("beforeunload",(e=>{for(let t=0;t<this._unloadCallbacks.length;t++){if(!1===this._unloadCallbacks[t].call(null,e))break}}))}addUnloadCallback(e){e instanceof Function&&this._unloadCallbacks.push(e)}}const Gp=function(){let e;return{getInstance:function(){return e||(e=new Hp),e}}}();class jp{constructor(){this._pagehideCallbacks=[],this._initEventListener()}_initEventListener(){window.addEventListener("pagehide",(e=>{for(let t=0;t<this._pagehideCallbacks.length;t++)this._pagehideCallbacks[t].call(null,e)}))}addPagehideCallback(e){e instanceof Function&&this._pagehideCallbacks.push(e)}}const zp=function(){let e;return{getInstance:function(){return e||(e=new jp),e}}}();function Wp(e){return null==e||"object"!=typeof e?[]:Array.prototype.slice.call(e)}function Kp(e){const t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,i=t.top<=n&&t.top+t.height>=0,o=t.left<=r&&t.left+t.width>=0;return i&&o}function Vp(){let{scrollTop:e=scrollY,clientHeight:t=window.innerHeight,scrollHeight:n=document.body.scrollHeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return i?e<=t*r:e>=n-(t+t*r)}function Qp(e,t,n){const r=new RegExp("([\\?&])".concat(n?t:encodeURIComponent(t),"=([^&#]*)")).exec(e);return r&&(n?r[2]:decodeURIComponent(r[2]))}function Yp(e,t){return Jp(e,"trk",t)}function Jp(e,t,n,r){if(!e||!t)throw new Error("Required param of addQueryParam missing: url = ".concat(e,",  key = ").concat(t));t=encodeURIComponent(t),n=encodeURIComponent(n);const i=Qp(e,t,!0);if(i)return r?e.replace(i,n):e;{const r=e.indexOf("?");let[i,o]=e.split("#"),s="&";return r<0?s="?":r===e.length-1&&(s=""),o&&(o="#".concat(o)),"".concat(i).concat(s).concat(t,"=").concat(n).concat(o||"")}}function Xp(e,t,n){var r=this;if("function"!=typeof e)throw new TypeError("Expected a function.");let i;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const c=()=>{i=null,n||e.apply(r,s)},l=n&&!i;clearTimeout(i),i=setTimeout(c,t),l&&e.apply(r,s)}}function Zp(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t&&t[2]}function $p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createEvent("CustomEvent");r.initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function ef(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}function tf(e){return void 0!==e.msHidden?e.msHidden:void 0!==e.hidden?e.hidden:void 0}function nf(e){return"string"!=typeof e?null:e.split("?")[0]}var rf=Object.freeze({__proto__:null,closest:Fp,onload:qp,UnloadHandler:Gp,PagehideHandler:zp,makeArray:Wp,outerWidth:function(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=(parseInt(n.marginLeft,10)||0)+(parseInt(n.marginRight,10)||0),t},elementInViewport:Kp,hasElementScrolledToThreshold:Vp,getQueryParam:Qp,addTrackingCode:Yp,addQueryParam:Jp,debounce:Xp,getCookie:Zp,dispatchCustomEvent:$p,getDeferredPromise:ef,isDocumentHidden:tf,stripQueryParams:nf});function of(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.querySelector('meta[name="pageKey"]'),r=e.getElementById("config"),i=r&&"true"===r.dataset.disableJsbeaconPagekeySuffix;return n&&n.content?"".concat(n.content).concat(i||t.skipSuffix?"":"_jsbeacon"):""}function sf(e){let t=e.querySelector('meta[name="linkedin:pageTag"]');return t&&t.content||""}function af(e){let t=e.querySelector('meta[name="locale"]');return t&&t.content||""}function cf(e){return e&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)?e.slice(1,-1):e}const lf={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ESCAPE:"Escape",ENTER:"Enter",SPACEBAR:" ",TAB:"Tab"},uf={Down:lf.ARROW_DOWN,Right:lf.ARROW_RIGHT,Left:lf.ARROW_LEFT,Up:lf.ARROW_UP,Esc:lf.ESCAPE,Spacebar:lf.SPACEBAR,Tab:lf.TAB};function df(e){return uf[e]||e}let hf,pf;const ff=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([disabled]):not([tabindex^="-"]):not([type="hidden"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])'],mf=[...ff,'[tabindex]:not([tabindex^="-"]):not([disabled])'].join(",");[...ff,"[tabindex]:not([disabled])"].join(",");function gf(e){const t=window.getComputedStyle(e);return"hidden"===t.visibility||"none"===t.display}function vf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,r=arguments.length>2?arguments[2]:void 0;return e===n?!gf(e):r&&r.get(e)?r.get(e):(gf(e)?t=!1:e.parentNode&&(t=vf(e.parentNode,n,r)),r&&r.set(e,t),t)}const yf={POLITE:"polite",ASSERTIVE:"assertive"};function Ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yf.POLITE;hf&&(hf.removeAttribute("aria-hidden"),hf.setAttribute("aria-live",yf.POLITE),hf.textContent="",hf.textContent=e,hf.setAttribute("aria-live",t),clearTimeout(pf),pf=setTimeout((()=>{hf.removeAttribute("aria-live"),hf.setAttribute("aria-hidden","true")}),1e4))}const bf="collapsible-dropdown";".".concat(bf,"__list"),".".concat(bf,"__button");function wf(e){let{method:t="GET",headers:n={},sendCookies:r=!0,skipCsrfToken:i=!1,postData:o,isPemEnabled:s=!1,pemDegradationTrackingMetadata:a=[],pemEntityIds:c=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=new Promise(((s,a)=>{const c=new XMLHttpRequest;if(c.addEventListener("load",(function(){if(c.status>=200&&c.status<300||304===c.status)s({status:c.status,responseText:c.responseText});else{const n=new Error("".concat(t," request for ").concat(e," has failed with status code ").concat(c.status));n.response={status:c.status,responseText:c.responseText},c.response&&(n.response.rawHeaders=c.getAllResponseHeaders()),a(n)}})),c.addEventListener("error",(function(e){a(e)})),c.open(t,e,!0),c.withCredentials=r,Object.keys(n).forEach((e=>{c.setRequestHeader(e,n[e])})),!i){const e=Zp("JSESSIONID");e&&c.setRequestHeader("Csrf-Token",cf(e))}c.send(o)}));return s&&(a.length?_f(l,e,c,a):console.warn("Please set the value for the option pemDegradationTrackingMetadata when PEM is enabled.")),l}function _f(e,t,n,r){try{const i=e.then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Response(e,{status:e.status})})).catch((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Response(e.response,{status:e.response?e.response.status:500,headers:e.response&&e.response.rawHeaders?Tf(e.response.rawHeaders):new Headers})}));window.tracking.then((e=>{window.pemTracking.then((o=>{o.trackFeatureDegradationsForFetch(t,n,r,i,e.state.currentPageInstance)}))}))}catch(e){}}function Tf(e){const t=new Headers;return e&&e.trim().split(/[\r\n]+/).forEach((e=>{const n=e.trim().split(": "),r=n.shift();if(r){const e=n.join(": ");t.set(r.toLocaleLowerCase(),e)}})),t}var Sf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{},If=(parseInt,"object"==typeof Sf&&Sf&&Sf.Object===Object&&Sf),Cf="object"==typeof self&&self&&self.Object===Object&&self;If||Cf||Function("return this")(),Object.prototype.toString,Math.max,Math.min;class kf{constructor(e){if(!e)throw new Error("An element must be passed in to Disable Background Navigation");this._container=e,this._hiddenElements=[]}disableBackground(){let e=this._container;for(;e&&e!==document.body&&e.parentElement;)this._hiddenElements=this._hiddenElements.concat([...e.parentElement.children].filter((t=>t!==e&&"true"!==t.getAttribute("aria-hidden")&&(t.setAttribute("aria-hidden",!0),!0)))),e=e.parentElement}enableBackground(){this._hiddenElements.forEach((e=>{e.removeAttribute("aria-hidden")})),this._hiddenElements=[]}}const Af=["class","disabled","style","tabindex","type"];class Rf{constructor(e){if(!e)throw new Error("FocusTrap: No focus trap container passed in");this._container=e,this._observer=new MutationObserver((()=>this._setFirstAndLastFocusableEls(this._container))),this._handleKeyDown=this._focusTrap.bind(this),this._backgroundNavigationDisabler=new kf(this._container)}init(){this._observer.observe(this._container,{attributeFilter:Af,attributes:!0,childList:!0,subtree:!0}),this._setFirstAndLastFocusableEls(this._container),this._container.addEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.disableBackground()}tearDown(){this._observer.disconnect(),this._container.removeEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.enableBackground()}_focusTrap(e){const{key:t,target:n}=e,r=df(t),i=r===lf.TAB&&e.shiftKey;!i&&r===lf.TAB&&n===this.lastFocusableEl?(this.firstFocusableEl.focus(),e.preventDefault()):i&&n===this.firstFocusableEl&&(this.lastFocusableEl.focus(),e.preventDefault())}_setFirstAndLastFocusableEls(e){const[t,n]=this._getFirstAndLastFocusableEls(e);this.firstFocusableEl=t,this.lastFocusableEl=n,setTimeout((()=>{this._hasFocusBeenDropped()&&("-1"===e.getAttribute("tabindex")?e.focus():this.firstFocusableEl.focus())}),100)}_hasFocusBeenDropped(){const e=document.activeElement;return!e||e===document.body}_getFirstAndLastFocusableEls(e){const t=[...e.querySelectorAll(mf)],n=new Map;let r,i,o=0,s=t.length-1;for(;(!r||!i)&&o<=s;){if(!r){const i=t[o];r=vf(i,e,n)&&i,o++}if(!i){const r=t[s];i=vf(r,e,n)&&r,s--}}return i=i||r,[r,i]}}function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(n),!0).forEach((function(t){Lf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pf="light",xf="dark";function Mf(){const e=document.getElementById("config");let t;return e&&e.dataset&&(t=e.dataset.theme),t?document.documentElement.classList.contains("dark")?xf:Pf:void 0}var Df;function Uf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jf(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Bf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qf(e,t,n){return t&&Ff(e.prototype,t),n&&Ff(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gf(e){return function(e){if(Array.isArray(e))return zf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(e,t){if(e){if("string"==typeof e)return zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zf(e,t):void 0}}function zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wf(e){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kf,Vf=new Uint8Array(16);function Qf(){if(!Kf&&!(Kf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kf(Vf)}var Yf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Jf(e){return"string"==typeof e&&Yf.test(e)}for(var Xf=[],Zf=0;Zf<256;++Zf)Xf.push((Zf+256).toString(16).substr(1));function $f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Xf[e[t+0]]+Xf[e[t+1]]+Xf[e[t+2]]+Xf[e[t+3]]+"-"+Xf[e[t+4]]+Xf[e[t+5]]+"-"+Xf[e[t+6]]+Xf[e[t+7]]+"-"+Xf[e[t+8]]+Xf[e[t+9]]+"-"+Xf[e[t+10]]+Xf[e[t+11]]+Xf[e[t+12]]+Xf[e[t+13]]+Xf[e[t+14]]+Xf[e[t+15]]).toLowerCase();if(!Jf(n))throw TypeError("Stringified UUID is invalid");return n}function em(e){if(!Jf(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function tm(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=em(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return $f(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function nm(e){return 14+(e+64>>>9<<4)+1}function rm(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function im(e,t,n,r,i,o){return rm((s=rm(rm(t,e),rm(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function om(e,t,n,r,i,o,s){return im(t&n|~t&r,e,t,i,o,s)}function sm(e,t,n,r,i,o,s){return im(t&r|n&~r,e,t,i,o,s)}function am(e,t,n,r,i,o,s){return im(t^n^r,e,t,i,o,s)}function cm(e,t,n,r,i,o,s){return im(n^(t|~r),e,t,i,o,s)}function lm(e,t,n){var r=(e=e||{}).random||(e.rng||Qf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return $f(r)}function um(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function dm(e,t){return e<<t|e>>>32-t}tm("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[nm(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=r,l=i,u=o;n=om(n,r,i,o,e[s],7,-680876936),o=om(o,n,r,i,e[s+1],12,-389564586),i=om(i,o,n,r,e[s+2],17,606105819),r=om(r,i,o,n,e[s+3],22,-1044525330),n=om(n,r,i,o,e[s+4],7,-176418897),o=om(o,n,r,i,e[s+5],12,1200080426),i=om(i,o,n,r,e[s+6],17,-1473231341),r=om(r,i,o,n,e[s+7],22,-45705983),n=om(n,r,i,o,e[s+8],7,1770035416),o=om(o,n,r,i,e[s+9],12,-1958414417),i=om(i,o,n,r,e[s+10],17,-42063),r=om(r,i,o,n,e[s+11],22,-1990404162),n=om(n,r,i,o,e[s+12],7,1804603682),o=om(o,n,r,i,e[s+13],12,-40341101),i=om(i,o,n,r,e[s+14],17,-1502002290),n=sm(n,r=om(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=sm(o,n,r,i,e[s+6],9,-1069501632),i=sm(i,o,n,r,e[s+11],14,643717713),r=sm(r,i,o,n,e[s],20,-373897302),n=sm(n,r,i,o,e[s+5],5,-701558691),o=sm(o,n,r,i,e[s+10],9,38016083),i=sm(i,o,n,r,e[s+15],14,-660478335),r=sm(r,i,o,n,e[s+4],20,-405537848),n=sm(n,r,i,o,e[s+9],5,568446438),o=sm(o,n,r,i,e[s+14],9,-1019803690),i=sm(i,o,n,r,e[s+3],14,-187363961),r=sm(r,i,o,n,e[s+8],20,1163531501),n=sm(n,r,i,o,e[s+13],5,-1444681467),o=sm(o,n,r,i,e[s+2],9,-51403784),i=sm(i,o,n,r,e[s+7],14,1735328473),n=am(n,r=sm(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=am(o,n,r,i,e[s+8],11,-2022574463),i=am(i,o,n,r,e[s+11],16,1839030562),r=am(r,i,o,n,e[s+14],23,-35309556),n=am(n,r,i,o,e[s+1],4,-1530992060),o=am(o,n,r,i,e[s+4],11,1272893353),i=am(i,o,n,r,e[s+7],16,-155497632),r=am(r,i,o,n,e[s+10],23,-1094730640),n=am(n,r,i,o,e[s+13],4,681279174),o=am(o,n,r,i,e[s],11,-358537222),i=am(i,o,n,r,e[s+3],16,-722521979),r=am(r,i,o,n,e[s+6],23,76029189),n=am(n,r,i,o,e[s+9],4,-640364487),o=am(o,n,r,i,e[s+12],11,-421815835),i=am(i,o,n,r,e[s+15],16,530742520),n=cm(n,r=am(r,i,o,n,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=cm(o,n,r,i,e[s+7],10,1126891415),i=cm(i,o,n,r,e[s+14],15,-1416354905),r=cm(r,i,o,n,e[s+5],21,-57434055),n=cm(n,r,i,o,e[s+12],6,1700485571),o=cm(o,n,r,i,e[s+3],10,-1894986606),i=cm(i,o,n,r,e[s+10],15,-1051523),r=cm(r,i,o,n,e[s+1],21,-2054922799),n=cm(n,r,i,o,e[s+8],6,1873313359),o=cm(o,n,r,i,e[s+15],10,-30611744),i=cm(i,o,n,r,e[s+6],15,-1560198380),r=cm(r,i,o,n,e[s+13],21,1309151649),n=cm(n,r,i,o,e[s+4],6,-145523070),o=cm(o,n,r,i,e[s+11],10,-1120210379),i=cm(i,o,n,r,e[s+2],15,718787259),r=cm(r,i,o,n,e[s+9],21,-343485551),n=rm(n,a),r=rm(r,c),i=rm(i,l),o=rm(o,u)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(nm(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),tm("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[d][p];for(var f=16;f<80;++f)h[f]=dm(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],E=n[4],b=0;b<80;++b){var w=Math.floor(b/20),_=dm(m,5)+um(w,g,v,y)+E+t[w]+h[b]>>>0;E=y,y=v,v=dm(g,30)>>>0,g=m,m=_}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+E>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var hm=null;if("undefined"==typeof crypto||!crypto.getRandomValues){var pm=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto");if(pm){var fm=new Uint8Array(256),mm=fm.length;hm={rng:function(){return mm>fm.length-16&&(pm.randomFillSync(fm),mm=0),fm.slice(mm,mm+=16)}}}}"object"===("undefined"==typeof crypto?"undefined":Wf(crypto))&&crypto.randomUUID;function gm(){return lm(hm,new Array(16),0)}function vm(e){return Gf(e).map((function(e){return String.fromCharCode(e)})).join("")}function ym(){return vm(gm())}var Em=/^[a-zA-Z0-9/+]+[=]+$/;function bm(e,t){return{pageUrn:_m(e),trackingId:t||function(e){for(var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,o=e.length,s=o%3,a=o-s;i<a;)t=e[i]<<16,t|=e[i+1]<<8,t|=e[i+2],r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push(n.charAt(63&t)),i+=3;switch(s){case 2:t=e[i]<<16,t|=e[i+1]<<8,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push(n.charAt(t>>>6&63)),r.push("=");break;case 1:t=e[i]<<16,r.push(n.charAt(t>>>18&63)),r.push(n.charAt(t>>>12&63)),r.push("="),r.push("=")}return r.join("")}(gm())}}function wm(e,t){return"urn:li:control:".concat(e,"-").concat(t)}function _m(e){return"urn:li:page:".concat(e)}function Tm(e,t){return{pageInstance:t.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function Sm(e,t){return void 0!==t.allSettled?t.allSettled(e):function(e){return new Promise((function(t){var n=new Set,r=function(e){n.delete(e),0===n.size&&t()};0===e.length?t():e.map((function(e){return e.then((function(){return r(e)})).catch((function(){return r(e)}))}))}))}(e)}function Im(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function Cm(e,t){if("undefined"!=typeof window&&window.indexedDB){var n="sequenceNumber",r=window.indexedDB.open(n);return new Promise((function(i,o){r.onupgradeneeded=function(){var e=r.result;e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},r.onsuccess=function(){var s=r.result,a=s.transaction(n,"readwrite"),c=a.objectStore(n),l=c.get(1);l.onsuccess=function(){var n=l.result;if(n){var r,s=null!==(r=n.sequenceNumber)&&void 0!==r?r:0;if("read"===e)return i(s);if(!("update"===e&&void 0!==t&&t>s))return i(null);var a=c.put({sequenceNumber:t},1);a.onsuccess=function(){return i(null)},a.onerror=function(){o(a.error)}}else{var u=c.add({sequenceNumber:0});u.onsuccess=function(){return i(0)},u.onerror=function(){o(u.error)}}},l.onerror=function(){return s.close(),o(new Error("Error: get sequence number from indexedDB ".concat(String(l.error))))},a.oncomplete=function(){return s.close()}},r.onerror=function(){return i(null)}}))}return Promise.resolve(null)}function km(e,t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])}function Am(e,t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)}var Rm,Om,Nm=(Rm=new Map,Om=new Map,{on:function(e,t){km(Rm,e,t)},before:function(e,t){km(Om,e,t)},off:function(e,t){Am(Rm,e,t)},offBefore:function(e,t){Am(Om,e,t)},emit:function(e,t){(Om.get(e)||[]).concat(Rm.get(e)||[]).slice().map((function(e){e(t)}))},clear:function(){Om.clear(),Rm.clear()}});if("undefined"!=typeof document&&"undefined"!=typeof window){var Lm=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||Nm.emit("internal:hide",e)};document.addEventListener("visibilitychange",Lm),window.addEventListener("pagehide",Lm)}var Pm=Uint8Array,xm=Uint16Array,Mm=Uint32Array,Dm=new Pm([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Um=new Pm([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Bm=new Pm([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fm=function(e,t){for(var n=new xm(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Mm(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},qm=Fm(Dm,2),Hm=qm[0],Gm=qm[1];Hm[28]=258,Gm[258]=28;for(var jm=Fm(Um,0)[1],zm=new xm(32768),Wm=0;Wm<32768;++Wm){var Km=(43690&Wm)>>>1|(21845&Wm)<<1;Km=(61680&(Km=(52428&Km)>>>2|(13107&Km)<<2))>>>4|(3855&Km)<<4,zm[Wm]=((65280&Km)>>>8|(255&Km)<<8)>>>1}var Vm=function(e,t,n){for(var r=e.length,i=0,o=new xm(t);i<r;++i)e[i]&&++o[e[i]-1];var s,a=new xm(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new xm(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[zm[d]>>>c]=l}else for(s=new xm(r),i=0;i<r;++i)e[i]&&(s[i]=zm[a[e[i]-1]++]>>>15-e[i]);return s},Qm=new Pm(288);for(Wm=0;Wm<144;++Wm)Qm[Wm]=8;for(Wm=144;Wm<256;++Wm)Qm[Wm]=9;for(Wm=256;Wm<280;++Wm)Qm[Wm]=7;for(Wm=280;Wm<288;++Wm)Qm[Wm]=8;var Ym=new Pm(32);for(Wm=0;Wm<32;++Wm)Ym[Wm]=5;var Jm=Vm(Qm,9,0),Xm=Vm(Ym,5,0),Zm=function(e){return(e+7)/8|0},$m=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},eg=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},tg=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[cg,0];if(1==i){var s=new Pm(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],c=n[1],l=0,u=1,d=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};u!=i-1;)a=n[n[l].f<n[d].f?l++:d++],c=n[l!=u&&n[l].f<n[d].f?l++:d++],n[u++]={s:-1,f:a.f+c.f,l:a,r:c};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new xm(h+1),f=ng(n[u-1],p,0);if(f>t){r=0;var m=0,g=f-t,v=1<<g;for(o.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<i;++r){var y=o[r].s;if(!(p[y]>t))break;m+=v-(1<<f-p[y]),p[y]=t}for(m>>>=g;m>0;){var E=o[r].s;p[E]<t?m-=1<<t-p[E]++-1:++r}for(;r>=0&&m;--r){var b=o[r].s;p[b]==t&&(--p[b],++m)}f=t}return[new Pm(p),f]},ng=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},rg=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new xm(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},ig=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},og=function(e,t,n){var r=n.length,i=Zm(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},sg=function(e,t,n,r,i,o,s,a,c,l,u){$m(t,u++,n),++i[256];for(var d=tg(i,15),h=d[0],p=d[1],f=tg(o,15),m=f[0],g=f[1],v=rg(h),y=v[0],E=v[1],b=rg(m),w=b[0],_=b[1],T=new xm(19),S=0;S<y.length;++S)T[31&y[S]]++;for(S=0;S<w.length;++S)T[31&w[S]]++;for(var I=tg(T,7),C=I[0],k=I[1],A=19;A>4&&!C[Bm[A-1]];--A);var R,O,N,L,P=l+5<<3,x=ig(i,Qm)+ig(o,Ym)+s,M=ig(i,h)+ig(o,m)+s+14+3*A+ig(T,C)+(2*T[16]+3*T[17]+7*T[18]);if(P<=x&&P<=M)return og(t,u,e.subarray(c,c+l));if($m(t,u,1+(M<x)),u+=2,M<x){R=Vm(h,p,0),O=h,N=Vm(m,g,0),L=m;var D=Vm(C,k,0);for($m(t,u,E-257),$m(t,u+5,_-1),$m(t,u+10,A-4),u+=14,S=0;S<A;++S)$m(t,u+3*S,C[Bm[S]]);u+=3*A;for(var U=[y,w],B=0;B<2;++B){var F=U[B];for(S=0;S<F.length;++S){var q=31&F[S];$m(t,u,D[q]),u+=C[q],q>15&&($m(t,u,F[S]>>>5&127),u+=F[S]>>>12)}}}else R=Jm,O=Qm,N=Xm,L=Ym;for(S=0;S<a;++S)if(r[S]>255){q=r[S]>>>18&31,eg(t,u,R[q+257]),u+=O[q+257],q>7&&($m(t,u,r[S]>>>23&31),u+=Dm[q]);var H=31&r[S];eg(t,u,N[H]),u+=L[H],H>3&&(eg(t,u,r[S]>>>5&8191),u+=Um[H])}else eg(t,u,R[r[S]]),u+=O[r[S]];return eg(t,u,R[256]),u+O[256]},ag=new Mm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cg=new Pm(0),lg=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),ug=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function dg(e,t){t||(t={});var n=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=lg[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}}(),r=e.length;n.p(e);var i,o,s,a=(i=e,o=t,s=function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),8,function(e,t,n,r,i,o){var s=e.length,a=new Pm(r+s+5*(1+Math.ceil(s/7e3))+i),c=a.subarray(r,a.length-i),l=0;if(!t||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d>=s&&(c[l>>3]=o),l=og(c,l+1,e.subarray(u,d))}else{for(var h=ag[t-1],p=h>>>13,f=8191&h,m=(1<<n)-1,g=new xm(32768),v=new xm(m+1),y=Math.ceil(n/3),E=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<E)&m},w=new Mm(25e3),_=new xm(288),T=new xm(32),S=0,I=0,C=(u=0,0),k=0,A=0;u<s;++u){var R=b(u),O=32767&u,N=v[R];if(g[O]=N,v[R]=O,k<=u){var L=s-u;if((S>7e3||C>24576)&&L>423){l=sg(e,c,0,w,_,T,I,C,A,u-A,l),C=S=I=0,A=u;for(var P=0;P<286;++P)_[P]=0;for(P=0;P<30;++P)T[P]=0}var x=2,M=0,D=f,U=O-N&32767;if(L>2&&R==b(u-U))for(var B=Math.min(p,L)-1,F=Math.min(32767,u),q=Math.min(258,L);U<=F&&--D&&O!=N;){if(e[u+x]==e[u+x-U]){for(var H=0;H<q&&e[u+H]==e[u+H-U];++H);if(H>x){if(x=H,M=U,H>B)break;var G=Math.min(U,H-2),j=0;for(P=0;P<G;++P){var z=u-U+P+32768&32767,W=z-g[z]+32768&32767;W>j&&(j=W,N=z)}}}U+=(O=N)-(N=g[O])+32768&32767}if(M){w[C++]=268435456|Gm[x]<<18|jm[M];var K=31&Gm[x],V=31&jm[M];I+=Dm[K]+Um[V],++_[257+K],++T[V],k=u+x,++S}else w[C++]=e[u],++_[e[u]]}}l=sg(e,c,o,w,_,T,I,C,A,u-A,l),!o&&7&l&&(l=og(c,l+1,cg))}return function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?xm:4==e.BYTES_PER_ELEMENT?Mm:Pm)(n-t);return r.set(e.subarray(t,n)),r}(a,0,r+Zm(l)+i)}(i,null==o.level?6:o.level,null==o.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+o.mem,s,8,!0)),c=a.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&ug(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(a,t),ug(a,c-8,n.d()),ug(a,c-4,r),a}var hg="undefined"!=typeof TextDecoder&&new TextDecoder;try{hg.decode(cg,{stream:!0})}catch($r){}function pg(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function fg(){try{return pg()&&"keepalive"in new Request("")}catch(e){return!1}}function mg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var r=new XMLHttpRequest;if(r.open("POST",e,!0),r.withCredentials=!0,n.headers)for(var i=0,o=Object.keys(n.headers);i<o.length;i++){var s=o[i];r.setRequestHeader(s,n.headers[s])}r.send(t)}}function gg(e){var t=e.body,n=e.keepalive,r=e.headers,i=e.compress;r["content-type"]||(r["content-type"]="text/plain;charset=UTF-8");var o=t;if(i&&"undefined"!=typeof TextEncoder)try{o=dg((new TextEncoder).encode(t)),r["content-encoding"]="gzip"}catch(e){}return{body:o,keepalive:n,credentials:"include",headers:r,method:"POST",mode:"cors"}}function vg(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var yg,Eg="undefined"!=typeof navigator&&"sendBeacon"in navigator,bg=fg()?function(e,t,n,r){return new Promise((function(i){fetch(e,gg({body:t,keepalive:!0,headers:n,compress:r})).catch((function(){return fetch(e,gg({body:t,keepalive:!1,headers:n,compress:r}))})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:e.status}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:vg(e)})}))}))}:function(e,t,n,r){return new Promise((function(i){if(Eg){var o=!1;try{o=navigator.sendBeacon(e,t)}catch(e){}if(o)return void i({type:"unknown",drop:!1})}fetch(e,gg({body:t,keepalive:!1,headers:n,compress:r})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:200}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:vg(e)})}))}))};function wg(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function _g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3?arguments[3]:void 0,i=indexedDB.open(e);i.onupgradeneeded=function(){try{i.result.createObjectStore(t,{keyPath:n})}catch(e){null==r||r.onError(e)}};var o=new Promise((function(e,t){i.onsuccess=function(){var t=i.result;t.onversionchange=function(){return t.close()},e(t),null==r||r.onSuccess()},i.onerror=function(){t(i.error),null==r||r.onError(i.error)}}));return function(e,n){return o.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}}function Tg(){return yg||(yg=_g("idb-queue","default")),yg}function Sg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=0,r=null;return e.openKeyCursor().onsuccess=function(){var i=this.result;i&&n++<t.batchEvictionNumber?(r=i.key,i.continue()):null!=r&&e.delete(IDBKeyRange.upperBound(r))},wg(e.transaction)}function Ig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tg();return t("readwrite",(function(t){return Sg(t,e)}))}var Cg=!1;function kg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tg();return n("readwrite",(function(n){return n.put(e),wg(n.count()).then((function(e){if(!(e<=t.maxNumber))return Sg(n,t)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return Ig(t,n)}))}function Ag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tg();return Cg?Promise.resolve():kg(e,t,n)}function Rg(e,t,n){return t("readwrite",(function(t){var r=[];return t.openCursor(null,n).onsuccess=function(){var t=this.result;t&&(r.push(t.value),t.delete(),(e<0||r.length<e)&&t.continue())},wg(t.transaction).then((function(){return r}))}))}function Og(e,t,n){return t("readonly",(function(t){var r=[];return t.openCursor(null,n).onsuccess=function(){var t=this.result;t&&(r.push(t.value),(e<0||r.length<e)&&t.continue())},wg(t.transaction).then((function(){return r}))}))}function Ng(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tg();return Og(e,t,"next")}function Lg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tg();return Og(e,t,"prev")}function Pg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return!t||n<1||(e[t]=JSON.stringify({attempt:n,errorCode:r})),e}function xg(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function Mg(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function Dg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4};if("undefined"==typeof requestIdleCallback)setTimeout(e,t.fallbackTimeout||10);else{var n=function n(){requestIdleCallback((function(r){r.timeRemaining()>t.timeRemaining||r.didTimeout?e():n()}),{timeout:t.timeout})};n()}}function Ug(e,t){var n=0;return{throttledFn:function(){var r=Date.now();r-n>t&&(xg((function(){return"[throttle] Run fn() at "+String(r)})),e(),n=r)},resetThrottle:function(){n=0}}}var Bg=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Bf(this,e),Hf(this,"config",void 0),Hf(this,"compress",void 0),Hf(this,"throttleControl",void 0),Hf(this,"withStore",void 0),Hf(this,"disablePersistence",!1),this.config=t,this.compress=r;var i=t.measureIDB;i&&performance.mark(i.createStartMark),this.withStore=_g(t.idbName,"beacons","timestamp",{onSuccess:function(){i&&performance.measure(i.createSuccessMeasure,i.createStartMark)},onError:function(){i&&performance.measure(i.createFailMeasure,i.createStartMark),n.disablePersistence=!0}}),this.throttleControl=Ug(this.replayEntries.bind(this),t.throttleWait)}return qf(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var t=this;if(!this.disablePersistence){var n=function(){xg((function(){return"Persisting to DB "+e.url})),Ag(e,t.config,t.withStore).then((function(){t.throttleControl.resetThrottle(),xg((function(){return"push completed"}))})).catch((function(){t.disablePersistence=!0,Mg((function(){return"push failed"}))}))};this.config.useIdle?Dg(n):n()}}},{key:"clear",value:function(){var e=this;return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tg();return Cg=!0,e("readwrite",(function(e){return e.clear(),wg(e.transaction).finally((function(){return Cg=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,Mg((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.disablePersistence?Promise.resolve([]):Ng(t,this.withStore).catch((function(){return e.disablePersistence=!0,Mg((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.disablePersistence?Promise.resolve([]):Lg(t,this.withStore).catch((function(){return e.disablePersistence=!0,Mg((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this;if(!this.disablePersistence){var t=function(){xg((function(){return"Replaying entry: shift from store"})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tg();return Rg(e,t,"next")}(1,e.withStore).then((function(t){if(t.length>0){var n,r,i=t[0],o=i.url,s=i.body,a=i.headers,c=i.timestamp,l=i.statusCode,u=i.attemptCount;return xg((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(n=(r=e.config).onBeforeRetry)||void 0===n||n.call(r,s),bg(o,s,Pg(a,e.config.headerName,u,l),e.compress).then((function(t){if("unknown"===t.type||"success"===t.type){var n,r;null===(n=(r=e.config).onResult)||void 0===n||n.call(r,t,s),e.replayEntries()}else{var i,a,d,h,p,f;if(u+1>e.config.attemptLimit)return xg((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:o,timestamp:c,statusCode:l},null,2)})),t.drop=!0,void(null===(i=(a=e.config).onResult)||void 0===i||i.call(a,t,s));if("network"===t.type||e.config.statusCodes.includes(t.statusCode))return t.drop=!1,null===(d=(h=e.config).onResult)||void 0===d||d.call(h,t,s),xg((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:o,timestamp:c,statusCode:l},null,2)})),Ag({url:o,body:s,timestamp:c,statusCode:l,attemptCount:u+1},e.config,e.withStore);t.drop=!0,null===(p=(f=e.config).onResult)||void 0===p||p.call(f,t,s)}}))}})).catch((function(t){e.disablePersistence=!0,t&&t.message&&Mg((function(){return"Replay entry failed: ".concat(t.message)}))}))};this.config.useIdle?Dg(t):t()}}}]),e}(),Fg=function(){function e(){Bf(this,e)}return qf(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),qg=function(){function e(t,n){Bf(this,e),Hf(this,"queue",void 0),Hf(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!n.disablePersistenceRetry?new Bg(t,n.compress):new Fg}return qf(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}();Hf(qg,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB);var Hg=[502,504],Gg=[429,503],jg=function(){function e(t,n,r,i){var o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Bf(this,e),Hf(this,"url",void 0),Hf(this,"body",void 0),Hf(this,"config",void 0),Hf(this,"persistenceConfig",void 0),Hf(this,"compress",void 0),Hf(this,"timestamp",void 0),Hf(this,"isClearQueuePending",!1),Hf(this,"onClearCallback",void 0),this.url=t,this.body=n,this.config=r,this.persistenceConfig=i,this.compress=s,this.timestamp=Date.now(),this.onClearCallback=function(){return o.isClearQueuePending=!0}}return qf(e,[{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.persistenceConfig.db.onClear(this.onClearCallback);var n=this.retryLimit;return this.retry((function(t){return bg(e.url,e.body,t,e.compress)}),n,t).finally((function(){xg((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,t,n,r){var i=this,o=this.getAttemptCount(t)-1;return e(Pg(n,this.config.headerName,o,r)).then((function(r){var o,s,a,c;if(r.drop=!1,"unknown"===r.type||"success"===r.type)i.isClearQueuePending||i.persistenceConfig.disabled||i.persistenceConfig.db.notifyQueue(),a=r;else if(xg((function(){return"retry rejected "+JSON.stringify(r)})),i.shouldPersist(t,r))i.persistenceConfig.db.pushToQueue({url:i.url,body:i.body,headers:n,statusCode:r.statusCode,timestamp:i.timestamp,attemptCount:i.getAttemptCount(t)}),a={type:"persisted",drop:!1,statusCode:r.statusCode};else{if(t>0&&i.isRetryableError(r)){var l,u;null===(l=(u=i.config).onIntermediateResult)||void 0===l||l.call(u,r,i.body);var d=i.config.calculateRetryDelay(i.getAttemptCount(t),t);return xg((function(){return"in memory retry in ".concat(d,"ms")})),(c=d,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return i.retry(e,t-1,n,r.statusCode)}))}(a=r).drop=!0}return null===(o=(s=i.config).onIntermediateResult)||void 0===o||o.call(s,a,i.body),a}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,t){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==t.type)&&("response"!==t.type||!this.persistenceConfig.statusCodes.includes(t.statusCode)))}}]),e}();function zg(e,t,n,r,i){"control"!==r&&e.retryConfig&&function(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1;var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.cookieEnabled,n=navigator.storage;return e&&fg()&&t&&n}()&&navigator.storage.estimate().then((function(o){if(!((o.quota||0)-(o.usage||0)>52428800))return function(e){var t=window.indexedDB.deleteDatabase(e);return new Promise((function(e,n){t.onsuccess=function(){return e()},t.onerror=function(){return n(t.error)}}))}("beacons");var s,a,c=null!==(s=e.retryConfig.inMemory)&&void 0!==s?s:{attemptLimit:4,statusCodes:[502,504]},l=null!==(a=e.retryConfig.persist)&&void 0!==a?a:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:n,inMemoryRetry:{onIntermediateResult:null==i?void 0:i.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==i?void 0:i.onBeforeRetry,onResult:null==i?void 0:i.onResult,idbName:"beacons",attemptLimit:l.attemptLimit,statusCodes:l.statusCodes,maxNumber:l.maxNumber,batchEvictionNumber:l.batchEvictionNumber,throttleWait:l.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Boolean(t.compress),r=Object.assign({attemptLimit:0,statusCodes:Hg,calculateRetryDelay:function(e,t){return 2e3*t}},t.inMemoryRetry);if(t.retryDB)e=t.retryDB;else{var i=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:Gg,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},t.persistenceRetry);i.headerName=i.headerName||r.headerName,e=new qg(i,{compress:t.compress,disablePersistenceRetry:t.disablePersistenceRetry})}return{beacon:function(i,o,s){var a;return pg()?new jg(i,o,r,{db:e,disabled:Boolean(t.disablePersistenceRetry),statusCodes:(null===(a=t.persistenceRetry)||void 0===a?void 0:a.statusCodes)||Gg},n).send(s):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),h=d.beacon,p=d.database;return e.retryBeacon={shouldRetry:!0,beacon:h,database:p},"enabled"===r?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&t.shouldAnonymizeMemberId()?p.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var t=JSON.parse(e[0].body);if(Array.isArray(t)&&t.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return p.clearQueue()}}),(function(){return p.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){Nm.emit("internal:error",{tags:["core-web-tracking:retry:idb"],reason:e})})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){Nm.emit("internal:error",{tags:["core-web-tracking:retry:setup"],reason:e})}))}var Wg=function(){function e(t){Bf(this,e),Hf(this,"host",void 0),this.host=t}return qf(e,[{key:"checkAndEnablePersistentRetry",value:function(e,t){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var n=this.getRetryTreatment();this.host.retryConfig&&zg(this.host,e,this.shouldCompressPayload(),n,t)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon;if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){Nm.emit("internal:error",{tags:["core-web-tracking:retry:logout"],reason:e})}))}},{key:"sendPayload",value:function(e,t,n,r){var i,o=this.getRetryTreatment();fg()&&"control"!==o&&null!==(i=this.host.retryBeacon)&&void 0!==i&&i.shouldRetry?this.sendPayloadWithRetry(e,t,n):this.sendPayloadFireForget(e,t,n,r)}},{key:"sendPayloadWithRetry",value:function(e,t,n){(!Array.isArray(t)||t.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(t),n).catch((function(e){Nm.emit("internal:error",{tags:["core-web-tracking:retry:beacon"],reason:e})}))}},{key:"sendPayloadFireForget",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!Array.isArray(t)||t.length>0){var i="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1;i||!pg()||"undefined"==typeof Promise?mg(e,JSON.stringify(t),{headers:n}):bg(e,JSON.stringify(t),n,this.shouldCompressPayload()).then((function(e){null==r||r.onResult(e,t)}),(function(){}))}}},{key:"getRetryTreatment",value:function(){var e,t,n;if(!this.host.retryConfig)return"control";var r=this.host.retryConfig.lixKey;return r?null!==(e=null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,r))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}}]),e}(),Kg="undefined"!=typeof window&&"undefined"!=typeof document,Vg=/JSESSIONID="?([^";]+)"?/,Qg="",Yg=0;function Jg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cacheLifeSpan,n=void 0===t?1e4:t,r=e.regex,i=void 0===r?Vg:r;if(!Qg||Date.now()-Yg>n){var o=Kg&&document.cookie.match(i);Qg=o&&o[1]||"",Yg=Date.now()}return Qg}var Xg=function(){function e(t){Bf(this,e),Hf(this,"networkTransporter",void 0),Hf(this,"inactive",void 0),Hf(this,"mpName",void 0),Hf(this,"endpoint",void 0),Hf(this,"debug",void 0),this.networkTransporter=new Wg(t),this.mpName=t.appId,this.inactive=t.inactive;var n=function(e){var t,n=!1;switch(e){case"https://www.linkedin.com/li/track":t=$g;break;case"https://www.linkedin-ei.com/li/track/validate":default:n=!0,t=Zg;break;case"https://www.linkedin-ei.com/li/track":t=Zg}return{endpoint:t,debug:n}}(t.endpoint);this.endpoint=n.endpoint,this.debug=n.debug}return qf(e,[{key:"fireFragment",value:function(e){if(!this.inactive){var t={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":Jg(),"x-restli-protocol-version":"2.0.0"},n={fragmentEvent:e,debug:this.debug};this.networkTransporter.sendPayload(this.endpoint,n,t)}}}]),e}(),Zg="https://www.linkedin-ei.com/trackingMonitoring/?action=saveClientFragment",$g="https://www.linkedin.com/trackingMonitoring/?action=saveClientFragment";function ev(e){return"string"==typeof e}function tv(e){return ev(e)?e:e.topicName||e.eventName}function nv(e){return ev(e)?e:e.eventName}var rv,iv,ov=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Bf(this,e),Hf(this,"host",void 0),Hf(this,"cmoTransporter",void 0),Hf(this,"clientMonitoringInstanceId",ym()),Hf(this,"currentContext",cv()),Hf(this,"appState",{}),Hf(this,"estimatedFragmentSize",0),Hf(this,"fragmentSizeLimit",void 0),Hf(this,"activeFragmentEvent",void 0),Hf(this,"debounceTimer",void 0),this.host=t,this.cmoTransporter=r.cmoTransporter||new Xg(t),this.fragmentSizeLimit=(null===(n=t.clientMonitoringConfig)||void 0===n?void 0:n.fragmentSizeLimit)||10240,this.activeFragmentEvent=av(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return qf(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,t,n=this;void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){n.fireFragmentEventIfFull()}),null!==(e=null===(t=this.host.batching)||void 0===t?void 0:t.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring();var t=this.activeFragmentEvent.stats,n=this.activeFragmentEvent.firstEventNumber+t.eventsGenerated;return t.eventTopics.push(e),t.eventsGenerated++,this.estimatedFragmentSize+=e.length,n}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId();t===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(t,(function(t){t.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),n=this.activeFragmentEvent.stats.networkResponseStats;t!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(t,(function(e){n=e.networkResponseStats})),e>=200&&e<300?n.eventsWith2XXResponse++:400===e?n.eventsWith400Response++:408===e?n.eventsWith408Response++:429===e?n.eventsWith429Response++:e>400&&e<500?n.eventsWith4XXResponse++:500===e?n.eventsWith500Response++:502===e?n.eventsWith502Response++:503===e?n.eventsWith503Response++:504===e?n.eventsWith504Response++:e>500&&e<600&&n.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,t){var n,r=Uf(this.activeFragmentEvent.stats.previousInstanceEventStats);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.instanceId===e)return void t(i)}}catch(e){r.e(e)}finally{r.f()}var o=this.getEventHeaders(),s=o.header,a=o.requestHeader,c={header:Object.assign(s,{memberId:-1}),requestHeader:a,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]};t(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),o=this.getEventHeaders(),s=o.header,a=o.requestHeader,c={header:Object.assign(s,{memberId:-1}),requestHeader:a,instanceId:i,instanceEventNumber:r,reason:e,rawError:n,eventName:nv(t),eventTopic:tv(t)};this.estimatedFragmentSize+=JSON.stringify(c).length,i===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(i,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.fragmentIsFull()){this.debounceTimer=void 0;var t=this.getEventHeaders(),n=t.header,r=t.requestHeader,i=this.activeFragmentEvent;i.header=n,i.requestHeader=r,this.cmoTransporter.fireFragment(i),this.estimatedFragmentSize=0,this.activeFragmentEvent=av(this.clientMonitoringInstanceId,i.fragmentNumber+1,i.firstEventNumber+i.stats.eventsGenerated,!1,t)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0;this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=lv(e.trackingId));var t=this.currentContext.pageInstance;return t.trackingId=lv(t.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:t,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:"0000000000000000"}}}}]),e}();function sv(e){return rv||(rv=new ov(e)),{getCurrentInstanceId:function(){return rv.getCurrentInstanceId()},logEventGenerated:function(e){return rv.logEventGenerated(e)},logEventReadyToSend:function(e){rv.logEventReadyToSend(e)},logEventSent:function(e){rv.logEventSent(e)},logPersistedEventSent:function(e,t){rv.logEventSent(t,e)},logNetworkResponseCode:function(e){rv.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,t){var n;null===(n=rv)||void 0===n||n.logNetworkResponseCode(t,e)},logFailedEvent:function(e,t,n,r){rv.logFailedEvent(e,t,n,r)},logPersistedFailedEvent:function(e,t,n,r,i){rv.logFailedEvent(t,n,r,i,e)},flush:function(){rv.flush()},destroy:function(){rv=void 0},isDestroyed:function(){return void 0===rv},setCurrentContext:function(e){rv.setCurrentContext(e)},updateAppState:function(e){rv.updateAppState(e)}}}function av(e,t,n,r,i){return{fragmentNumber:t,firstEventNumber:n,isLastFragment:r,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:i.requestHeader,header:i.header}}function cv(){return{pageKey:"unknown",pageInstance:bm("unknown")}}function lv(e){return Array.isArray(e)?vm(e):16===e.length?e:function(e){return"string"==typeof e&&!!e.match(Em)}(e)?atob(e):vm(function(e){return em(e)}(e))}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(iv||(iv={}));var uv="PageViewEvent",dv=function(){function e(t){var n=this;Bf(this,e),Hf(this,"host",void 0),Hf(this,"queue",void 0),Hf(this,"preContextQueue",void 0),Hf(this,"debounceTimer",void 0),Hf(this,"unloadHandlers",void 0),Hf(this,"maxQueueSize",void 0),Hf(this,"flushDebounceTime",void 0),Hf(this,"trackingEventListeners",[]),Hf(this,"onHideHandler",(function(){n.forceFlush()})),Hf(this,"networkTransporter",void 0),Hf(this,"clientMonitoringConn",void 0),Hf(this,"clientSequenceNumberCounter",void 0),Hf(this,"isTimerRunning",void 0),Hf(this,"enableSequenceNumberLix",void 0),this.host=t,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[];var r=t.batching;this.maxQueueSize=r&&r.maxSize||1,this.flushDebounceTime=r&&r.debounceTime||0,Nm.on("internal:hide",this.onHideHandler),this.networkTransporter=new Wg(t),this.isLixEnabled("pemberly.tracking.monitoring")&&t.clientMonitoringConfig&&!t.inactive&&(this.clientMonitoringConn=sv(t)),this.enableSequenceNumberLix=this.isLixEnabled("tracking.data-loss-web.sequence-number"),this.enableSequenceNumberLix&&(this.getSequenceNumberFromIDB(),this.updateSequenceNumberOnExit(),this.isTimerRunning=!1)}return qf(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var t,n=(t=this.clientMonitoringConn,{onIntermediateResult:function(e,n){var r;if(t&&!t.isDestroyed())try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length)return;e.statusCode&&t.logNetworkResponseCode(e.statusCode),!0===e.drop&&r.forEach((function(n){var r,i=n.eventInfo.eventName,o=n.eventInfo.topicName||i,s="rawError"in e?e.rawError:"null",a=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(s)].join(", ");t.logFailedEvent(iv.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:o},a,null!==(r=n.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==r?r:-1)}))}catch(e){}},onBeforeRetry:function(e){var n;if(t&&!t.isDestroyed())try{if(n=JSON.parse(e),!Array.isArray(n)||0===n.length||!n[0].eventBody.header.clientMonitoringInstanceId)return;var r=n[0].eventBody.header.clientMonitoringInstanceId,i=n.length;t.logPersistedEventSent(r,i)}catch(e){}},onResult:function(e,n){var r;if(t)try{if(r=JSON.parse(n),!Array.isArray(r)||0===r.length||!r[0].eventBody.header.clientMonitoringInstanceId)return;var i=r[0].eventBody.header.clientMonitoringInstanceId;e.statusCode&&t.logPersistedNetworkResponseCode(i,e.statusCode),!0===e.drop&&r.forEach((function(n){var r=n.eventInfo.eventName,o=n.eventInfo.topicName||r,s="rawError"in e?e.rawError:"null",a=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(s)].join(", ");t.logPersistedFailedEvent(i,iv.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:o},a,n.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}});this.networkTransporter.checkAndEnablePersistentRetry(e,n)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var t=function(e){return e.meta.time=Date.now(),e}(e);this.clientMonitoringConn&&(t.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),t.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(tv(e.id)));var n,r=this.host,i=r.api.Promise,o=r.batching;return function(e){return!!e.meta.context}(t)?(this.prepareCompleteEnvelopeQueue(t),null===(n=this.clientMonitoringConn)||void 0===n||n.logEventReadyToSend(1),o?(this.batchFire(),i.resolve(!0)):(this.flush(!0),i.resolve(!0))):(this.preContextQueue.push(t),i.resolve(!0))}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,Nm.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(){var e=this;this.populatePreContextQueue({pageInstance:bm("unknown"),pageKey:"unknown"}).forEach((function(t){return e.queue.push(t)})),this.flush(!0)}},{key:"isLixEnabled",value:function(e){var t,n;return"enabled"===(null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,e))}},{key:"getSequenceNumberFromIDB",value:function(){var e=this;Cm("read").then((function(t){e.clientSequenceNumberCounter=t||0})).catch((function(e){Nm.emit("internal:error",{tags:["core-web-tracking:sequence-number:idb-read"],reason:e})}))}},{key:"updateSequenceNumberToIDB",value:function(){Cm("update",this.clientSequenceNumberCounter).catch((function(e){Nm.emit("internal:error",{tags:["core-web-tracking:sequence-number:idb-update"],reason:e})}))}},{key:"updateSequenceNumberOnExit",value:function(){var e=this;"undefined"!=typeof window&&"undefined"!=typeof document&&window.addEventListener("beforeunload",(function t(){e.updateSequenceNumberToIDB(),window.removeEventListener("beforeunload",t)}))}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var t=this,n=e.meta.context=Tm(e.meta.context,this.host.api);"function"==typeof e.body&&(e.body=e.body(n)),this.preContextQueue.length>0&&this.populatePreContextQueue(n).forEach((function(e){return t.queue.push(e)})),this.queue.push(e)}},{key:"envelop",value:function(e,t,n){var r=this.host,i=r.appId,o=r.api,s={eventBody:t,eventInfo:"string"==typeof e?{appId:i,eventName:e,topicName:e}:o.assign({appId:i},e)};return n.length>0&&this.host.api.assign(s,{clientBreadcrumbs:n}),s}},{key:"getBreadcrumbs",value:function(e){return e.clientBreadcrumbs||[]}},{key:"getGenericEventBody",value:function(e){var t,n=this.host,r=n.appVersion,i=n.locale,o=n.api,s=o.location,a=o.document,c=o.assign,l=e.meta.context,u=l.pageKey,d=l.pageInstance,h=function(e){return"string"==typeof e?e===uv:e.eventName===uv}(e.id)&&(null===(t=e.body.requestHeader)||void 0===t?void 0:t.pageKey)||u,p=null;"string"!=typeof i&&null!==this.host.locale||(p=i);var f={interfaceLocale:p,pageKey:h,path:s.pathname+s.search,referer:a.referrer},m={pageInstance:d,time:e.meta.time,version:r};"number"==typeof this.clientSequenceNumberCounter&&c(m,{clientGlobalSequenceNumber:this.clientSequenceNumberCounter});var g={header:c(m,e.meta.header||{}),requestHeader:c(f,e.meta.requestHeader||{})},v=e.meta.clientMonitoringInstanceId,y=e.meta.clientMonitoringInstanceEventNumber;return v&&c(g.header,{clientMonitoringInstanceId:v,clientMonitoringInstanceEventNumber:y}),c(e.body,g)}},{key:"populatePreContextQueue",value:function(e){var t,n=this.preContextQueue;return this.preContextQueue=[],null===(t=this.clientMonitoringConn)||void 0===t||t.logEventReadyToSend(n.length),n.map((function(t){return t.meta.context=e,"function"==typeof t.body&&(t.body=t.body(e)),t}))}},{key:"trigger",value:function(e,t){this.trackingEventListeners.forEach((function(n){return n(e,t)}))}},{key:"requestFlush",value:function(e){var t=this;e((function(){t.forceFlush()}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.host.api.requestIdleCallback;e||!t?this.sendPayload():this.requestFlush(t)}},{key:"batchFire",value:function(){var e=this;this.queue.length>this.maxQueueSize?this.flush():(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime))}},{key:"sendPayload",value:function(){var e=this,t=this.queue;if(0!==t.length){this.enableSequenceNumberLix&&"undefined"!=typeof window&&!1===this.isTimerRunning&&(this.isTimerRunning=!0,setInterval((function(){e.updateSequenceNumberToIDB()}),5e3)),this.queue=[];var n,r,i=[],o=[];t.forEach((function(t){var n=e.getGenericEventBody(t),r=e.getBreadcrumbs(t),s=e.envelop(t.id,n,r);e.trigger(s,t.meta);var a=s.eventInfo.eventName;"LixTreatmentsEvent"===a||"JavaScriptErrorEvent"===a?i.push(s):o.push(s),e.enableSequenceNumberLix&&"number"==typeof e.clientSequenceNumberCounter&&e.clientSequenceNumberCounter++})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(i.length+o.length),r=this.clientMonitoringConn,n={onResult:function(e,t){r&&!r.isDestroyed()&&(e.statusCode&&r.logNetworkResponseCode(e.statusCode),!0===e.drop&&t.forEach((function(t){var n=t.eventInfo.eventName,i=t.eventInfo.topicName||n,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ");null==r||r.logFailedEvent(iv.UNKNOWN_EXECUTION_ERROR,{eventName:n,topicName:i},s,t.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,i,void 0,n),this.networkTransporter.sendPayload(this.host.endpoint,o,void 0,n))}}}]),e}();var hv,pv=function(){function e(t,n){Bf(this,e),this.clientBreadcrumbType=t,this.id=n}return qf(e,[{key:"builder",get:function(){return function(){var e={},t=new Proxy({},{get:function(n,r){return"build"===r?function(){return e}:function(n){return e[r.toString()]=n,t}}});return t}().id(this.id).clientBreadcrumbType(this.clientBreadcrumbType)}}],[{key:"toPointer",value:function(e){return{id:e.id,type:e.clientBreadcrumbType}}}]),e}();function fv(e){if(!e)return{};var t=e.trk,n=!1,r=e.licu&&decodeURIComponent(e.licu);e.external_control&&(r="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),n=!0);var i=e.lipi&&function(e){var t=decodeURIComponent(e).split(";");if(t.length>1)return{pageUrn:t[0],trackingId:t[1]}}(e.lipi),o=i&&{pageInstance:i,pageKey:t}||t&&{pageKey:t};if(e.external_page&&e.external_page_instance){var s=decodeURIComponent(e.external_page);o={pageInstance:{pageUrn:"urn:li:externalPage:".concat(s),trackingId:e.external_page_instance},pageKey:s},n=!0}var a=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0;return a&&((o=o||{}).applicationInstance=a),{fromExternalApp:n||!!a,previousApplicationInstance:a,previousContext:o,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:r}}function mv(e){return"retryConfig"in e.host}!function(e){e.UNKNOWN="UNKNOWN",e.ME_NOTIFICATION="ME_NOTIFICATION",e.ME_NOTIFICATION_ACTION="ME_NOTIFICATION_ACTION"}(hv||(hv={}));var gv,vv,yv;!function(){function e(t,n){var r,i;if(Bf(this,e),Hf(this,"transporter",void 0),Hf(this,"delegate",void 0),Hf(this,"currentContext",void 0),Hf(this,"appState",void 0),Hf(this,"previousAppContext",void 0),Hf(this,"customTransporters",void 0),Hf(this,"clientMonitoringConn",void 0),this.transporter=t,this.delegate=n,this.appState={},this.customTransporters={},n&&n.customTransporterHosts)for(var o in n.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(n.customTransporterHosts,o)){var s=this.transporter.host.api.assign({},this.transporter.host);this.customTransporters[o]=new dv(this.transporter.host.api.assign(s,n.customTransporterHosts[o]))}"enabled"===(null===(r=(i=t.host).__getLixTreatment)||void 0===r?void 0:r.call(i,"pemberly.tracking.monitoring"))&&t.host.clientMonitoringConfig&&!t.host.inactive&&"location"in t.host.api&&(this.clientMonitoringConn=sv(t.host))}qf(e,[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){mv(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush();var e=mv(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null;return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return Tm(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.navMetaFromSeed(e,fv(t));if(this.setCurrentContext(r.to),!n.suppressEventsFiring)return this.fireNavEvents(r)}},{key:"setCurrentContext",value:function(e){var t;this.currentContext=Tm(e,this.host.api),null===(t=this.clientMonitoringConn)||void 0===t||t.setCurrentContext(Tm(e,this.host.api))}},{key:"updateAppState",value:function(e){var t;this.host.api.assign(this.appState,e),null===(t=this.clientMonitoringConn)||void 0===t||t.updateAppState(e)}},{key:"fireCIE",value:function(e,t,n,r,i){return this.fireEvent("ControlInteractionEvent",(function(n){var o=wm(n.pageKey,e),s={controlTrackingId:r,controlUrn:o,interactionType:t};return i&&i(o),s}),{context:n})}},{key:"fireEvent",value:function(e,t,n,r){if(!t){var i=tv(e),o=void 0===t?"undefined":null===t?"null":Wf(t),s='Firing tracking event "'.concat(i,'" with invalid body, you fired "').concat(o,'"');if(this.clientMonitoringConn){var a=this.clientMonitoringConn.logEventGenerated(i);this.clientMonitoringConn.logFailedEvent(iv.MISSING_REQUIRED_PROPERTIES,e,s,a)}throw new Error(s)}var c=r||[];if(c.length>0){var l=c.map((function(e){return pv.toPointer(e)}));this.host.api.assign(t,{clientBreadcrumbPointers:l})}var u=c.length>0?this.generateEnvelopeWithBreadcrumbs(e,t,n,c):this.generateEnvelope(e,t,n);return this.fireEnvelope(u)}},{key:"generateEnvelopeWithBreadcrumbs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this.generateEnvelope(e,t,n),o=r.length>0?this.addBreadcrumbsToEnvelope(i,r):i;return o}},{key:"addBreadcrumbsToEnvelope",value:function(e,t){var n=t.map((function(e){var t=e;return delete t.clientBreadcrumbType,t}));return this.host.api.assign(e,{clientBreadcrumbs:n}),e}},{key:"fireEnvelope",value:function(e){var t,n;if(null!==(t=this.delegate)&&void 0!==t&&null!==(n=t.shouldAnonymizeMemberId)&&void 0!==n&&n.call(t))if(ev(e.id)){var r=e.id;e.id={eventName:r,topicName:r,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0;var i=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e;if(i){var o=i.meta.transporterKey,s=o?this.customTransporters[o]:this.transporter;if(!s&&o){var a=tv(i.id),c="Could not find custom transporter: ".concat(o);if(this.clientMonitoringConn){var l=this.clientMonitoringConn.logEventGenerated(a);this.clientMonitoringConn.logFailedEvent(iv.UNKNOWN_EXECUTION_ERROR,i.id,c,l)}throw new Error(c)}return s.fireEvent(i)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,t){return bm(e,t)}},{key:"firePVE",value:function(e,t,n){var r={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},i=this.host.api.assign(r,t),o=this.generateEnvelope("PageViewEvent",i,{context:n});return o.meta.requestHeader.pageKey=e,this.fireEnvelope(o)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy();this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),Nm.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,t){return wm((t||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,t,n,r){var i={controlTrackingId:r,controlUrn:e,interactionType:t};return{beacon:this.fireEvent("ControlInteractionEvent",i,{context:n}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var t=e.triggerId,n=e.triggerUrn,r=e.from;return{previousPageInstance:r&&r.pageInstance,triggerControlTrackingId:t,triggerControlUrn:n}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,t){var n="NavigationEvent";this.previousAppContext=t.previousContext;var r=t.fromExternalApp?{eventName:n,topicName:"InboundNavigationEvent"}:n;return{from:t.previousContext,navEventId:r,to:{applicationInstance:t.applicationInstance,pageInstance:this.generatePageInstance(e,t.pageTrackingId),pageKey:e},triggerId:t.previousControlId,triggerUrn:t.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var t=this.generateNavigationEvent(e),n=e.to,r=e.from,i=e.navEventId,o=this.generateEnvelope(i,t);o.meta.requestHeader.pageKey=n.pageKey;var s=r&&r.applicationInstance;return s&&(o.meta.header.clientApplicationInstance=s),this.host.api.Promise.all([this.firePVE(n.pageKey),this.fireEnvelope(o)])}},{key:"generateEnvelope",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={directive:n.directive,transporterKey:n.transporterKey,context:n.context||this.currentContext&&Tm(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},n.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},n.header||{})};return{body:"function"==typeof t?t:function(){return t},id:e,meta:r}}}])}();function Ev(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)}!function(){function e(t,n){var r,i=this;Bf(this,e),Hf(this,"core",void 0),Hf(this,"protocol",void 0),Hf(this,"throttleKeySet",new Set),Hf(this,"config",void 0),Hf(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),i.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=t;var o=this.core.host.api.location.protocol;this.protocol=o.substring(0,o.length-1),this.config={throttleTime:null!==(r=null==n?void 0:n.throttleTime)&&void 0!==r?r:100},Nm.on("internal:error",this.reportTransporterError)}qf(e,[{key:"reportError",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.callTreeId,s=void 0===o?"":o,a=i.responseHeaders,c=void 0===a?{}:a,l=e.message,u=e.name,d=e.stack,h=void 0===d?"":d,p=e.fileName,f=void 0===p?"":p,m=e.lineNumber,g=void 0===m?0:m,v=e.columnNumber,y=void 0===v?0:v,E=this.core.host,b=E.appId,w=E.appVersion,_=E.service,T=E.serviceInstance,S=E.treeID,I=void 0===S?"":S,C=E.api,k=C.Promise,A=C.location,R=A.host,O=A.pathname,N=A.search,L=A.hash,P=void 0===L?"":L;if(c){t={};var x=new Map;Object.keys(c).forEach((function(e){x.set(e.toLowerCase(),c[e])})),t.callTreeId=x.get("x-li-uuid"),t.microsoftEdgeReference=x.get("x-msedge-ref"),t.pointOfPresenceId=x.get("x-li-pop"),t.fabric=x.get("x-li-fabric")}var M=function(){return n.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:b,e:{c:y,l:g,m:l,s:h,t:u,u:f},h:P,l:n.protocol,o:R,p:O,pageKey:e.pageKey,q:N,service:_,serviceInstance:T,serviceVersion:w,t:r,trackingID:e.pageInstance.trackingId,treeID:I,callTreeId:s,responseTraceHeaders:t}}))};if(this.config.throttleTime<0)return M();var D=Ev(u+l+h+r.join("")+s);return this.throttleKeySet.has(D)?k.resolve(!1):(this.throttleKeySet.add(D),setTimeout((function(){return n.throttleKeySet.delete(D)}),this.config.throttleTime),M())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),Nm.off("internal:error",this.reportTransporterError)}}])}();var bv=function(){function e(){Bf(this,e),Hf(this,"userTimingEntries",[]),Hf(this,"longTasks",[]),Hf(this,"resourceTimingEntries",[]),Hf(this,"cdnData",void 0)}return qf(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(t){var n=e.get(t.name);n&&(t.resourceTreeId=n)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(_v),cdnData:this.cdnData}}}]),e}(),wv=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"];function _v(e){return wv.reduce((function(t,n){var r=e[n];return void 0!==r&&(t[n]=r),t}),{})}function Tv(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};vv=Object.assign(Object.assign({},n),t),yv=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(vv.root,n);var r=Sv(e,gv.All,(function(){return Sv(e,gv.Two,(function(){return Sv(e,gv.One)}))}));if(r){var i=xv(Mv(r,e));return i.length>0&&(r=i[0]),Cv(r)}throw new Error("Selector was not found.")}function Sv(e,t,n){for(var r=null,i=[],o=e,s=0,a=function(){var e=Nv(function(e){var t=e.getAttribute("id");return t&&vv.idName(t)?{name:"#"+Gv(t,{isIdentifier:!0}),penalty:0}:null}(o))||Nv.apply(void 0,Gf(function(e){return Array.from(e.attributes).filter((function(e){return vv.attr(e.name,e.value)})).map((function(e){return{name:"["+Gv(e.name,{isIdentifier:!0})+'="'+Gv(e.value)+'"]',penalty:.5}}))}(o)))||Nv.apply(void 0,Gf(function(e){return Array.from(e.classList).filter(vv.className).map((function(e){return{name:"."+Gv(e,{isIdentifier:!0}),penalty:1}}))}(o)))||Nv(function(e){var t=e.tagName.toLowerCase();return vv.tagName(t)?{name:t,penalty:2}:null}(o))||[{name:"*",penalty:3}],a=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;for(var r=0;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(o);if(t===gv.All)a&&(e=e.concat(e.filter(Ov).map((function(e){return Rv(e,a)}))));else if(t===gv.Two)e=e.slice(0,1),a&&(e=e.concat(e.filter(Ov).map((function(e){return Rv(e,a)}))));else if(t===gv.One){var c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||jf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e=e.slice(0,1),1)[0];a&&Ov(c)&&(e=[Rv(c,a)])}var l,u=Uf(e);try{for(u.s();!(l=u.n()).done;)l.value.level=s}catch(e){u.e(e)}finally{u.f()}if(i.push(e),i.length>=vv.seedMinLength&&(r=Iv(i,n)))return"break";o=o.parentElement,s++};o&&o!==vv.root.parentElement&&"break"!==a(););return r||(r=Iv(i,n)),r}function Iv(e,t){var n=xv(Pv(e));if(n.length>vv.threshold)return t?t():null;var r,i=Uf(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(Av(o))return o}}catch(e){i.e(e)}finally{i.f()}return null}function Cv(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0;n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function kv(e){return e.map((function(e){return e.penalty})).reduce((function(e,t){return e+t}),0)}function Av(e){switch(yv.querySelectorAll(Cv(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat(Cv(e)));case 1:return!0;default:return!1}}function Rv(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function Ov(e){return"html"!==e.name&&!e.name.startsWith("#")}function Nv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Lv);return r.length>0?r:null}function Lv(e){return null!=e}function Pv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length>0){var n,r=[],i=Uf(e[0]);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.concat(Pv(e.slice(1,e.length),t.concat(o)))}}catch(e){i.e(e)}finally{i.f()}return r}return[t]}function xv(e){return Array.from(e).sort((function(e,t){return kv(e)-kv(t)}))}function Mv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},r=[];if(e.length>2&&e.length>vv.optimizedMinLength)for(var i=1;i<e.length-1;i++){if(n.counter>vv.maxNumberOfTries)return r;n.counter+=1;var o=Gf(e);o.splice(i,1);var s=Cv(o);if(n.visited.has(s))return r;Av(o)&&Dv(o,t)&&(r.push(o),n.visited.set(s,!0),r=r.concat(Mv(o,t,n)))}return r}function Dv(e,t){return yv.querySelector(Cv(e))===t}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(gv||(gv={}));var Uv,Bv=/[ -,\.\/:-@\[-\^`\{-~]/,Fv=/[ -,\.\/:-@\[\]\^`\{-~]/,qv=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Hv={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};function Gv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign({},Hv),t);"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single");for(var r="double"==n.quotes?'"':"'",i=n.isIdentifier,o=e.charAt(0),s="",a=0,c=e.length;a<c;){var l=e.charAt(a++),u=l.charCodeAt(0),d=void 0;if(u<32||u>126){if(u>=55296&&u<=56319&&a<c){var h=e.charCodeAt(a++);56320==(64512&h)?u=((1023&u)<<10)+(1023&h)+65536:a--}d="\\"+u.toString(16).toUpperCase()+" "}else d=n.escapeEverything?Bv.test(l)?"\\"+l:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(l)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==l||!i&&('"'==l&&r==l||"'"==l&&r==l)||i&&Fv.test(l)?"\\"+l:l;s+=d}return i&&(/^-[-\d]/.test(s)?s="\\-"+s.slice(1):/\d/.test(o)&&(s="\\3"+o+" "+s.slice(1))),s=s.replace(qv,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!i&&n.wrap?r+s+r:s}function jv(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var n,r=e.now();return n=!e.timing&&t?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(r+n)}return Date.now()}function zv(e){var t=e||performance;return Math.round(t.now())}function Wv(e){if(!e)return"null";if(e.nodeType===Node.ELEMENT_NODE)try{return Tv(e,{idName:function(e){return 0!==e.indexOf("ember")}})}catch(e){return"serialization_error"}var t=Wv(e.parentElement||void 0);return"".concat(t," > nodeType(").concat(e.nodeType,")")}function Kv(e,t,n){var r=[];return e&&"function"==typeof e.getEntriesByType&&(t["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){r.push({entryType:"MEASURE",name:e.name,startTime:e.startTime,duration:e.duration})})),t["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){r.push({entryType:"MARK",name:e.name,startTime:e.startTime,duration:e.duration})})),n&&(e.clearMeasures(),e.clearMarks())),r}function Vv(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}var Qv,Yv=function(){function e(t){Bf(this,e),Hf(this,"hostApis",void 0),Hf(this,"hostnameProperties",void 0),Hf(this,"usedHostnames",void 0),Hf(this,"abortController",void 0),Hf(this,"pendingPromises",void 0),this.hostApis=t;var n=t.AbortController;this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new n,this.pendingPromises=new Set}return qf(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this;return Im(this.usedHostnames).map((function(t){return e.hostnameProperties[t]||{hostname:t,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var t=this,n=this.hostApis,r=n.AbortController,i=n.Promise,o=Sm(Im(this.pendingPromises),i),s=setTimeout((function(){t.abortController.abort(),t.abortController=new r}),e);return o.then((function(){return clearTimeout(s),t.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var t=this;if(!(e.name.indexOf(".licdn.")<0)){var n,r,i=this.hostApis.assign,o=(n=e.name,r=this.hostApis.document,(Uv=Uv||r.createElement("a")).href=n,Uv.hostname);if(this.usedHostnames.add(o),!this.hostnameProperties[o]&&!this.isResourcePossiblyFromCache(e)){var s=this.fetchCdnFromUrl(e.name).then((function(e){var n=i({hostname:o},e);return t.hostnameProperties[o]||(t.hostnameProperties[o]=n),t.pendingPromises.delete(s),n}));this.pendingPromises.add(s)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),Jv=function(){function e(t,n,r,i){Bf(this,e),Hf(this,"hostApis",void 0),Hf(this,"statics",void 0),Hf(this,"options",void 0),Hf(this,"allowTimingOrigin",void 0),Hf(this,"collectResourceTimings",void 0),Hf(this,"collectCdnData",void 0),Hf(this,"perfObserver",void 0),Hf(this,"renderTimings",new Map),Hf(this,"urlToTreeId",new Map),Hf(this,"cdnDataProvider",void 0),Hf(this,"observables",new bv),this.hostApis=t,this.statics=n,this.options=r,this.allowTimingOrigin=i,this.collectResourceTimings=r["enable-rs-timing"],this.collectCdnData=r["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new Yv(t))}return qf(e,[{key:"recordTreeId",value:function(e,t){this.collectResourceTimings&&this.urlToTreeId.set(function(e,t){return(Uv=Uv||t.createElement("a")).href=e,Uv.href}(t,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,t){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:t,viewId:e,renderStart:jv(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e){var t=this.renderTimings.get(e);t&&(t.renderEnd=t.renderEnd||jv(this.hostApis.performance,this.allowTimingOrigin))}},{key:"startObserving",value:function(){var e=this.hostApis,t=e.PerformanceObserver,n=e.performance;this.stopObserving(),t?this.setupPerformanceObserver(t):this.collectResourceTimings&&this.emulateResourceTimingObserver(n),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e;null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collect",value:function(e){var t=this,n=e.isInitial,r=e.immediate,i=this.collectSynchronousData(n);if(r)return i;var o=this.collectAsynchronousData();return"then"in o?o.then((function(e){return(0,t.hostApis.assign)(i,e),i})):i}},{key:"reset",value:function(){var e;this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"collectSynchronousData",value:function(e){var t=this.hostApis,n=t.assign,r=t.PerformanceObserver,i=Object.create(null);return this.statics.pageLoadMode=e?"INITIAL":"PARTIAL",r||(this.observables.userTimingEntries=Kv(this.hostApis.performance,this.options,!0),this.collectResourceTimings&&this.processNewResourceTimings()),this.observables.attachTreeIds(this.urlToTreeId),this.urlToTreeId.clear(),n(i,this.observables.getData(),this.snapshot,this.statics),e&&n(i,function(e){if(!e)return{navigationTimingApi:!1};var t=Object.create({});if("function"==typeof e.getEntriesByType){var n=e.getEntriesByType("navigation")[0];n&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof n[e]}))&&(t.htmlMetrics={htmlFetchStart:n.fetchStart,htmlResponseEnd:n.responseEnd,htmlDecodedBodySize:n.decodedBodySize,htmlEncodedBodySize:n.encodedBodySize,htmlTransferSize:n.transferSize}),t.workerStart=n.workerStart)}var r=e.timing,i=e.navigation;return r&&i?(t.navigationTimingApi=!0,Xv.forEach((function(e){e in r&&(t[e]=r[e])})),t.navigationType=i.type,t.redirectCount=i.redirectCount):t.navigationTimingApi=!1,t}(this.hostApis.performance)),n(i,this.collectAsynchronousData(!0)),i}},{key:"collectAsynchronousData",value:function(e){var t=this,n={cdnData:[],usedCDN:this.extractUsedCDN([])};if(e){if(this.collectCdnData){var r=this.cdnDataProvider.getPresentData();n.cdnData=r,n.usedCDN=this.extractUsedCDN(r)}return n}var i=[];return this.collectCdnData&&i.push(this.cdnDataProvider.getDataWhenReady(this.options["async-plugins-timeout"]).then((function(e){n.cdnData=e,n.usedCDN=t.extractUsedCDN(e)}))),i.length>0?Sm(i,Promise).then((function(){return n})):n}},{key:"setupPerformanceObserver",value:function(e){var t=this;this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var n=e.entryType,r=e.name,i=e.startTime,o=e.duration;"resource"===n?t.processSingleResourceTiming(e):"mark"===n?t.observables.userTimingEntries.push({entryType:"MARK",name:r,startTime:i,duration:o}):"measure"===n?t.observables.userTimingEntries.push({entryType:"MEASURE",name:r,startTime:i,duration:o}):"longtask"===n&&t.observables.longTasks.push({duration:o,name:r,startTime:i})}))})),this.observables.userTimingEntries=Kv(this.hostApis.performance,this.options,!1);var n=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&n.push("resource"),this.options["user-timing-mark-enabled"]&&n.push("mark"),this.options["user-timing-measure-enabled"]&&n.push("measure"),this.perfObserver.observe({entryTypes:n})}},{key:"emulateResourceTimingObserver",value:function(e){var t=this;e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return t.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,t=this.hostApis.performance;"function"==typeof t.getEntriesByType&&"function"==typeof t.clearResourceTimings&&(t.getEntriesByType("resource").forEach((function(t){return e.processSingleResourceTiming(t)})),t.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e){this.collectResourceTimings&&this.observables.resourceTimingEntries.push(e),this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var t=e.filter((function(e){return e.hostname.indexOf("static")>=0})),n=t.length>0?t[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""};return{static_domain:n.provider,http_version:n.httpVersion,ip_version:n.ipVersion}}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:Vv(this.renderTimings),networkInformationMetrics:Zv(this.hostApis.connection)};return this.renderTimings.clear(),e}}]),e}(),Xv=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"];function Zv(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G";case"3g":return"THREE_G";case"4g":return"FOUR_G";default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}!function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(Qv||(Qv={}));var $v=(Hf(Df={},"web-ui-framework","EMBER"),Hf(Df,"app-id","linkedin.rum.tracking"),Hf(Df,"app-version","unknown"),Hf(Df,"is-single-page-app",!0),Hf(Df,"user-timing-mark-enabled",!1),Hf(Df,"user-timing-measure-enabled",!0),Hf(Df,"beacon-source","apps"),Hf(Df,"enable-rs-timing",!0),Hf(Df,"enable-cdn-tracking",!1),Hf(Df,"async-plugins-timeout",5e3),Hf(Df,"beacon-timeout",3e4),Hf(Df,"enable-memory-measurement",!1),Hf(Df,"pageKeyPrefix",""),Df),ey=function(){function e(t,n,r){Bf(this,e),Hf(this,"featureName",void 0),Hf(this,"trackingCore",void 0),Hf(this,"rumConfig",void 0),Hf(this,"observing",!1),Hf(this,"basePageTreeId",void 0),Hf(this,"startPageInstance",void 0),Hf(this,"startMemory",void 0),Hf(this,"reportTimeouts",[]),this.featureName=t,this.trackingCore=n,this.rumConfig=r}return qf(e,[{key:"startObserving",value:function(){var t,n=this,r=this.getMemory();r&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance)||bm("unknown"),this.startMemory=r,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return n.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var t={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:zv(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]};this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},t)}},{key:"createMemoryMarks",value:function(e){var t=this.getMemory(),n=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(n){return{name:n+e,startTime:t[n]}})),r=t.usedJSHeapSize-this.startMemory.usedJSHeapSize;return n.push({name:(r<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(r)},{name:"utilization"+e,startTime:Math.round(t.usedJSHeapSize/t.totalJSHeapSize*100)}),n}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}();Hf(ey,"checkpoints",[1,3,10,30,90,180,300]);var ty,ny,ry,iy,oy,sy=qf((function e(t,n,r){Bf(this,e),Hf(this,"webUIFramework",void 0),Hf(this,"timeSource",void 0),Hf(this,"isSinglePageApp",void 0),Hf(this,"appRenderMode",void 0),Hf(this,"isAppRenderFailed",void 0),Hf(this,"pageLoadMode","INITIAL"),Hf(this,"isSSL",void 0),Hf(this,"treeId",void 0),Hf(this,"isFromServiceWorker",void 0),this.webUIFramework=n["web-ui-framework"],this.timeSource=n["beacon-source"],this.isSinglePageApp=n["is-single-page-app"],this.appRenderMode=t["app-render-mode"],this.isAppRenderFailed=t["is-app-render-failed"],this.isSSL="https:"===r.api.location.protocol?1:0,this.treeId=r.treeID,this.isFromServiceWorker=r.isFromServiceWorker})),ay=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},cy=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},ly=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},uy=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},dy=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},hy=-1,py=function(){return"hidden"===document.visibilityState?0:1/0},fy=function(){ly((function(e){var t=e.timeStamp;hy=t}),!0)},my=function(){return hy<0&&(hy=py(),fy(),uy((function(){setTimeout((function(){hy=py(),fy()}),0)}))),{get firstHiddenTime(){return hy}}},gy=!1,vy=-1,yy=function(e,t){gy||(function(e,t){var n,r=my(),i=ay("FCP"),o=function(e){"first-contentful-paint"===e.name&&(a&&a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),n(!0)))},s=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=s?null:cy("paint",o);(s||a)&&(n=dy(e,i,t),s&&o(s),uy((function(r){i=ay("FCP"),n=dy(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,n(!0)}))}))})))}((function(e){vy=e.value})),gy=!0);var n,r=function(t){vy>-1&&e(t)},i=ay("CLS",0),o=0,s=[],a=function(e){if(!e.hadRecentInput){var t=s[0],r=s[s.length-1];o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,s.push(e)):(o=e.value,s=[e]),o>i.value&&(i.value=o,i.entries=s,n())}},c=cy("layout-shift",a);c&&(n=dy(r,i,t),ly((function(){c.takeRecords().map(a),n(!0)})),uy((function(){o=0,vy=-1,i=ay("CLS",0),n=dy(r,i,t)})))},Ey={passive:!0,capture:!0},by=new Date,wy=function(e,t){ty||(ty=t,ny=e,ry=new Date,Sy(removeEventListener),_y())},_y=function(){if(ny>=0&&ny<ry-by){var e={entryType:"first-input",name:ty.type,target:ty.target,cancelable:ty.cancelable,startTime:ty.timeStamp,processingStart:ty.timeStamp+ny};iy.forEach((function(t){t(e)})),iy=[]}},Ty=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){wy(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,Ey),removeEventListener("pointercancel",r,Ey)};addEventListener("pointerup",n,Ey),addEventListener("pointercancel",r,Ey)}(t,e):wy(t,e)}},Sy=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ty,Ey)}))},Iy=function(e,t){var n,r=my(),i=ay("FID"),o=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},s=cy("first-input",o);n=dy(e,i,t),s&&ly((function(){s.takeRecords().map(o),s.disconnect()}),!0),s&&uy((function(){var r;i=ay("FID"),n=dy(e,i,t),iy=[],ny=-1,ty=null,Sy(addEventListener),r=o,iy.push(r),_y()}))},Cy={},ky=function(e,t){var n,r=my(),i=ay("LCP"),o=function(e){var t=e.startTime;t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n()},s=cy("largest-contentful-paint",o);if(s){n=dy(e,i,t);var a=function(){Cy[i.id]||(s.takeRecords().map(o),s.disconnect(),Cy[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,a,{once:!0,capture:!0})})),ly(a,!0),uy((function(r){i=ay("LCP"),n=dy(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,Cy[i.id]=!0,n(!0)}))}))}))}},Ay=["LCP","FID","CLS"],Ry={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},Oy={},Ny=function(){var e;if(!Kg)return"";var t=window.performance,n=void 0;if("function"==typeof(null==t?void 0:t.getEntriesByType)){var r,i=null===(r=window.performance)||void 0===r?void 0:r.getEntriesByType("navigation");(null==i?void 0:i.length)>0&&(n=i[0])}return(null===(e=n)||void 0===e?void 0:e.name)||window.location.href}(),Ly=!1,Py=[],xy={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"};function My(){var e=!0===window.__test__resetWebVitalsState;if(!Ly||e){e&&(Py=[]),Ay.forEach(Dy);var t=Symbol();oy=t,[ky,Iy,yy].forEach((function(e){return e(Uy.bind(null,t),!0)})),[ky,Iy,yy].forEach((function(e){return e(By.bind(null,t))})),Ly=!0}}function Dy(e){Oy[e]={name:e,value:-1,updateHistory:[]};var t=xy[e];"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof t&&PerformanceObserver.supportedEntryTypes.indexOf(t)>-1||(Oy[e].value=-2)}function Uy(e,t){if(e===oy){var n=Oy[t.name],r=zv();n&&(n.updateHistory.push({time:r,data:t}),n.value=t.value),Py.forEach((function(e){return e(t,r,!1)}))}}function By(e,t){e===oy&&Py.forEach((function(e){return e(t,zv(),!0)}))}var Fy=function(){function e(t,n){Bf(this,e),Hf(this,"basePageTreeId",void 0),Hf(this,"basePageKey",void 0),Hf(this,"observing",!1),Hf(this,"appContextMap",new Map),Hf(this,"rumConfig",void 0),Hf(this,"trackingCore",void 0),this.trackingCore=t,this.rumConfig=n}return qf(e,[{key:"startObserving",value:function(){var e,t,n=this;My(),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(e=this.trackingCore.getCurrentContext())||void 0===e?void 0:e.pageKey)||"_unknown",Ay.forEach((function(e){var t;-2===(null===(t=Oy[e])||void 0===t?void 0:t.value)&&n.reportMetric(e)})),t=this.onMetricUpdate.bind(this),Py.push(t))}},{key:"stopObserving",value:function(){this.observing=!1}},{key:"onMetricUpdate",value:function(e,t,n){var r;this.observing&&(n?this.reportMetric(e.name):this.appContextMap.set(t,{time:t,url:location.href,pageKey:null===(r=this.trackingCore.getCurrentContext())||void 0===r?void 0:r.pageKey}))}},{key:"reportMetric",value:function(e){var t=Oy[e],n={name:Ry[e]||e};"CLS"===e?n.doubleValue=t.value:n.longValue=Math.round(t.value);var r=Oy[e];if(r){var i=function(e,t,n,r,i){var o={basePageTreeId:e,basePageKey:t,basePageUrl:Ny},s=null;switch(n.name){case"LCP":s=function(e,t){var n;if(0===e.updateHistory.length)return null;var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,o=i[i.length-1],s={pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",element:Wv(o.element),renderTime:Math.round(o.renderTime),loadTime:Math.round(o.loadTime),size:Math.round(o.size)};return o.url&&(s.url=o.url),s}(n,r);break;case"FID":s=function(e,t){var n;if(0===e.updateHistory.length)return null;var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,o=i[i.length-1];return{pageKey:(null===(n=t.get(r.time))||void 0===n?void 0:n.pageKey)||"_unknown",processingStart:Math.round(o.processingStart),processingEnd:Math.round(o.processingEnd),target:Wv(o.target)}}(n,r);break;case"CLS":s=function(e,t){if(0===e.updateHistory.length)return null;var n=e.updateHistory.map((function(e){return e.data.entries})).flat();if(0===n.length)return null;var r=n.reduce((function(e,t){return e&&e.value>t.value?e:t})),i=e.updateHistory.find((function(e){return e.data.entries.includes(r)})),o=null;r&&r.sources&&r.sources.length&&(o=r.sources.reduce((function(e,t){return e.node&&e.previousRect.width*e.previousRect.height>t.previousRect.width*t.previousRect.height?e:t})));var s,a=t.get(i.time);return o&&a?{shiftCount:n.length,"largestShift.value":r.value,"largestShift.hadRecentInput":r.hadRecentInput,"largestShift.largestSource.node":Wv(null===(s=o)||void 0===s?void 0:s.node),"largestShift.pageKey":a.pageKey||"_unknown","largestShift.url":a.url,"largestShift.startTime":Math.round(r.startTime)}:null}(n,r)}if(s){var a={};return i(a,o,s),a}return o}(this.basePageTreeId,this.basePageKey,r,this.appContextMap,this.trackingCore.host.api.assign);n.metadata=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n]="string"==typeof r?r:JSON.stringify(r)})),t}(i)}var o={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[n]};this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},o)}}]),e}();!function(){function e(t,n,r){var i,o;Bf(this,e),Hf(this,"core",void 0),Hf(this,"config",void 0),Hf(this,"collector",void 0),Hf(this,"boomerangStart",-1),Hf(this,"webVitalsObserver",void 0),Hf(this,"appMemoryObserver",void 0),Hf(this,"pageMemoryObserver",void 0),Hf(this,"liveTokens",new Set),Hf(this,"stateWM",new WeakMap),Hf(this,"activeToken",void 0),Hf(this,"isInitial",void 0),Hf(this,"beforeHideHandlerBound",this.beforeHideHandler.bind(this)),this.core=r,this.config=function(e,t){for(var n in e)void 0!==t[n]&&(e[n]=t[n]);return e}(r.host.api.assign({},$v),n);var s="enabled"===(null===(i=(o=this.core.host).__getLixTreatment)||void 0===i?void 0:i.call(o,"pemberly.tracking.time-origin-epoch-time"));this.collector=new Jv(r.host.api,new sy(t,this.config,r.host),this.config,s),this.collector.startObserving(),Nm.before("internal:hide",this.beforeHideHandlerBound)}qf(e,[{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,t){e&&this.collector.recordTreeId(e,t)}},{key:"recordRenderStart",value:function(e,t){this.collector.recordRenderStart(e,t||e)}},{key:"recordRenderEnd",value:function(e){this.collector.recordRenderEnd(e)}},{key:"start",value:function(){var e,t,n,r;this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.isInitial=void 0===this.isInitial,this.isInitial||this.collector.reset();var i,o=Object.create(null),s="enabled"===(null===(e=(t=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(t,"pemberly.tracking.time-origin-epoch-time"));return this.activeToken=o,this.liveTokens.add(o),this.stateWM.set(o,{isInitial:this.isInitial,startTime:jv(this.core.host.api.performance,s)}),(this.config["enable-memory-measurement"]||"enabled"===(null===(n=(r=this.core.host).__getLixTreatment)||void 0===n?void 0:n.call(r,"pemberly.tracking.rum-memory-measurement")))&&(null===(i=this.pageMemoryObserver)||void 0===i||i.stopObserving(),this.pageMemoryObserver=new ey("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new ey("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),o}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new Fy(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;if(e&&this.activeToken&&this.activeToken===e){var s=this.stateWM.get(e),a="enabled"===(null===(t=(n=this.core.host).__getLixTreatment)||void 0===t?void 0:t.call(n,"pemberly.tracking.time-origin-epoch-time")),c=jv(this.core.host.api.performance,a);s.endProps={renderCompleteTime:c,isImpactedByHiddenWindow:i,rumKey:o};var l=this.activeToken;s.fireRumEventTimeout=setTimeout((function(){var e=r.collector.collect({isInitial:s.isInitial});"then"in e?e.then((function(e){r.fireRumEvent(e,l)})):r.fireRumEvent(e,l)}),this.config["beacon-timeout"]),this.activeToken=void 0}else Nm.emit("internal:error",{tags:["core-web-tracking:rum:end"],reason:new Error("RUM end: rum token passed is invalid")})}},{key:"destroy",value:function(){var e,t,n;Nm.offBefore("internal:hide",this.beforeHideHandlerBound),this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(t=this.appMemoryObserver)||void 0===t||t.stopObserving(),null===(n=this.pageMemoryObserver)||void 0===n||n.stopObserving(),this.core.destroy()}},{key:"abort",value:function(e){var t;if(!e||this.activeToken!==e)throw new Error("RUM abort: rum token passed is invalid");if(null!==(t=this.stateWM.get(e))&&void 0!==t&&t.endProps)throw new Error("RUM abort: Can't abort a session that was already ended");this.activeToken=void 0,this.stateWM.delete(e),this.liveTokens.delete(e)}},{key:"flushEndedSessions",value:function(){var e=this;this.liveTokens.forEach((function(t){var n=e.stateWM.get(t);if(n.endProps){var r=e.collector.collect({isInitial:n.isInitial,immediate:!0});e.fireRumEvent(r,t)}}))}},{key:"fireRumEvent",value:function(e,t){if(this.stateWM.get(t)){var n=this.core.host.api.assign,r=this.stateWM.get(t),i=r.startTime,o=r.endProps;if(o){var s=o.renderCompleteTime,a=o.isImpactedByHiddenWindow,c=o.rumKey,l=this.boomerangStart=e.navigationStart||this.boomerangStart,u=e.navigationStart||i,d=s-u,h=this.config["app-version"];this.core.fireEvent({appId:this.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(t){return n({pageKey:c||t.pageKey,isImpactedByHiddenWindow:a,appVersion:h,timeDone:d,navigationStart:u,boomerangStart:l,renderCompleteTime:s},e)})),r.fireRumEventTimeout&&clearTimeout(r.fireRumEventTimeout),this.liveTokens.delete(t),this.stateWM.delete(t)}else this.abort(t)}}},{key:"beforeHideHandler",value:function(){this.flushEndedSessions()}}])}();var qy="undefined"!=typeof window&&"undefined"!=typeof performance,Hy="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG");function Gy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax",n=arguments.length>2?arguments[2]:void 0;e.fireTrackingEvent("PageViewEvent",jy(n,t))}function jy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax";const n=sf(document),r=af(document),i=Mf();let o={};return i&&(o.theme=i.toUpperCase()),r&&(o.interfaceLocale=r),e&&(o.pageKey=e),{header:{},requestHeader:o,pageType:t,trackingInfo:{clientTimestamp:Date.now(),pageTag:n}}}!function(){function e(t,n){Bf(this,e),Hf(this,"featureKey",void 0),Hf(this,"productName",void 0),Hf(this,"endPageInstance",void 0),Hf(this,"startPageInstance",void 0),Hf(this,"isCanceled",!1),Hf(this,"featureIdentifier",void 0),Hf(this,"name",void 0),Hf(this,"startTime",void 0),Hf(this,"duration",void 0),Hf(this,"marks",[]),Hf(this,"spanStarts",new Map),Hf(this,"spans",[]),Hf(this,"isSpanContainer",!1),Hf(this,"basePageTreeId",void 0),Hf(this,"isClosed",!1),this.featureKey=t,this.productName=n;var r=n?"::".concat(n):"";this.featureIdentifier="".concat(t).concat(r),this.name=t}qf(e,[{key:"start",value:function(e){this.startPageInstance=e,qy&&(this.startTime=zv(),Hy&&performance.mark("LI:".concat(this.featureIdentifier,"-start")))}},{key:"mark",value:function(e){qy&&(this.marks.push({name:e,startTime:zv()}),Hy&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))))}},{key:"spanStart",value:function(e){qy&&(this.spanStarts.set(e,zv()),Hy&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,t){if(qy&&this.spanStarts.has(e)){var n=this.spanStarts.get(e);this.spans.push({name:t||e,startTime:n,duration:zv()-n}),Hy&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(t||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")))}}},{key:"deleteSpan",value:function(e){if(this.isClosed)throw new Error("[rum measurement] spans can only be deleted before the feature performance measurement ends.");for(var t=this.spans.length-1;t>=0;t--)if(this.spans[t].name===e)return void this.spans.splice(t,1)}},{key:"end",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isClosed){if(this.isSpanContainer=t,this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'));this.endPageInstance=e,qy&&(this.duration=zv()-this.startTime,Hy&&!this.isSpanContainer&&(performance.mark("LI:".concat(this.featureIdentifier,"-end")),performance.measure("LI:".concat(this.featureIdentifier),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-end"))),this.cleanUp())}}},{key:"cancel",value:function(){this.isCanceled||(this.isCanceled=!0)}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"toEventBody",value:function(){if(qy){var e={name:this.featureKey,startTime:this.startTime,duration:this.isSpanContainer?-1:this.duration,basePageTreeId:this.basePageTreeId,startPageInstance:this.startPageInstance||bm("unknown"),marks:this.marks,spans:this.spans};return this.productName&&(e.productName=this.productName),e}}},{key:"check",value:function(){if(qy){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'));if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'));if(this.isSpanContainer&&0===this.spans.length)throw new Error("The span container should have at least one span");for(var e=0,t=["startTime","duration","basePageTreeId"];e<t.length;e++){var n=t[e];if(void 0===this[n])throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is missing "').concat(n,'"'))}}}},{key:"cleanUp",value:function(){this.spanStarts.clear()}}])}();const{ENTER:zy,ESCAPE:Wy}=lf,Ky="modal__overlay--visible",Vy="no-scroll",Qy="top-level-modal-container";class Yy{constructor(e){let{enablePageViewTracking:t=!1,shouldHideModal:n=(()=>!1),triggerByOutletEl:r=!0,shouldMoveToTopContainer:i=!0,events:o={},focusElement:s,pageKey:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No modal element passed in");this._el=e,this._parentNode=this._el.parentNode,i&&(this._topLevelContainer=this._getTopLevelContainer()),this._wrapperEl=this._el.querySelector(".".concat("modal__wrapper")),this._overlayEl=this._el.querySelector(".".concat("modal__overlay")),o&&(this._events=o),r&&(this._outletEls=this._getOutletEls()),this._exitButtonEl=this._el.querySelector(".".concat("modal__dismiss")),this._onKeyDownEvent=e=>this._onKeyDown(e),this._enablePageViewTracking=t,this._pageKey=a,this._shouldHideModal=n,this._shouldMoveToTopContainer=i;this._el.querySelector("[id='".concat("modalNoDismiss","']"))&&(this._isModalNonDismissible=!0),this._focusElement=s,r&&this._outletEls.forEach((e=>{e.addEventListener("click",(()=>this.open()))})),this._isModalNonDismissible||(this._exitButtonEl&&this._exitButtonEl.addEventListener("click",(()=>this.close())),this._overlayEl.addEventListener("click",this._handleOverlayClick.bind(this))),this._focusTrap=new Rf(this._wrapperEl)}_getOutletEls(){const e=this._el.dataset.outlet,t=[...("default-outlet"===e?this._parentNode:document).querySelectorAll('[data-modal="'.concat(e,'"]'))];if(!t.length)throw new Error("No outlet was found with a data-modal attribute equal to the provided dataCustomOutlet param ".concat(e));return t}_getTopLevelContainer(){const e=document.querySelector(".".concat(Qy));if(!e){const e=document.createElement("div");return e.className=Qy,document.body.appendChild(e)}return e}_handleOverlayClick(e){e.target===this._wrapperEl||this._wrapperEl.contains(e.target)||this.close()}_onKeyDown(e){const t=df(e.key),n=t===zy&&document.activeElement===this._exitButtonEl;(t===Wy||n)&&(this._isModalNonDismissible||this.close(),e.preventDefault())}open(){let{focusElement:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._shouldHideModal())return this._focusElement=e||this._focusElement,this._previouslyFocusedEl=document.activeElement,this._overlayEl.classList.add(Ky),this._shouldMoveToTopContainer&&this._topLevelContainer.appendChild(this._el),this.noScroll(),document.addEventListener("keydown",this._onKeyDownEvent),$p(this._el,"open"),this._wrapperEl&&this._wrapperEl.focus(),this._focusTrap.init(),this._enablePageViewTracking&&window.tracking?window.tracking.then((e=>{Gy(e,"ajax",this._pageKey||"".concat(this._el.id))})):($p(this._wrapperEl,"afterOpen"),Promise.resolve());$p(this._el,"didNotOpen")}async close(){var e,t;this._events.onBeforeClose&&await(null===(e=this._events)||void 0===e||null===(t=e.onBeforeClose)||void 0===t?void 0:t.call(e,this._wrapperEl));this._overlayEl.classList.remove(Ky),this._shouldMoveToTopContainer&&this._parentNode.appendChild(this._el),this.removeNoScroll(),document.removeEventListener("keydown",this._onKeyDownEvent),$p(this._el,"close"),setTimeout((()=>{var e;(null===(e=this._focusElement)||void 0===e?void 0:e.focus())||this._previouslyFocusedEl.focus()}),50),this._focusTrap.tearDown()}noScroll(){document.body.classList.add(Vy)}removeNoScroll(){document.body.classList.remove(Vy)}}function Jy(e,t){t=t||"log";if("undefined"!=typeof window&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}const Xy=/ /g,Zy=/[\s\u0000<>"]|%00/,$y=/\\/,eE=/([.]|%2e){2}/i;let tE=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function nE(e){let t,n="invalid://";if("string"!=typeof e)return Jy("jSecure Warning: url must be a string","error"),n;if(t=e.trim(),t.indexOf(" ")>-1&&(Jy("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(Xy,"+")),!tE.test(t))return Jy("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n;if(Zy.test(t))return Jy("jSecure Error: not valid url character found in url: "+e,"error"),n;let r,i=t.split("?")[0],o=!1;try{r=decodeURI(i)}catch(e){o=!0}return o?(Jy("jSecure Error: malformed url path detected: "+i),n):$y.test(i)||eE.test(i)||eE.test(r)?(Jy("jSecure Error: malicious data found in url path: "+i,"error"),n):e}const rE={redirect(e){window&&(window.location.href=e)}};function iE(e){return e.scrollHeight>e.offsetHeight}const oE="hidden",sE="aria-hidden";function aE(e,t){const n=Wp(e);for(let e=0;e<n.length;e++)n[e]&&1===n[e].nodeType&&t(n[e])}function cE(e){uE([e])}function lE(e){dE([e])}function uE(e){aE(e,(e=>{e.classList.add(oE),e.setAttribute(sE,"true")}))}function dE(e){aE(e,(e=>{e.classList.remove(oE),e.setAttribute(sE,"false")}))}function hE(){const e=document.querySelector('meta[name="pillar"]');return e?e.getAttribute("content"):""}function pE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r=null==n?void 0:n.querySelector(".".concat(e));if(r&&iE(r)){const i=n.querySelector(t);null==i||i.classList.remove("invisible"),null==i||i.addEventListener("click",(()=>{r.classList.remove(e),i.classList.add("invisible")}))}}var fE=Object.hasOwnProperty,mE=Object.setPrototypeOf,gE=Object.isFrozen,vE=Object.getPrototypeOf,yE=Object.getOwnPropertyDescriptor,EE=Object.freeze,bE=Object.seal,wE=Object.create,_E="undefined"!=typeof Reflect&&Reflect,TE=_E.apply,SE=_E.construct;TE||(TE=function(e,t,n){return e.apply(t,n)}),EE||(EE=function(e){return e}),bE||(bE=function(e){return e}),SE||(SE=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var IE=ME(Array.prototype.forEach),CE=ME(Array.prototype.pop),kE=ME(Array.prototype.push),AE=ME(String.prototype.toLowerCase),RE=ME(String.prototype.match),OE=ME(String.prototype.replace),NE=ME(String.prototype.indexOf),LE=ME(String.prototype.trim),PE=ME(RegExp.prototype.test),xE=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return SE(e,n)}}(TypeError);function ME(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return TE(e,t,r)}}function DE(e,t){mE&&mE(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=AE(r);i!==r&&(gE(t)||(t[n]=i),r=i)}e[r]=!0}return e}function UE(e){var t=wE(null),n=void 0;for(n in e)TE(fE,e,[n])&&(t[n]=e[n]);return t}function BE(e,t){for(;null!==e;){var n=yE(e,t);if(n){if(n.get)return ME(n.get);if("function"==typeof n.value)return ME(n.value)}e=vE(e)}return function(e){return console.warn("fallback value for",e),null}}var FE=EE(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qE=EE(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),HE=EE(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GE=EE(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),jE=EE(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),zE=EE(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),WE=EE(["#text"]),KE=EE(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),VE=EE(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QE=EE(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),YE=EE(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),JE=bE(/\{\{[\s\S]*|[\s\S]*\}\}/gm),XE=bE(/<%[\s\S]*|[\s\S]*%>/gm),ZE=bE(/^data-[\-\w.\u00B7-\uFFFF]/),$E=bE(/^aria-[\-\w]+$/),eb=bE(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tb=bE(/^(?:\w+script|data):/i),nb=bE(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ib(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ob=function(){return"undefined"==typeof window?null:window},sb=function(e,t){if("object"!==(void 0===e?"undefined":rb(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};var ab=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ob(),n=function(t){return e(t)};if(n.version="2.3.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,c=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=c.prototype,g=BE(m,"cloneNode"),v=BE(m,"nextSibling"),y=BE(m,"childNodes"),E=BE(m,"parentNode");if("function"==typeof s){var b=i.createElement("template");b.content&&b.content.ownerDocument&&(i=b.content.ownerDocument)}var w=sb(f,r),_=w?w.createHTML(""):"",T=i,S=T.implementation,I=T.createNodeIterator,C=T.createDocumentFragment,k=T.getElementsByTagName,A=r.importNode,R={};try{R=UE(i).documentMode?i.documentMode:{}}catch(e){}var O={};n.isSupported="function"==typeof E&&S&&void 0!==S.createHTMLDocument&&9!==R;var N=JE,L=XE,P=ZE,x=$E,M=tb,D=nb,U=eb,B=null,F=DE({},[].concat(ib(FE),ib(qE),ib(HE),ib(jE),ib(WE))),q=null,H=DE({},[].concat(ib(KE),ib(VE),ib(QE),ib(YE))),G=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,z=null,W=!0,K=!0,V=!1,Q=!1,Y=!1,J=!1,X=!1,Z=!1,$=!1,ee=!1,te=!0,ne=!0,re=!1,ie={},oe=null,se=DE({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=null,ce=DE({},["audio","video","img","source","image","track"]),le=null,ue=DE({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml",fe=pe,me=!1,ge=void 0,ve=["application/xhtml+xml","text/html"],ye="text/html",Ee=void 0,be=null,we=i.createElement("form"),_e=function(e){return e instanceof RegExp||e instanceof Function},Te=function(e){be&&be===e||(e&&"object"===(void 0===e?"undefined":rb(e))||(e={}),e=UE(e),B="ALLOWED_TAGS"in e?DE({},e.ALLOWED_TAGS):F,q="ALLOWED_ATTR"in e?DE({},e.ALLOWED_ATTR):H,le="ADD_URI_SAFE_ATTR"in e?DE(UE(ue),e.ADD_URI_SAFE_ATTR):ue,ae="ADD_DATA_URI_TAGS"in e?DE(UE(ce),e.ADD_DATA_URI_TAGS):ce,oe="FORBID_CONTENTS"in e?DE({},e.FORBID_CONTENTS):se,j="FORBID_TAGS"in e?DE({},e.FORBID_TAGS):{},z="FORBID_ATTR"in e?DE({},e.FORBID_ATTR):{},ie="USE_PROFILES"in e&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,K=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,Z=e.RETURN_DOM||!1,$=e.RETURN_DOM_FRAGMENT||!1,ee=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,te=!1!==e.SANITIZE_DOM,ne=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||U,fe=e.NAMESPACE||pe,e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(G.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ge=ge=-1===ve.indexOf(e.PARSER_MEDIA_TYPE)?ye:e.PARSER_MEDIA_TYPE,Ee="application/xhtml+xml"===ge?function(e){return e}:AE,Q&&(K=!1),$&&(Z=!0),ie&&(B=DE({},[].concat(ib(WE))),q=[],!0===ie.html&&(DE(B,FE),DE(q,KE)),!0===ie.svg&&(DE(B,qE),DE(q,VE),DE(q,YE)),!0===ie.svgFilters&&(DE(B,HE),DE(q,VE),DE(q,YE)),!0===ie.mathMl&&(DE(B,jE),DE(q,QE),DE(q,YE))),e.ADD_TAGS&&(B===F&&(B=UE(B)),DE(B,e.ADD_TAGS)),e.ADD_ATTR&&(q===H&&(q=UE(q)),DE(q,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&DE(le,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(oe===se&&(oe=UE(oe)),DE(oe,e.FORBID_CONTENTS)),ne&&(B["#text"]=!0),Y&&DE(B,["html","head","body"]),B.table&&(DE(B,["tbody"]),delete j.tbody),EE&&EE(e),be=e)},Se=DE({},["mi","mo","mn","ms","mtext"]),Ie=DE({},["foreignobject","desc","title","annotation-xml"]),Ce=DE({},qE);DE(Ce,HE),DE(Ce,GE);var ke=DE({},jE);DE(ke,zE);var Ae=function(e){var t=E(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});var n=AE(e.tagName),r=AE(t.tagName);if(e.namespaceURI===he)return t.namespaceURI===pe?"svg"===n:t.namespaceURI===de?"svg"===n&&("annotation-xml"===r||Se[r]):Boolean(Ce[n]);if(e.namespaceURI===de)return t.namespaceURI===pe?"math"===n:t.namespaceURI===he?"math"===n&&Ie[r]:Boolean(ke[n]);if(e.namespaceURI===pe){if(t.namespaceURI===he&&!Ie[r])return!1;if(t.namespaceURI===de&&!Se[r])return!1;var i=DE({},["title","style","font","a","script"]);return!ke[n]&&(i[n]||!Ce[n])}return!1},Re=function(e){kE(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=_}catch(t){e.remove()}}},Oe=function(e,t){try{kE(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){kE(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!q[e])if(Z||$)try{Re(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ne=function(e){var t=void 0,n=void 0;if(X)e="<remove></remove>"+e;else{var r=RE(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=w?w.createHTML(e):e;if(fe===pe)try{t=(new p).parseFromString(o,ge)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(fe,"template",null);try{t.documentElement.innerHTML=me?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(i.createTextNode(n),s.childNodes[0]||null),fe===pe?k.call(t,Y?"html":"body")[0]:Y?t.documentElement:s},Le=function(e){return I.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Pe=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},xe=function(e){return"object"===(void 0===a?"undefined":rb(a))?e instanceof a:e&&"object"===(void 0===e?"undefined":rb(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Me=function(e,t,r){O[e]&&IE(O[e],(function(e){e.call(n,t,r,be)}))},De=function(e){var t=void 0;if(Me("beforeSanitizeElements",e,null),Pe(e))return Re(e),!0;if(RE(e.nodeName,/[\u0080-\uFFFF]/))return Re(e),!0;var r=Ee(e.nodeName);if(Me("uponSanitizeElement",e,{tagName:r,allowedTags:B}),!xe(e.firstElementChild)&&(!xe(e.content)||!xe(e.content.firstElementChild))&&PE(/<[/\w]/g,e.innerHTML)&&PE(/<[/\w]/g,e.textContent))return Re(e),!0;if("select"===r&&PE(/<template/i,e.innerHTML))return Re(e),!0;if(!B[r]||j[r]){if(ne&&!oe[r]){var i=E(e)||e.parentNode,o=y(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(g(o[s],!0),v(e))}if(!j[r]&&Be(r)){if(G.tagNameCheck instanceof RegExp&&PE(G.tagNameCheck,r))return!1;if(G.tagNameCheck instanceof Function&&G.tagNameCheck(r))return!1}return Re(e),!0}return e instanceof c&&!Ae(e)?(Re(e),!0):"noscript"!==r&&"noembed"!==r||!PE(/<\/no(script|embed)/i,e.innerHTML)?(Q&&3===e.nodeType&&(t=e.textContent,t=OE(t,N," "),t=OE(t,L," "),e.textContent!==t&&(kE(n.removed,{element:e.cloneNode()}),e.textContent=t)),Me("afterSanitizeElements",e,null),!1):(Re(e),!0)},Ue=function(e,t,n){if(te&&("id"===t||"name"===t)&&(n in i||n in we))return!1;if(K&&!z[t]&&PE(P,t));else if(W&&PE(x,t));else if(!q[t]||z[t]){if(!(Be(e)&&(G.tagNameCheck instanceof RegExp&&PE(G.tagNameCheck,e)||G.tagNameCheck instanceof Function&&G.tagNameCheck(e))&&(G.attributeNameCheck instanceof RegExp&&PE(G.attributeNameCheck,t)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(t))||"is"===t&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&PE(G.tagNameCheck,n)||G.tagNameCheck instanceof Function&&G.tagNameCheck(n))))return!1}else if(le[t]);else if(PE(U,OE(n,D,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==NE(n,"data:")||!ae[e]){if(V&&!PE(M,OE(n,D,"")));else if(n)return!1}else;return!0},Be=function(e){return e.indexOf("-")>0},Fe=function(e){var t=void 0,r=void 0,i=void 0,o=void 0;Me("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(o=s.length;o--;){var c=t=s[o],l=c.name,u=c.namespaceURI;if(r=LE(t.value),i=Ee(l),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,Me("uponSanitizeAttribute",e,a),r=a.attrValue,!a.forceKeepAttr&&(Oe(l,e),a.keepAttr))if(PE(/\/>/i,r))Oe(l,e);else{Q&&(r=OE(r,N," "),r=OE(r,L," "));var d=Ee(e.nodeName);if(Ue(d,i,r))try{u?e.setAttributeNS(u,l,r):e.setAttribute(l,r),CE(n.removed)}catch(e){}}}Me("afterSanitizeAttributes",e,null)}},qe=function e(t){var n=void 0,r=Le(t);for(Me("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Me("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof o&&e(n.content),Fe(n));Me("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,i){var s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;if((me=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xe(e)){if("function"!=typeof e.toString)throw xE("toString is not a function");if("string"!=typeof(e=e.toString()))throw xE("dirty is not a string, aborting")}if(!n.isSupported){if("object"===rb(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(xe(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Te(i),n.removed=[],"string"==typeof e&&(re=!1),re){if(e.nodeName){var h=Ee(e.nodeName);if(!B[h]||j[h])throw xE("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(c=(s=Ne("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!Z&&!Q&&!Y&&-1===e.indexOf("<"))return w&&ee?w.createHTML(e):e;if(!(s=Ne(e)))return Z?null:ee?_:""}s&&X&&Re(s.firstChild);for(var p=Le(re?e:s);l=p.nextNode();)3===l.nodeType&&l===u||De(l)||(l.content instanceof o&&qe(l.content),Fe(l),u=l);if(u=null,re)return e;if(Z){if($)for(d=C.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return q.shadowroot&&(d=A.call(r,d,!0)),d}var f=Y?s.outerHTML:s.innerHTML;return Q&&(f=OE(f,N," "),f=OE(f,L," ")),w&&ee?w.createHTML(f):f},n.setConfig=function(e){Te(e),J=!0},n.clearConfig=function(){be=null,J=!1},n.isValidAttribute=function(e,t,n){be||Te({});var r=Ee(e),i=Ee(t);return Ue(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(O[e]=O[e]||[],kE(O[e],t))},n.removeHook=function(e){O[e]&&CE(O[e])},n.removeHooks=function(e){O[e]&&(O[e]=[])},n.removeAllHooks=function(){O={}},n}(),cb=ab;const lb={ADD_TAGS:["#comment","li-icon","icon","iframe"],ADD_ATTR:["target"],FORCE_BODY:!0,RETURN_DOM:!0};function ub(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=db(null,e,t);return n.innerHTML}function db(e,t){let{ADD_TAGS:n=[],ADD_ATTR:r=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Nf({},lb);i.ADD_TAGS=[...i.ADD_TAGS,...n],i.ADD_ATTR=[...i.ADD_ATTR,...r];const o=cb.sanitize(t,i);return e&&e.nodeType===Node.ELEMENT_NODE&&(e.innerHTML="",e.append(...o.childNodes)),o}var hb="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",pb=function(){if("undefined"==typeof document)return!0;return"textContent"in document.createElement("div")}()?"textContent":"innerText",fb=["b","del","em","i","s","strong","sub","sup"],mb=fb.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),gb=[hb,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|");function vb(){}var yb=function(){var e,t=/[&<>"'\u0000\\=]/g;return e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"},function(n){return null==n?null:n.toString().replace(t,(function(t){return e[t]}))}}(),Eb=function(){var e,t,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var r={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(i){return null==i?null:(i+"").replace(n,(function(n,i,o,s){return i?(a=i,r.hasOwnProperty(a)?r[a]:(e.innerHTML="&"+a+";",c=e[pb],r[a]=c,c)):o||s?t(parseInt(o||s,o?16:10)||65533):"";var a,c}))}}();var bb=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function wb(e){return/[<&]/.test(e)}var _b=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},Tb="[ \t\r\n]*";function Sb(e){e=bb(e)?e:[e];var t,n,r,i=0,o="<(?!/?";return o+="(?:",_b(e,(function(e,s){t=e.tags||mb,n=e.attrs||gb,r=e.checkUrlAttrs||!1,0!==s&&(o+="|"),o+="(?:"+t.join("|")+")",o+="(?:",o+=Tb,o+="|[ \t\r\n]+",o+="(?:(?:",o+="(?:"+n+")(?:=([\"'])[^'\"<>]*\\"+ ++i+")?",r&&(o+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++i),o+=")[ \t\r\n]*)+",o+=")"})),o+=")",o+="/?>)",new RegExp(o,"i")}function Ib(e){return Sb({tags:e=e||mb,checkUrlAttrs:!0})}function Cb(e,t){var n=(t=t||{}).allowTags,r=!1!==t.hasCustomElementMarkup;return n?!Ib(n).test(e):r?!Cb.R_UNSAFE_CUSTOM_ELEMENT.test(e):!Cb.R_UNSAFE_HTML.test(e)}function kb(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function Ab(e,t,n){if(null==e)return null;e=e.toString();var r=t?function(e,t){var n={};return e.replace(/\{([^}]+)\}/g,(function(e,r){var i,o=e;if(n.hasOwnProperty(r))return n[r];if(t.hasOwnProperty(r)){if(!((i="string"==typeof(o=t[r]))||o instanceof vb||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");o=i?yb(o):o.toString()}return n[r]=o,o}))}(e,t):e,i=e;return wb(r)&&!Cb(r,n)&&(r=kb(r),Jy("Content contains non-whitelisted tags or attributes:\nContent: "+i,"error")),r}function Rb(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e}Cb.R_UNSAFE_HTML=Ib(),Cb.R_UNSAFE_CUSTOM_ELEMENT=function(){var e={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"};return Sb([{tags:mb,checkUrlAttrs:!0},{tags:[e.tag],attrs:[hb,e.attrs].join("|"),checkUrlAttrs:!1}])}();var Ob={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ob.optgroup=Ob.option,Ob.tbody=Ob.tfoot=Ob.colgroup=Ob.caption=Ob.thead,Ob.th=Ob.td;var Nb=/<([\w:]+)/;function Lb(e,t){var n,r,i,o,s,a,c,l=t.createDocumentFragment(),u=[];for(s=0,c=e.length;s<c;s++)if((o=e[s])||0===o)if("string"==typeof o){for(i=i||l.appendChild(t.createElement("div")),n=(Nb.exec(o)||["",""])[1].toLowerCase(),Mb(i,(r=Ob[n]||Ob._default)[1]+o+r[2]),a=r[0];a--;)i.lastChild&&i.lastChild.nodeType===Node.ELEMENT_NODE&&(i=i.lastChild);Rb(u,i.childNodes),(i=l.firstChild).textContent=""}else Rb(u,o.nodeType?[o]:o);for(l.textContent="",o=u[s=0];o;)l.appendChild(o),o=u[++s];return l}var Pb=Ab,xb=Ab;function Mb(e,t,n){var r=Ab(t,n);return wb(r)?e.innerHTML=r:e[pb]=r,r}function Db(e,t){if(!(this instanceof Db))return new Db(e,t);(t=t||{}).allowTags=t.allowTags?t.allowTags.reduce((function(e,t){return e.concat(t)}),[]):null,this._string=e,this._options=t}Db.prototype=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(new vb,{toString:function(){var e=this._string,t=this._stringVal,n=e;return void 0!==t?t:(Cb(e,this._options)||(n=e,e=kb(e),Jy("UnsafeString contains non-whitelisted tags or attributes.\nString: "+n,"error")),this._stringVal=e,e)}});var Ub={ALLOWED_TAGS:mb,FORMATTING_TAGS:fb,htmlEncode:yb,htmlUnencode:Eb,log:Jy,mk:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,o="",s=n.length;return e&&e.forEach((function(e,t){o+=e,t<s&&(i=n[t],o+=i instanceof Db?i:yb(i))})),xb(o)},parseHTML:function(e,t){var n;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=Lb([e],t);else{if(!bb(e))return e;n=Lb(e,t)}return Rb([],n.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:Pb,reEncode:function(e){return yb(Eb(e))},_redirector:rE,redirect:function(e){const t=nE(e);t===e&&rE.redirect(t)},sanitizeHTML:xb,sanitizeUrl:nE,setElementContent:Mb,text:function(e){return Jy("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),yb(e)},unsafe:function(e){return e},UnsafeString:Db};const Bb="toast--hidden",Fb=".toast",qb=Object.freeze({CAUTION:"caution",ERROR:"error",GDPR:"gdpr",NOTIFY:"notify",SUCCESS:"success"});class Hb{constructor(){let e=document.getElementById("toasts");if(!e)throw new Error("No toasts element");this._el=e,this._position=e.getAttribute("type"),this.bindEvents()}trigger(e,t,n,r){if(!e||!Object.values(qb).includes(e))throw new Error("Valid type not specified: type must be caution, error, gdpr, notify or success");if(!t)throw new Error("No message specified");const i=n?"".concat(n,"_toast-").concat(e):"toast-".concat(e),o=this._createToastEl(e,t,i,r);return this._addToast(o)}clearAllToasts(){let e=this._el.querySelectorAll(Fb);Array.from(e).forEach((e=>{this._removeToast(e)}))}bindEvents(){this._el.addEventListener("click",(e=>{const t=Fp(e.target,".toast__dismiss-btn");if(t){const e=Fp(t,Fb);e&&this._removeToast(e)}}))}_isValidCtaMetadata(e){return["url","trk","text"].every((t=>e.hasOwnProperty(t)))}_createToastEl(e,t,n,r){const i=document.querySelector("#toast-template").content.firstElementChild.cloneNode(!0),o=document.querySelector("#toast-icon-".concat(e)).content.firstElementChild.cloneNode(!0);if(!i||!o)throw new Error("Toast templates are missing");i.classList.add("toast--".concat(e)),i.setAttribute("type",e);const s=i.querySelector(".toast__message");s.insertBefore(o,s.firstElementChild);i.querySelector(".toast__dismiss-btn").setAttribute("data-tracking-control-name","".concat(n,"_dismiss"));const a=i.querySelector(".toast__message-content");let c="text-color-text-neutral";if(e===qb.CAUTION?c="text-color-text-caution":e===qb.ERROR?c="text-color-text-negative":e===qb.SUCCESS&&(c="text-color-text-positive"),a.classList.add(c),db(a,t),r&&this._isValidCtaMetadata(r)){const e=i.querySelector(".toast__message-content-container"),t=document.querySelector("#toast-cta").content.firstElementChild.cloneNode(!0),n=r.target||"_blank";t.setAttribute("href",Ub.sanitizeUrl(Yp(r.url,r.trk))),t.setAttribute("target",n),t.textContent=r.text,e.classList.add(c),e.append(t)}return i}_addToast(e){return this._el.appendChild(e),this._hasToast()&&this._el.classList.remove("invisible"),this._refreshLazyLoader(),setTimeout((function(){e.classList.remove(Bb)}),500),e}_removeToast(e){let t=this._el;e.classList.add(Bb),setTimeout((()=>{t.removeChild(e),this._hasToast()||t.classList.add("invisible")}),500)}_hasToast(){return[...this._el.children].some((e=>"template"!==e.tagName.toLowerCase()))}_refreshLazyLoader(){var e,t;null===(e=window.lazyloader)||void 0===e||null===(t=e.then)||void 0===t||t.call(e,(e=>{e.refreshLoader()}))}}Lf(Hb,"TOAST_TYPES",qb);const Gb={};function jb(e){const t=document.getElementById(e);if(!t&&void 0!==Gb[e])return Gb[e];if(!t)return console.warn("Element with id: ".concat(e," not found")),Gb[e]=null,Gb[e];let n;for(const e of t.childNodes)try{if(e.nodeType===Node.COMMENT_NODE){n=JSON.parse(e.nodeValue);break}}catch(e){}return void 0===n?(console.warn("Error retrieving content with id: ".concat(e,". Use embedJson helper to embed this content")),null):(Gb[e]=n,t.parentNode.removeChild(t),Gb[e])}const zb={COPY:"copy",LINKEDIN:"linkedin",TWITTER:"twitter",FACEBOOK:"facebook"};Object.keys(zb).map((e=>zb[e]));const Wb=["binlar","ask\\ jeeves","mozilla\\/4\\.0\\ \\(compatible\\;\\ msie\\ 6\\.0\\;\\ windows\\ nt\\ 5\\.1\\;1813\\)","companydatatree","genieo","microsoft\\+scheduled\\+cache\\+content\\+download\\+service","liferea","superfeedr","ez\\ publish\\ link\\ validator","htmlparser","argclrint","linkwalker","webtool","ask\\+jeeves","stackrambler","paros","^fdm\\+3\\.x","ms\\ search","indy\\+library","seznam","sitevigil","intergator","freedom(?!from)","google\\+page\\+speed\\+insights","znajdzfoto\\/image","riddler\\.io","^java\\/","twiceler","httpunit","ktxn","webcopier","mna\\+digital\\+circonus\\+check","stuff(?!nz)","updatepatrol","feedburner","hp\\+sitescope","crawler","gigablastopensource\\/","rpt\\-http","^fdm\\ 3\\.x","libwww\\-perl","((?=pital)|ca(?=pital))pita","bingpreview","oia\\.owa","^ahc\\/","thunderstone","microsoft\\ bits","alertsite","^python\\-requests\\/","dts\\ agent","tangjiutao","^inmon","linkscan","alexa\\ site\\ audit","webtrends(?!clientlibrary)","chkd","joedog","daumoa","typhoeus","loadimpactpageanalyzer","google\\ news","coldfusion","mna\\ digital\\ circonus\\ check","alexa\\+site\\+audit","getright","appengine","(?=crawler)crawl","ibot(?!ta)","jobo","python\\-httplib","powermarks","site24x7","proximic","yahoo\\+pipes","((?=aporter)|oper(?=aportable))aport","web\\+downloader","check\\_http","grabber","topsy\\.com\\/butterfly\\/","harvest","^inagist\\+url\\+resolver","fast","crescent(?!\\ build|\\+build)","sohu(?!ennews|video|news)","favorg","bloglines","fetch(?!tv)","wapt","microsoft\\+url\\+control","urchin","ning\\/1\\.0","pluck","google\\+news","spider","\\(compatible\\;\\+optimizer\\)","moreover\\/5\\.1","js\\-kit","server\\ density\\ external\\ llama","facebookexternalhit","ultraseek","catchpoint","yandex(?!\\ browser|\\+browser|mail)","echo(?!arena|fon|star)","^worldwatch\\/","combine(?!d)","winhttprequest","ez\\+publish\\+link\\+validator","jakarta","^webnotifier\\/","webmetrics","teoma","nerdbynature","ms\\+frontpage","nielsen","sucker","engagebdr","yahoofeedseeker","dts\\+agent","googleapps","holmes","plumtree","www\\-mechanize","google\\-hoteladsverifier","pingdom","drupal","sina\\_weibo","google\\ page\\ speed\\ insights","lisa","w3c\\_validator","^scan","yeti","snoopy","khte","trovit","atomz","httpcomponents","ms\\+search","google\\-http\\-java\\-client","spi\\_der","bubing","websitepulse","microsoft\\+bits","http\\_request2","ieautodiscovery","siteimprove","curl(?!ings)","go\\+1\\.1\\+package\\+http","^crowsnest\\/","email\\ exractor","utorrent","yahoocachesystem","shopwiki","justview","googlesecurityscanner","msnptc","rkg\\+url\\+verifier","monitor","bitvouseragent","((?=wormgame))worm","talktalk","help\\.coccoc\\.com","yahoo\\ pipes","heritrix","nutch","argus","kulturarw3","checkurl","universalsearch","amazon\\ route\\ 53\\ health\\ check\\ service","slurp","mozilla\\/5\\.0\\ \\(compatible\\;\\ msie\\ 5\\.0\\)","ezooms","kimengi\\/nineconnections\\.com","applesyndication","python\\-urllib","internal\\+zero\\-knowledge\\+agent","system\\+center\\+operations\\+manager","riverglassscanner","imgsizer","changedetection","nutscrape","feedzilla","contype","^lwp","\\(compatible\\;\\ optimizer\\)","infolink","outbrain","^prerender","admantx","^inagist\\ url\\ resolver","amazon\\+route\\+53\\+health\\+check\\+service","neustar","a6\\-indexer","comodo\\+ssl\\+checker","linkchecker","viglink","patric","newsnow","wasalive","scrapy","(?=gruber)grub","ruxitsynthetic","rkg\\ url\\ verifier","ocelli","webcapture","^kraken\\/","t\\-h\\-u\\-n\\-d\\-e\\-r\\-s\\-t\\-o\\-n\\-e","spider(?!solitaire)","isearch","hp\\ sitescope","maxamine","\\(simulated\\_by\\_webserver\\_stress\\_tool\\)","((?=obotics)|ther(?=obotfree))obot","yacy","twibble\\.io","google\\+wireless\\+transcoder","wget","internal\\ zero\\-knowledge\\ agent","google\\ wireless\\ transcoder","xenu","yahooseeker","advanced\\ email\\ extractor","feed43","ptst","reconnoiter","go\\ 1\\.1\\ package\\ http","advanced\\+email\\+extractor","linkdex","panscient\\.com","webcheck","linktiger","scooter","flipboard\\.com\\/browserproxy","evidon","twisted\\ pagegetter","cosmos","adbeat","sherlock","web\\ downloader","cookiereports","siteexplorer","miva","twisted\\+pagegetter","mfc\\_tear\\_sample","indy\\ library","b2w(?!tenisnew)","orangebot(?!swana)","lockss\\+cache","mozilla\\/4\\.0\\+\\(compatible\\;\\+msie\\+6\\.0\\;\\+windows\\+nt\\+5\\.1\\;1813\\)","yahooexternalcache","apache\\-httpclient\\/4\\.","archive\\.org","wesee\\:search","hiscan","ms\\ frontpage","tagscanner","google\\ web\\ preview","special\\_archiver","d24y\\-aegis","scoutjet","larbin","adsense\\-snapshot\\-google","keynote","skypeuripreview","clickajob","download\\+ninja","internet\\ ninja","^ltx71","ukonline","eventmachine\\ httpclient","nomad","mediapartners","twikle","microsoft\\ scheduled\\ cache\\ content\\ download\\ service","internet\\+ninja","scanalert","metauri","agentname","adr\\)","squider","isilo","teleport","automationtest","bordermanager","linklint","bot","templeton","rssreader","ichiro","(?=dialer\\-mobileapp)dialer","atomic\\_email\\_hunter","google\\+web\\+preview","longurl\\+api","longurl\\ api","internetseer","server\\+density\\+external\\+llama","topix","iopus","download\\ ninja","mozilla\\/5\\.0\\+\\(compatible\\;\\+msie\\+5\\.0\\)","europarchive","avantgo","flamingo\\_searchengine","lockss\\ cache","jobrapido","wesee\\:ads\\/","frontier","newspaper\\/0\\.0\\.","apachebench","flamingosearch","lydia","microsoft\\ url\\ control","phantomjs","system\\ center\\ operations\\ manager","^econtext\\/","akamai","cfschedule","searchme\\.com\\/support\\/","fortimail","comodo\\ ssl\\ checker","gomezagent","sitecon","webauto","golem","swcd","spundge\\/0\\.1","findlinks","^sjn","yandex","ia\\_archive","vagabondo","watchmouse","simplepie","1job","goldfire"].join("|");new RegExp(Wb,"i");const Kb="tooltip__popup";"".concat(Kb,"--show");const Vb="/mwlite/badge-counts";const Qb="overlay_";class Yb extends Yy{constructor(e){let{enablePageViewTracking:t=!1,shouldHideModal:n=(()=>!1),triggerByOutletEl:r=!0,pushState:i=!0,shouldMoveToTopContainer:o=!0,focusElement:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed into mobile web modal");super(e,{enablePageViewTracking:t,shouldHideModal:n,triggerByOutletEl:r,shouldMoveToTopContainer:o,focusElement:s}),this.pushState=i,this.hashChangeHandlerRef=this._hashChangeHandler.bind(this)}historyBackClickHandler(){this.close({enableHistoryBack:!1})}_hashChangeHandler(e){const t=e.oldURL&&e.oldURL.split("#")[1];t&&t==="".concat(Qb).concat(this._el.id)&&this.historyBackClickHandler()}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.open(e),this._shouldHideModal()||(this.pushState&&history.pushState(this._el.id,"show modal","#".concat(Qb).concat(this._el.id)),window.addEventListener("hashchange",this.hashChangeHandlerRef))}close(){let{enableHistoryBack:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.removeEventListener("hashchange",this.hashChangeHandlerRef),this.pushState&&e&&(window.history.replaceState({},document.title,window.location.href.split("#")[0]),history.back()),super.close()}}document.querySelector.bind(document);String.fromCharCode(32);of(document);String.fromCharCode(32);function Jb(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!e||0===e.trim().length};return e.errorMessageSuffix="error_empty",e}function Xb(e){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length<e};return t.errorMessageSuffix="error_too_short",t}function Zb(e){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length>e};return t.errorMessageSuffix="error_too_long",t}Jb(),Xb(3),Zb(128),Jb(),Xb(6),Zb(400);var $b=window||t.g;$b.utag_data||($b.utag_data={});const ew="undefined"!=typeof window&&window&&"node"!==window.appEnvironment;$b.utag_cfg_ovrd=$b.utag_cfg_ovrd||{},$b.trackingEventDebugData=$b.trackingEventDebugData||[],$b.utag_cfg_ovrd.noview=!0,$b.utag_cfg_ovrd.nocookie=!0;ew&&new RegExp("bot|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|sogou|facebook|alexa","i").test($b.navigator.userAgent);!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}const e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();const tw={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},nw={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},{GOOGLE_ERROR:rw,GOOGLE_USER_FETCHED:iw,INITIALIZED:ow}=tw,{INITIALIZATION:sw,AUTHENTICATION:aw}=nw;class cw extends EventTarget{constructor(e){let{libSrcPath:t,el:n,clientId:r=ssr_ui_lib_es_CLIENT_ID}=e;if(super(),!n)throw TypeError("DOM element for Sign In button is required");if(this.libSrcPath=t,this.el=n,this.clientId=r,window.gapi)this._initializeGoogleAuth();else{if(!t)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");!function(e){"complete"===document.readyState?e():window.addEventListener("load",(()=>{e()}))}((()=>{!function(e,t){const n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}(t,this._initializeGoogleAuth.bind(this))}))}}_initializeGoogleAuth(){return gapi.auth2.init({client_id:this.clientId}).then((e=>{this.auth2=e,this._attachSignIn();const t=new CustomEvent(ow);this.dispatchEvent(t)})).catch((e=>{const t={type:sw,message:e.error},n=new CustomEvent(rw,{detail:t});this.dispatchEvent(n)}))}_attachSignIn(){this.auth2.attachClickHandler(this.el,{},(e=>{const t=new CustomEvent(iw,{detail:this._getGoogleUserInformation(e)});this.dispatchEvent(t)}),(e=>{const t={type:aw,message:e.error},n=new CustomEvent(rw,{detail:t});this.dispatchEvent(n)}))}_getGoogleUserInformation(e){const t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}var lw={exports:{}};function uw(e){this.message=e}uw.prototype=new Error,uw.prototype.name="InvalidCharacterError";var dw="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new uw("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};var hw=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(dw(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return dw(t)}};function pw(e){this.message=e}pw.prototype=new Error,pw.prototype.name="InvalidTokenError",lw.exports=function(e,t){if("string"!=typeof e)throw new pw("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(hw(e.split(".")[n]))}catch(e){throw new pw("Invalid token specified: "+e.message)}},lw.exports.InvalidTokenError=pw;const fw=tw,mw=nw,{GOOGLE_USER_FETCHED:gw,GOOGLE_ERROR:vw,INITIALIZED:yw}=fw,{INITIALIZATION:Ew}=mw;function bw(e){var t=e.intersectionRect;return t.width>=0&&t.height>=0}function ww(e){try{return e.getBoundingClientRect()}catch(e){if("object"==typeof e&&null!==e&&16389==(65535&e.number))return{top:0,bottom:0,left:0,width:0,height:0,right:0,x:0,y:0};throw e}}function _w(e,t){return Math.round(e-t)}var Tw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sw=function(){function e(){this.items=[]}return e.prototype.remove=function(e){for(var t=this.items.length,n=0;n<t;n++)this.removePredicate(e,this.items[n])&&(this.items.splice(n,1),n--,t--)},e.prototype.clear=function(){this.items=[]},e.prototype.push=function(e){this.items.push(e)},e.prototype.isEmpty=function(){return 0===this.items.length},e}(),Iw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tw(t,e),t.prototype.removePredicate=function(e,t){return"string"==typeof e?t.id===e:t.callback===e},t}(Sw),Cw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tw(t,e),t.prototype.removePredicate=function(e,t){return t===e},t}(Sw),kw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tw(t,e),t.prototype.removePredicate=function(e,t){return"string"==typeof e?t.id===e:"function"==typeof e?t.callback===e:t.el===e},t}(Sw),Aw=function(){return 0},Rw=!("undefined"==typeof window||!window||"undefined"==typeof document||!document),Ow=Rw&&!!window.requestAnimationFrame,Nw={hasDOM:Rw,hasRAF:Ow,getScrollTop:Aw,getScrollLeft:Aw,getHeight:Aw,getWidth:Aw,rAF:Ow?window.requestAnimationFrame.bind(window):function(e){e()},meta:{width:0,height:0,scrollTop:0,scrollLeft:0,x:0,y:0,top:0,left:0},version:0,lastVersion:0,updateMeta:Aw,get isDirty(){return Nw.version!==Nw.lastVersion},document:window.document,IntersectionObserver:Rw&&window.IntersectionObserver,performance:Rw&&window.performance};function Lw(){++Nw.version}function Pw(){var e=null!=document.scrollingElement;Nw.getScrollTop=e?function(){return document.scrollingElement.scrollTop}:function(){return window.scrollY},Nw.getScrollLeft=e?function(){return document.scrollingElement.scrollLeft}:function(){return window.scrollX}}Rw&&(Nw.getHeight=function(){return window.innerHeight},Nw.getWidth=function(){return window.innerWidth},Nw.updateMeta=function(){Nw.meta.height=Nw.getHeight(),Nw.meta.width=Nw.getWidth(),Nw.meta.scrollLeft=Nw.getScrollLeft(),Nw.meta.scrollTop=Nw.getScrollTop(),Nw.lastVersion=Nw.version},Nw.updateMeta(),"loading"!==document.readyState?Pw():document.addEventListener("DOMContentLoaded",Pw),window.addEventListener("resize",Lw,!1),window.addEventListener("scroll",Lw,!1));var xw=function(){function e(){this.reads=[],this.work=[],this.running=!1}return e.prototype.scheduleRead=function(e){this.reads.unshift(e),this.run()},e.prototype.scheduleWork=function(e){this.work.unshift(e),this.run()},e.prototype.run=function(){var e=this;this.running||(this.running=!0,Nw.rAF((function(){e.running=!1;for(var t=0,n=e.reads.length;t<n;t++)e.reads.pop()();t=0;for(var r=e.work.length;t<r;t++)e.work.pop()();(e.work.length>0||e.reads.length>0)&&e.run()})))},e}(),Mw=null;var Dw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uw="xxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),Bw=0,Fw=function(){function e(e,t,n,r,i,o,s,a,c,l){this.dateNow=e,this.highResTime=t,this.scrollTop=n,this.scrollLeft=r,this.width=i,this.height=o,this.x=s,this.y=a,this.top=c,this.left=l}return e.generate=function(t){void 0===t&&(t=window);var n=this.revalidateRootMeta(t);return new e(Date.now(),performance.now(),n.scrollTop,n.scrollLeft,n.width,n.height,n.x,n.y,n.top,n.left)},e.revalidateRootMeta=function(e){void 0===e&&(e=document);var t,n={width:0,height:0,scrollTop:0,scrollLeft:0,x:0,y:0,top:0,left:0};return Nw.isDirty&&Nw.updateMeta(),e===window||e===document?(n.height=Nw.meta.height,n.width=Nw.meta.width,n.scrollLeft=Nw.meta.scrollLeft,n.scrollTop=Nw.meta.scrollTop,n):(t=ww(e),n.scrollTop=e.scrollTop,n.scrollLeft=e.scrollLeft,n.width=t.width,n.height=t.height,n.x=t.x,n.y=t.y,n.top=t.top,n.left=t.left,n)},e}();function qw(){return Bw+++Uw}var Hw=function(){function e(e,t){this.isTicking=!1,this.toRemove=[],this.engine=e||(Mw||(Mw=new xw)),this.root=t||window}return e.prototype.tick=function(){if(this.queue.isEmpty())this.isTicking=!1;else{if(this.toRemove.length>0){for(var e=0;e<this.toRemove.length;e++)this.queue.remove(this.toRemove[e]);this.toRemove=[]}this.applyQueue(Fw.generate(this.root)),this.engine.scheduleRead(this.tick.bind(this))}},e.prototype.scheduleWork=function(e){this.engine.scheduleWork(e)},e.prototype.scheduleRead=function(e){this.engine.scheduleRead(e)},e.prototype.queryElement=function(e,t){var n,r,i=this;this.engine.scheduleRead((function(){n=ww(e),r=Fw.generate(i.root)})),this.engine.scheduleWork((function(){t(n,r)}))},e.prototype.unwatch=function(e){this.toRemove.push(e)},e.prototype.unwatchAll=function(){this.queue.clear()},e.prototype.startTicking=function(){this.isTicking||(this.isTicking=!0,this.engine.scheduleRead(this.tick.bind(this)))},e}(),Gw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.queue=new Iw,t}return Dw(t,e),t.prototype.applyQueue=function(e){for(var t=0;t<this.queue.items.length;t++){var n=this.queue.items[t],r=n.id;(0,n.callback)(e,r)}},t.prototype.watch=function(e){this.startTicking();var t=qw();return this.queue.push({callback:e,id:t}),t},t}(Hw),jw=function(e){function t(t){var n=e.call(this,void 0,window)||this;return n.predicate=t,n}return Dw(t,e),t.prototype.applyQueue=function(t){this.predicate(t)&&e.prototype.applyQueue.call(this,t)},t}(Gw),zw=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t,n)||this;return i.lastVersion=Nw.version,i.queue=new kw,i.ALLOW_CACHED_SCHEDULER=r,i}return Dw(t,e),Object.defineProperty(t.prototype,"isDirty",{get:function(){return Nw.version!==this.lastVersion},enumerable:!1,configurable:!0}),t.prototype.applyQueue=function(e){for(var t=0;t<this.queue.items.length;t++){var n=this.queue.items[t],r=n.callback,i=n.el,o=n.id,s=n.clientRect;!this.isDirty&&s&&this.ALLOW_CACHED_SCHEDULER||(s=this.queue.items[t].clientRect=ww(i)),r(e,o,s)}this.lastVersion=Nw.version},t.prototype.watch=function(e,t,n){this.startTicking(),n=n||qw();return this.queue.push({el:e,callback:t,id:n,clientRect:null}),n},t}(Hw),Ww=null;var Kw=function(){function e(){this.queue=new Cw}return e.prototype.listen=function(e){this.queue.push(e)},e.prototype.unlisten=function(e){this.queue.remove(e)},e.prototype.trigger=function(e){for(var t=0;t<this.queue.items.length;t++)this.queue.items[t](e)},e}(),Vw=function(){function e(e){this.scheduler=new jw(e.bind(this))}return e.prototype.trigger=function(){},e.prototype.listen=function(e){this.state=Fw.generate(),this.scheduler.watch(e)},e.prototype.unlisten=function(e){this.scheduler.unwatch(e)},e}(),Qw=null;function Yw(e,t){var n=(Qw||(Qw={scroll:new Vw((function(e){var t=this.state,n=t.scrollTop,r=t.scrollLeft;return this.state=e,n!==e.scrollTop||r!==e.scrollLeft})),resize:new Vw((function(e){var t=this.state,n=t.width,r=t.height;return this.state=e,r!==e.height||n!==e.width})),destroy:new Kw,beforeunload:new Kw,hide:new Kw,show:new Kw}))[e];n&&n.listen(t)}function Jw(e,t){if(Qw){var n=Qw[e];n&&n.unlisten(t)}}function Xw(e,t){if(Qw){var n=Qw[e];n&&n.trigger(t)}}function Zw(e){(Ww||(Ww=new Gw)).scheduleWork(e)}function $w(e){var t=e.left,n=e.right,r=e.top,i=e.bottom;return{left:t,x:t,top:r,y:r,bottom:i,right:n,width:n-t,height:i-r}}Nw.hasDOM&&(window.addEventListener("beforeunload",(function(){Xw("beforeunload"),Xw("destroy")})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?Xw("show"):Xw("hide")})));var e_=function(){function e(e,t){void 0===t&&(t={}),this.records={},this.callback=e,t.threshold=t.threshold||0,this.rootMarginObj=function(e){var t=e.split(" ").map((function(e){return parseInt(e,10)}));switch(t.length){case 2:return{top:t[0],left:t[1],bottom:t[0],right:t[1]};case 3:return{top:t[0],left:t[1],bottom:t[2],right:t[1]};case 4:return{top:t[0],left:t[1],bottom:t[2],right:t[3]};default:return{top:0,left:0,bottom:0,right:0}}}(t.rootMargin||"0px"),this.root=t.root||null,Array.isArray(t.threshold)?this.thresholds=t.threshold:this.thresholds=[t.threshold],this.scheduler=new zw(void 0,this.root,t.ALLOW_CACHED_SCHEDULER)}return e.prototype.observe=function(e){var t=this,n=e,r=n.__spanielId=n.__spanielId||qw();return this.scheduler.watch(e,(function(e,r,i){t.onTick(e,r,i,n)}),n.__spanielId),r},e.prototype.onTick=function(e,t,n,r){var i=this,o=this.generateEntryEvent(e,n,r),s=o.numSatisfiedThresholds,a=o.entry,c=this.records[t]||(this.records[t]={entry:a,numSatisfiedThresholds:0});s===c.numSatisfiedThresholds&&a.isIntersecting===c.entry.isIntersecting||(c.numSatisfiedThresholds=s,c.entry=a,this.scheduler.scheduleWork((function(){i.callback([a])})))},e.prototype.unobserve=function(e){this.scheduler.unwatch(e.__spanielId),delete this.records[e.__spanielId]},e.prototype.disconnect=function(){this.scheduler.unwatchAll(),this.records={}},e.prototype.takeRecords=function(){return[]},e.prototype.generateEntryEvent=function(e,t,n){for(var r=0,i=function(e,t,n,r){if("none"===n.style.display)return{time:e.dateNow,highResTime:e.highResTime,boundingClientRect:t_(),intersectionRatio:0,intersectionRect:t_(),isIntersecting:!1,rootBounds:t_(),target:n};var i=t.bottom,o=t.right,s=e.left+r.left,a=e.top+r.top,c={left:s,top:a,bottom:r.bottom,right:r.right,width:e.width-(r.right+r.left),height:e.height-(r.bottom+r.top),y:a,x:s},l=Math.max(c.left,t.left),u=Math.max(c.top,t.top),d=Math.min(c.left+c.width,t.right)-l,h=Math.min(c.top+c.height,t.bottom)-u,p=d>=0?l:0,f=u>=0?u:0,m={left:p,top:f,x:p,y:f,width:d,height:h,right:o,bottom:i};return function(e){var t=e.unixTime,n=e.highResTime,r=e.rootBounds,i=e.boundingClientRect,o=e.intersectionRect,s=e.target,a=i.height*i.width,c=a>0?o.width*o.height/a:0;return{time:t,highResTime:n,rootBounds:r,boundingClientRect:i,intersectionRect:o,target:s,intersectionRatio:c,isIntersecting:bw({intersectionRect:o})}}({unixTime:e.dateNow,highResTime:e.highResTime,rootBounds:c,target:n,boundingClientRect:$w(t),intersectionRect:m})}(e,t,n,this.rootMarginObj),o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];i.intersectionRatio>=s&&r++}return{numSatisfiedThresholds:r,entry:i}},e}();function t_(){return{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}var n_={x:0,y:0,width:0,height:0,bottom:0,left:0,top:0,right:0};!function(){function e(e,t){var n=this;this.paused=!1,this.queuedEntries=[],this.recordStore={},this.callback=e;var r=t||{threshold:[]},i=r.root,o=r.rootMargin,s=r.threshold,a=r.ALLOW_CACHED_SCHEDULER,c=r.BACKGROUND_TAB_FIX,l=r.USE_NATIVE_IO,u="string"!=typeof(o=o||"0px")?function(e){return e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px"}(o):o;this.thresholds=s.sort((function(e){return e.ratio}));var d={root:i,rootMargin:u,threshold:this.thresholds.map((function(e){return e.ratio})),ALLOW_CACHED_SCHEDULER:a};this.usingNativeIo=!!l&&!!Nw.IntersectionObserver;var h=this.usingNativeIo?Nw.IntersectionObserver:e_;this.observer=new h((function(e){return n.internalCallback(e)}),d),this.onTabHidden=this._onTabHidden.bind(this),this.onWindowClosed=this._onWindowClosed.bind(this),this.onTabShown=this._onTabShown.bind(this),Nw.hasDOM&&(Yw("beforeunload",this.onWindowClosed),Yw("hide",this.onTabHidden),Yw("show",this.onTabShown),c&&(this.paused="visible"!==Nw.document.visibilityState))}e.prototype._onWindowClosed=function(){this.onTabHidden()},e.prototype.setAllHidden=function(){for(var e=Object.keys(this.recordStore),t=0;t<e.length;t++)this.handleRecordExiting(this.recordStore[e[t]]);this.flushQueuedEntries()},e.prototype._onTabHidden=function(){this.paused=!0,this.setAllHidden()},e.prototype.generateObserverTimestamp=function(){return this.usingNativeIo?Math.floor(performance.now()):Date.now()},e.prototype._onTabShown=function(){this.paused=!1;for(var e=Object.keys(this.recordStore),t=performance.now(),n=this.generateObserverTimestamp(),r=0;r<e.length;r++){var i=this.recordStore[e[r]].lastSeenEntry;if(i){var o=i.intersectionRatio,s=i.boundingClientRect,a=i.rootBounds,c=i.intersectionRect,l=i.isIntersecting,u=i.target;this.handleObserverEntry({intersectionRatio:o,boundingClientRect:s,time:n,highResTime:t,isIntersecting:l,rootBounds:a,intersectionRect:c,target:u})}}},e.prototype.internalCallback=function(e){e.forEach(this.handleObserverEntry.bind(this))},e.prototype.flushQueuedEntries=function(){this.queuedEntries.length>0&&(this.callback(this.queuedEntries),this.queuedEntries=[])},e.prototype.generateSpanielEntry=function(e,t){var n=e.intersectionRatio,r=e.rootBounds,i=e.boundingClientRect,o=e.intersectionRect,s=e.isIntersecting,a=e.time,c=e.target,l=this.recordStore[c.__spanielId],u=this.usingNativeIo?Math.floor((Nw.performance.timeOrigin||Nw.performance.timing.navigationStart)+a):a,d=this.usingNativeIo?a:e.highResTime;if(!d)throw new Error("Missing intersection entry timestamp");return{intersectionRatio:n,isIntersecting:s,unixTime:u,time:u,highResTime:d,rootBounds:r,boundingClientRect:i,intersectionRect:o,target:c,duration:0,visibleTime:s?u:-1,entering:!1,payload:l.payload,label:t.threshold.label,threshold:t.threshold}},e.prototype.handleRecordExiting=function(e){var t=this,n=Date.now(),r=performance.now();e.thresholdStates.forEach((function(i){var o=e.lastSeenEntry&&e.lastSeenEntry.boundingClientRect;t.handleThresholdExiting({intersectionRatio:-1,isIntersecting:!1,unixTime:n,time:n,highResTime:r,payload:e.payload,label:i.threshold.label,threshold:i.threshold,entering:!1,rootBounds:n_,boundingClientRect:o||n_,intersectionRect:n_,visibleTime:i.lastVisible.unixTime,duration:_w(r,i.lastVisible.highResTime),target:e.target},i),i.lastSatisfied=!1,i.visible=!1,i.lastEntry=null}))},e.prototype.handleThresholdExiting=function(e,t){var n=e.highResTime,r=!!t.threshold.time;t.lastSatisfied&&(!r||r&&t.visible)&&(e.duration=_w(n,t.lastVisible.highResTime),e.visibleTime=t.lastVisible.unixTime,e.entering=!1,t.visible=!1,this.queuedEntries.push(e)),clearTimeout(t.timeoutId)},e.prototype.handleObserverEntry=function(e){var t=this,n=e.target,r=this.recordStore[n.__spanielId];r&&(r.lastSeenEntry=e,this.paused||(r.thresholdStates.forEach((function(n){var r=!!n.threshold.time,i=t.generateSpanielEntry(e,n),o=e.intersectionRatio>=n.threshold.ratio,s="boolean"==typeof i.isIntersecting?i.isIntersecting:bw(e),a=o&&s;if(a!=n.lastSatisfied){if(a)if(i.entering=!0,n.lastVisible={highResTime:i.highResTime,unixTime:i.unixTime},r){var c=Number(setTimeout((function(){n.visible=!0,i.duration=_w(performance.now(),n.lastVisible.highResTime),i.visibleTime=n.lastVisible.unixTime,t.callback([i])}),n.threshold.time));n.timeoutId=c}else n.visible=!0,i.duration=Date.now()-n.lastVisible.unixTime,t.queuedEntries.push(i);else t.handleThresholdExiting(i,n);n.lastEntry=e,n.lastSatisfied=a}})),this.flushQueuedEntries()))},e.prototype.disconnect=function(){this.setAllHidden(),this.observer.disconnect(),this.recordStore={}},e.prototype.destroy=function(){this.disconnect(),Nw.hasDOM&&(Jw("beforeunload",this.onWindowClosed),Jw("hide",this.onTabHidden),Jw("show",this.onTabShown))},e.prototype.unobserve=function(e){var t=this,n=this.recordStore[e.__spanielId];n&&(delete this.recordStore[e.__spanielId],this.observer.unobserve(e),Zw((function(){t.handleRecordExiting(n),t.flushQueuedEntries()})))},e.prototype.observe=function(e,t){var n=e,r=n.__spanielId=n.__spanielId||qw();return this.recordStore[r]={target:n,payload:t,lastSeenEntry:null,thresholdStates:this.thresholds.map((function(e){return{lastSatisfied:!1,lastEntry:null,threshold:e,visible:!1,lastVisible:{unixTime:0,highResTime:-1}}}))},this.observer.observe(n),r}}();Nw.IntersectionObserver&&Nw.IntersectionObserver;const r_="show-more-less";".".concat(r_,"__list"),".".concat(r_,"__more-button"),".".concat(r_,"__less-button"),"".concat(r_,"__list--hide-after"),"".concat(r_,"__button--hide");const i_="accordion-item__trigger";".".concat(i_);function o_(e){return t=>t.type&&t.type.toLowerCase()===e.toLowerCase()}o_("action"),o_("openpage"),o_("openlink");var s_;!function(e){e.ProductName="productName",e.UntrackedResponseCodes="untrackedResponseCodes",e.TrackedResponseCodes="trackedResponseCodes",e.ClientSensorGroupName="clientSensorGroupName"}(s_||(s_={}));new Set(Object.values(s_));class a_ extends Error{constructor(e){super(e),Object.setPrototypeOf(this,a_.prototype)}}var c_;!function(e){e.ProductName="productName",e.CustomTrackingId="customTrackingId",e.ClientSensorGroupName="clientSensorGroupName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides"}(c_||(c_={})),new Set(Object.values(c_));var l_={exports:{}};!function(e,t){!function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},d.apply(null,arguments)}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||!h(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},p(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function g(e){return function(){var t,n=c(e);if(u()){var r=c(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return m(this,t)}}function v(e){"complete"===document.readyState?e():window.addEventListener("load",(function(){e()}))}function y(e,t){var n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}function E(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}(function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window.CustomEvent=e})(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}var e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();var b="990339570472-k6nqn1tpmitg8pui82bfaun3jrpmiuhs.apps.googleusercontent.com",w={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},_="https://accounts.google.com",T={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},S={INIT_FAILED:"idpiframe_initialization_failed",POPUP_CLOSED_BY_USER:"popup_closed_by_user",ACCESS_DENIED:"access_denied",IMMEDIATE_FAILED:"immediate_failed"},I={SIGN_IN:"signin",SIGN_UP:"signup",USE:"use"},C={DISPLAY:"display",SKIPPED:"skipped",DISMISSED:"dismissed"},k={NOT_DISPLAYED:{BROWSER_NOT_SUPPORTED:"browser_not_supported",INVALID_CLIENT:"invalid_client",MISSING_CLIENT_ID:"missing_client_id",OPT_OUT_OR_NO_SESSION:"opt_out_or_no_session",SECURE_HTTP_REQUIRED:"secure_http_required",SUPPRESSED_BY_USER:"suppressed_by_user",UNREGISTERED_ORIGIN:"unregistered_origin",UNKNOWN_REASON:"unknown_reason"},SKIPPED:{AUTO_CANCEL:"auto_cancel",USER_CANCEL:"user_cancel",TAP_OUTSIDE:"tap_outside",ISSUING_FAILED:"issuing_failed"},DISMISSED:{CREDENTIAL_RETURNED:"credential_returned",CANCEL_CALLED:"cancel_called",FLOW_RESTARTED:"flow_restarted"}},A="com.linkedin.LinkedIn.service",R="https://www.linkedin.com/redirect",O="https://www.linkedin-ei.com/redirect",N={DISMISSED:"DISMISSED",INITIALIZED:"INITIALIZED",SNAPPLE_USER_FETCHED:"SNAPPLE_USER_FETCHED"},L={signin:{GOT:"signin",GSI_BUTTON:"signin_with"},signup:{GOT:"signup",GSI_BUTTON:"signup_with"},use:{GOT:"use",GSI_BUTTON:"continue_with"}},P=w.GOOGLE_ERROR,x=w.GOOGLE_USER_FETCHED,M=w.INITIALIZED,D=T.INITIALIZATION,U=T.AUTHENTICATION,B=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.libSrcPath,s=e.el,a=e.clientId,c=void 0===a?b:a;if(t(this,i),r=n.call(this),!s)throw TypeError("DOM element for Sign In button is required");if(r.libSrcPath=o,r.el=s,r.clientId=c,window.gapi)r._initializeGoogleAuth();else{if(!o)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");v((function(){y(o,r._initializeGoogleAuth.bind(f(r)))}))}return r}return r(i,[{key:"_initializeGoogleAuth",value:function(){var e=this;return gapi.auth2.init({client_id:this.clientId}).then((function(t){e.auth2=t,e._attachSignIn();var n=new CustomEvent(M);e.dispatchEvent(n)})).catch((function(t){var n={type:D,message:t.error},r=new CustomEvent(P,{detail:n});e.dispatchEvent(r)}))}},{key:"_attachSignIn",value:function(){var e=this;this.auth2.attachClickHandler(this.el,{},(function(t){var n=new CustomEvent(x,{detail:e._getGoogleUserInformation(t)});e.dispatchEvent(n)}),(function(t){var n={type:U,message:t.error},r=new CustomEvent(P,{detail:n});e.dispatchEvent(r)}))}},{key:"_getGoogleUserInformation",value:function(e){var t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}]),i}(p(EventTarget)),F=w.GOOGLE_USER_FETCHED,q=w.PROMPT_MOMENT,H=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.autoSelect,s=void 0!==o&&o,a=e.libSrcPath,c=e.containerId,l=e.context,u=e.clientId,d=void 0===u?b:u,h=e.cancelOnTapOutside,p=void 0===h||h;if(t(this,i),r=n.call(this),!l)throw TypeError("context param is required to determine the message to show in Google One Tap");if(r.autoSelect=s,r.libSrcPath=a,r.containerId=c,r.cancelOnTapOutside=p,r.clientId=d,r.context=l,window.google&&window.google.accounts&&window.google.accounts.id)r._onGoogleApiLoad();else{if(!a)throw TypeError("Google One Tap lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(a,r._onGoogleApiLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onGoogleApiLoad",value:function(){var e=this;return google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.containerId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:this.context}),Promise.resolve().then((function(){return e.promptOneTap()}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=this.context===I.SIGN_UP?this._getBasicProfile(t):{idToken:t};if(n){n.selectedBy=e.select_by;var r=new CustomEvent(F,{detail:n});this.dispatchEvent(r)}}},{key:"_getBasicProfile",value:function(e){try{var t=new gapi.auth2.BasicProfile({id_token:e});return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:e,imageUrl:t.getImageUrl()}}catch(e){return this._dispatchSkippedEvent(e.message),null}}},{key:"_dispatchSkippedEvent",value:function(e){var t={message:e,reason:k.SKIPPED.ISSUING_FAILED,type:C.SKIPPED},n=new CustomEvent(q,{detail:t});this.dispatchEvent(n)}},{key:"promptOneTap",value:function(){var e=this;google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},r=new CustomEvent(q,{detail:n});e.dispatchEvent(r),e.checkIfDesktopAndApplyClass()}))}},{key:"hideOneTap",value:function(){google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),i}(p(EventTarget)),G={exports:{}},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function z(e){this.message=e}function W(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new z("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r=j.indexOf(r);return s}z.prototype=new Error,z.prototype.name="InvalidCharacterError";var K="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||W;function V(e){return decodeURIComponent(K(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}var Q=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return V(t)}catch(e){return K(t)}};function Y(e){this.message=e}Y.prototype=new Error,Y.prototype.name="InvalidTokenError",G.exports=function(e,t){if("string"!=typeof e)throw new Y("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Q(e.split(".")[n]))}catch(e){throw new Y("Invalid token specified: "+e.message)}},G.exports.InvalidTokenError=Y;var J=G.exports,X=w.GOOGLE_USER_FETCHED,Z=w.PROMPT_MOMENT,$=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.autoSelect,s=void 0!==o&&o,a=e.libSrcPath,c=e.clientId,l=void 0===c?b:c,u=e.showOneTap,d=void 0===u||u,h=e.promptParentId,p=e.buttonParentEl,m=e.gsiButtonConfig,g=void 0===m?{}:m,w=e.context,_=void 0===w?"signin":w,T=e.cancelOnTapOutside,S=void 0===T||T;if(t(this,i),(r=n.call(this)).autoSelect=s,r.libSrcPath=a,r.clientId=l,r.showOneTap=d,r.promptParentId=h,r.buttonParentEl=p,r.gsiButtonConfig=g,r.cancelOnTapOutside=S,r.context=_,r.isLibraryLoaded=E(),window.google&&window.google.accounts&&window.google.accounts.id)r._onGoogleApiLoad();else{if(!a)throw TypeError("GSI lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(a,r._onGoogleApiLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onGoogleApiLoad",value:function(){var e=this;return this.isLibraryLoaded.resolve(),window.google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.promptParentId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:L[this.context].GOT}),Promise.resolve().then((function(){return e.showGsiUI()}))}},{key:"showGsiUI",value:function(){this.buttonParentEl&&this.renderGSIButton(this.buttonParentEl,this.gsiButtonConfig),this.showOneTap&&this.promptOneTap()}},{key:"renderGSIButton",value:function(e,t){var n=this,r=t.logo_alignment,i=void 0===r?"center":r,o=t.shape,s=void 0===o?"pill":o,a=t.size,c=void 0===a?"large":a,l=t.text,u=t.theme,d=t.type,h=t.width,p=void 0===h?"400px":h;return this.isLibraryLoaded.then((function(){var t=l||L[n.context].GSI_BUTTON;window.google.accounts.id.renderButton(e,{logo_alignment:i,shape:s,size:c,text:t,theme:u,type:d,width:p})}))}},{key:"promptOneTap",value:function(){var e=this;return this.isLibraryLoaded.then((function(){window.google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},r=new CustomEvent(Z,{detail:n});e.dispatchEvent(r),e.checkIfDesktopAndApplyClass()}))}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=e.select_by,r=J(t),i=s({},this._getBasicProfile(r),{idToken:t,selectedBy:n});if(i){var o=new CustomEvent(X,{detail:i});this.dispatchEvent(o)}}},{key:"_getBasicProfile",value:function(e){return{email:e.email,familyName:e.family_name,givenName:e.given_name,id:e.sub,imageUrl:e.picture}}},{key:"hideOneTap",value:function(){window.google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),i}(p(EventTarget)),ee=N.DISMISSED,te=N.INITIALIZED,ne=N.SNAPPLE_USER_FETCHED,re=function(e){a(i,e);var n=g(i);function i(e){var r,o=e.libSrcPath,s=e.snappleCTA,a=e.clientId,c=void 0===a?A:a,l=e.redirectURI;if(t(this,i),r=n.call(this),!s)throw TypeError("snappleCTA is required. Please pass the correct CTA element to this Snapple Constructor");if(r.libSrcPath=o,r.clientId=c,r.redirectURI=r._getRedirectURL(l),r.snappleCTA=s,window.AppleID&&window.AppleID.auth&&window.AppleID.auth.init)r._onSnappleLibLoad();else{if(!o)throw TypeError("Snapple lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(o,r._onSnappleLibLoad.bind(f(r)))}))}return r}return r(i,[{key:"_onSnappleLibLoad",value:function(){window.AppleID.auth.init({clientId:this.clientId,scope:"name email",redirectURI:this.redirectURI,usePopup:!0});var e=new CustomEvent(te);return this.dispatchEvent(e),Promise.resolve(this._attachEvents())}},{key:"_attachEvents",value:function(){var e=this;this.snappleCTA.addEventListener("click",(function(){return window.AppleID.auth.signIn().then((function(t){var n=new CustomEvent(ne,{detail:t});e.dispatchEvent(n)})).catch((function(t){var n=new CustomEvent(ee,{detail:{type:ee,message:t}});e.dispatchEvent(n)}))}))}},{key:"_getRedirectURL",value:function(e){var t=window.location.host.indexOf("linkedin.com")>-1;return this.redirectURI?e:t?R:O}}]),i}(p(EventTarget)),ie={CLIENT_ID:b,EVENTS:w,GOOGLE_ACCOUNT_URL:_,GSI_ERROR_TYPES:T,GSI_ERROR_MESSAGES:S,GOT_CONTEXTS:I,GOT_PROMPT_MOMENT_REASONS:k,GOT_PROMPT_MOMENT_TYPES:C};e.GoogleGsi=$,e.GoogleOneTap=H,e.GoogleSignIn=B,e.GoogleSignInConstants=ie,e.SnappleAuth=re,e.SnappleEvents=N,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,l_.exports);const{EVENTS:u_,GOT_CONTEXTS:d_,GOT_PROMPT_MOMENT_REASONS:h_,GOT_PROMPT_MOMENT_TYPES:p_}=l_.exports.GoogleSignInConstants,{GOOGLE_USER_FETCHED:f_,PROMPT_MOMENT:m_}=u_,{SIGN_IN:g_}=d_;h_.NOT_DISPLAYED.BROWSER_NOT_SUPPORTED,h_.NOT_DISPLAYED.OPT_OUT_OR_NO_SESSION,h_.NOT_DISPLAYED.SUPPRESSED_BY_USER,h_.SKIPPED.AUTO_CANCEL,h_.SKIPPED.TAP_OUTSIDE,h_.SKIPPED.USER_CANCEL;const v_="filter-values-container__filter-value";".".concat(v_," input"),".".concat(v_," input[type=radio]:checked");const y_="badgesreceived";class E_{constructor(){let{badgeSel:e="[data-badge-without-count-source]",badgeCountSel:t="[data-badge-source]",cacheBustHrefSel:n='[data-update-cache-bust-url="true"]'}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._counts={},this.badgeCountEls=document.querySelectorAll(t),this.badgeWithoutCountEls=document.querySelectorAll(e),this.cacheBustHrefEls=document.querySelectorAll(n),this.feedLastUpdatedTimeInDom=jb("feedLastUpdatedTime")}resetBadges(){uE(this.badgeCountEls),uE(this.badgeWithoutCountEls)}getBadges(){const e=this.feedLastUpdatedTimeInDom||"";return wf(e?Jp(Vb,"feedQueryAfterTime",e):Vb).then((t=>{const n=JSON.parse(t.responseText);$p(window,y_,{feedsCount:n.feedsCount}),this._counts=n;const r=hE();return"messaging"===r&&(this._counts.messagingCount=0),"feed"===r||e||(this._counts.feedsCount=2),this._counts.feedsCount=this._counts.feedsCount>=2?1:0,this._counts.lastUpdatedAt=(new Date).getTime(),this._updateCacheBustUrl(this._counts.feedsCount>0),this._renderBadges(),this})).catch((()=>{$p(window,y_,{feedsCount:0})}))}_renderBadges(){this.badgeCountEls.forEach((e=>{this._setBadgeCount(e,this._counts[e.dataset.badgeSource])})),this.badgeWithoutCountEls.forEach((e=>{this._setBadge(e,this._counts[e.dataset.badgeWithoutCountSource])}))}_setBadgeCount(e,t){if(!e)return;const n=e.innerHTML;null==n&&t>0?(e.textContent=t,lE(e)):t!==n&&(t>0?(e.textContent=t,lE(e),e.classList.toggle("singular",t<=1)):cE(e))}_setBadge(e,t){e&&(t>0?(lE(e),e.classList.add("badge-with-no-count")):cE(e))}_updateCacheBustUrl(e){jb("isSWCacheEnabled")&&this.cacheBustHrefEls&&this.cacheBustHrefEls.forEach((t=>{t.href=ub(e?Jp(t.href,"pwa","noCache"):nf(t.href))}))}}!function(){let e}();const b_="_lastUpdatedAt";class w_{constructor(e){this.storage=void 0===e?localStorage:e}read(e){const t=this.storage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){console.error(e)}return null}write(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}}remove(e){try{this.storage.removeItem(e)}catch(e){console.error(e)}}readWithExpiry(e,t){const n=this.read(e+b_);return n&&(new Date).getTime()-n<t?this.read(e):(this.removeWithExpiry(e),null)}writeWithExpiry(e,t){this.write(e,t),this.write(e+b_,(new Date).getTime())}removeWithExpiry(e){this.remove(e),this.remove(e+b_)}}w_.instance||(w_.instance=new w_(localStorage)),w_.instance,w_.sessionInstance||(w_.sessionInstance=new w_(sessionStorage)),w_.sessionInstance;let __;Gp.getInstance().addUnloadCallback((()=>{__&&__.close(),cE(document.querySelector("#discard-post-modal")),cE(document.querySelector("#visibility-settings-modal")),cE(document.querySelector("#max-images-prompt-modal")),cE(document.querySelector("#retry-upload-modal"))}));function T_(){var e,t;null===(e=window.lazyloader)||void 0===e||null===(t=e.then)||void 0===t||t.call(e,(e=>{e.refreshLoader()}))}const S_="selected";function I_(e){const t=e.target.value;e.target.classList.toggle(S_,t),e.target.focus()}function C_(e){if(e){const{id:t,labelText:n}=e.dataset;if(!t||!n)throw new Error("mandatory fields missing.");const r=e.querySelector("select");r&&(r.addEventListener("change",I_),r.value&&r.classList.add(S_))}else{document.querySelectorAll(".dropdown-container").forEach(C_)}T_()}const k_="input",A_="change",R_="focus",O_="input:cleared",N_="selected";function L_(e){const t=e.currentTarget.parentElement.querySelector(k_);t.value="",t.classList.remove(N_),t.focus(),$p(t,O_),$p(t,A_)}function P_(e){const t=e.currentTarget.parentElement,n=t.dataset.placeholder,r=t.querySelector(k_);n&&r.setAttribute("placeholder",n),r.removeEventListener(R_,P_)}function x_(e){const t=e.target.value;e.target.classList.toggle(N_,t)}function M_(e){if(e){const{id:t,labelText:n}=e.dataset;if(!t||!n)throw new Error("mandatory fields missing.");const r=e.querySelector(k_),i=e.querySelector(".right");r.addEventListener(A_,x_),r.addEventListener(R_,P_),i&&i.addEventListener("click",L_)}else{document.querySelectorAll(".input-container").forEach(M_)}T_()}const D_="MinLength",U_="MaxLength",B_="Regex",F_="Required",q_="RegexAllow",H_={SPECIAL_CHARS:{pattern:/([!@#$%^&*+=|<>?:;\\])/,errorCode:"SpecialChars"},URL_KEYWORDS:{pattern:/(https?(:\/\/)?|www\.)/i,errorCode:"UrlKeywords"},EMAIL:{pattern:new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'),errorCode:"Email"},PHONE_NUMBER:{pattern:/(?:^((\+(?=[0-9]{1,4}))?))[0-9]{5,14}$/,errorCode:"PhoneNumber"}},G_="EMAIL_ADDRESS",j_="PHONE_NUMBER",z_="OTHER",W_="consentUnchecked",K_={INPUT:"INPUT",SELECT:"SELECT"},V_="text",Q_="checkbox";function Y_(e){return Object.keys(K_).includes(e.tagName)}function J_(e){const t=function(e){const t=[],{minLength:n,maxLength:r,inputType:i}=e.dataset;let o;switch(i){case z_:n&&t.push({type:D_,MinLength:n}),r&&t.push({type:U_,MaxLength:r});break;case G_:t.push({type:q_,RegexAllow:[H_.EMAIL]});break;case j_:o=e.value.replace(/ /g,""),t.push({type:q_,RegexAllow:[H_.PHONE_NUMBER]})}return{value:o||e.value,ruleSet:t}}(e),n=t.value;return t.ruleSet.map((e=>((e,t)=>{const n=t.trim();if(e)switch(e.type){case F_:if(0===n.length)return F_;break;case D_:if(n.length<e[D_])return D_;break;case U_:if(n.length>e[U_])return U_;break;case B_:for(let t=0;t<e[B_].length;t++)if(e[B_][t].pattern.test(n))return B_+e[B_][t].errorCode;break;case q_:for(let t=0;t<e[q_].length;t++)if(!e[q_][t].pattern.test(n))return q_+e[q_][t].errorCode}})(e,n))).filter((e=>!!e))}function X_(e,t){return t&&!e?W_:null}const Z_=(e,t)=>parseInt(t.split(e)[1]);function $_(e,t){return document.querySelector("#".concat(e.id,"-strings")).dataset["str".concat(t)]}const eT=(e,t)=>({questionId:e,textQuestionAnswer:{answer:t}}),tT=(e,t)=>({questionId:e,multipleChoiceAnswer:{options:[{index:t}]}});function nT(e){const t=e.id+"_",n=t+"q",r=t+"c";return new Promise(((t,i)=>{const o=[];let s,a;const{urn:c}=e.dataset;a=e.dataset.leadTrackingParams,a||(s=e.closest("[data-lead-tracking-params]"),a=s.dataset.leadTrackingParams);const l={formResponse:{adFormUrn:c,submittedAt:Date.now(),answers:[],consentResponses:[]},trackingUrl:a,trackingAction:"LEAD_FORM_CLICK"};return Array.from(e).filter(Y_).forEach((e=>{let t;if(e.tagName===K_.SELECT)t=((e,t)=>{const n=Z_(e,t.id),r=t.selectedIndex;return{response:tT(n,r)}})(n,e),l.formResponse.answers.push(t.response);else if(e.type===V_)if(t=((e,t)=>{const n=Z_(e,t.id),r=J_(t);return 0!==r.length?{errors:r}:{response:eT(n,t.value)}})(n,e),t.response)l.formResponse.answers.push(t.response);else{const n=t.errors[0];o.push({element:e,errorType:n})}else e.type===Q_&&(t=((e,t,n,r)=>{const i=Z_(e,t),o=X_(n,r);return o?{errors:o}:{response:{consentId:i,accepted:n}}})(r,e.id,e.checked,e.required),t.response?l.formResponse.consentResponses.push(t.response):o.push({element:e,errorType:t.errors}))})),0===o.length?t(l):i(o)}))}const rT=".lead-gen-input-container",iT=".error-text",oT="input-error",sT="aria-invalid",aT="role",cT="click";class lT{constructor(e){let{isLivePreview:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("containerEl is not present");M_(),C_(),pE("form-modal-description__content-truncated",".form-modal-description__btn-truncation",e),this.containerEl=e,this.formEl=e.querySelector("form");const n=e.querySelector(".lead-gen-modal");this.modal=new Yb(n,{triggerByOutletEl:!t,shouldMoveToTopContainer:!1}),t?this.showForm():this._bindEvents()}showForm(){this.modal.open()}hideForm(){this.modal.close()}_clearFormErrors(){Array.from(this.formEl).filter(Y_).map((e=>this._hideError(e)))}_submitForm(){this._clearFormErrors(),nT(this.formEl).then((e=>{$p(this.containerEl,this.constructor.LEAD_GEN_SUBMIT_EVENT,e),this.hideForm()})).catch((e=>{e.forEach((e=>this._setAndShowError(e.element,e.errorType)));const t=e[0];if(t){t.element.focus();Ef($_(t.element,t.errorType),yf.ASSERTIVE)}}))}_hideError(e){if(e){const t=e.closest(rT),n=t.querySelector(iT);cE(n),t.classList.remove(oT),e.removeAttribute(sT),n.removeAttribute(aT)}}_setAndShowError(e,t){if(e){const n=$_(e,t),r=e.closest(rT),i=r.querySelector(iT);i.innerText=n,lE(i),r.classList.add(oT),i.setAttribute(aT,"alert"),e.setAttribute(sT,"true")}}_handleInputError(e){let t;if(this._hideError(e),e.type===Q_)t=X_(e.checked,e.required);else if(e.type===V_){const n=J_(e);n&&n.length&&(t=n[0])}t&&this._setAndShowError(e,t)}_bindEvents(){this.formEl.addEventListener(cT,(e=>{e.target.classList.contains("checkbox-input")&&this._handleInputError(e.target)})),this.formEl.addEventListener(O_,(e=>{this._handleInputError(e.target)})),this.formEl.addEventListener("keyup",(e=>{e.target.classList.contains("inputbox-input")&&this._handleInputError(e.target)})),this.formEl.querySelector(".submit-btn").addEventListener(cT,(e=>{e.preventDefault(),e.stopPropagation(),this._submitForm()}))}}Lf(lT,"LEAD_GEN_SUBMIT_EVENT","FormModal:LeadGen:submit");function uT(){let{endpoint:e,headers:t={"Content-Type":"application/json"},queryId:n,variables:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wf(e,{method:"POST",headers:t,postData:JSON.stringify({queryId:n,variables:r})})}class dT{constructor(e){if(!e)throw Error("Missing FollowMutation endpoint");this.endpoint=e}execute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};return uT({endpoint:this.endpoint,queryId:dT.query,variables:{followState:e,to:t}}).then((e=>{const{responseText:t}=e;n(JSON.parse(t).graphQL)})).catch(r)}}Lf(dT,"query","cbed571fffd8cea15209aed8d44e6759");const hT=Object.freeze({APPRECIATION:"APPRECIATION",ASSENT:"ASSENT",CELEBRATION:"CELEBRATION",EMPATHY:"EMPATHY",ENTERTAINMENT:"ENTERTAINMENT",INSPIRATION:"INSPIRATION",INTEREST:"INTEREST",LIKE:"LIKE",MAYBE:"MAYBE",PRAISE:"PRAISE",UNKNOWN:"UNKNOWN",USEFULNESS:"USEFULNESS"});Object.values(hT);const pT="CREATE",fT="UPDATE";class mT{constructor(e){if(!e)throw Error("Missing ReactionMutation endpoint");this.endpoint=e}execute(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const o={endpoint:this.endpoint,queryId:mT.query,variables:{entityUrn:t,action:n}};return n!==pT&&n!==fT||(o.variables.reactionType=e),uT(o).then((e=>{const{responseText:t}=e;r(JSON.parse(t).graphQL)})).catch(i)}}Lf(mT,"query","070ee23fd6fb77f92ac08f964ae1df29");class gT extends HTMLElement{connectedCallback(){this.update(),this.syncA11yCaption(),this.setAttribute("aria-hidden","true"),ssr_ui_lib_es_handleLargeIcon(this)}disconnectedCallback(){this.removeA11yCaption()}static get observedAttributes(){return["a11y-text","type","class"]}attributeChangedCallback(e){ssr_ui_lib_es_ATTRS_TRIGGERING_UPDATE.indexOf(e)>-1&&this.update(),"a11y-text"===e&&this.syncA11yCaption(),"type"!==e&&"class"!==e||ssr_ui_lib_es_handleLargeIcon(this)}update(){const e=this.getAttribute("type"),t=this.getAttribute("category")||"ui",n="true"===this.dataset.inlineSvg;(e||t)&&(n||ssr_ui_lib_es_setIcon(this,t,e))}installA11yCaption(){const{parentNode:e,a11yCaption:t}=this;e&&t&&!t.parentNode&&e.insertBefore(t,this)}removeA11yCaption(){const{a11yCaption:e}=this;e&&e.parentNode&&e.parentNode.removeChild(e),this.a11yCaption=null}syncA11yCaption(){const{a11yCaption:e}=this,t=this.getAttribute("a11y-text");t?e?e.textContent=t:(this.a11yCaption=(e=>{const t=document.createElement("span");return t.setAttribute("class","a11y-text"),t.textContent=e,t})(t),this.installA11yCaption()):this.removeA11yCaption()}}function vT(e,t,n,r){var i="";if(n){var o=new Date;o.setTime(o.getTime()+n),i="expires=".concat(o.toUTCString())}rf.getCookie(e)&&function(e){e&&(document.cookie="".concat(e,"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;"))}(e);var s="".concat(e,"=").concat(t,";").concat(i,";path=/;").concat(r?"domain=.".concat(r):""),a="".concat(s,";").concat("secure;samesite=none");document.cookie=a,rf.getCookie(e)||(document.cookie=s)}var yT,ET="dark",bT="light",wT="system",_T="li_theme",TT=[bT,ET,wT],ST=bT.toUpperCase();function IT(e){document.documentElement.classList.toggle("dark",e),ST=(e?ET:bT).toUpperCase()}function CT(){if(window.matchMedia){IT(window.matchMedia("(prefers-color-scheme:dark)").matches);try{window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",(e=>IT(e.matches)))}catch(e){window.matchMedia("(prefers-color-scheme:dark)").addListener((e=>IT(e.matches)))}}}function kT(e){localStorage.setItem("mobileWebTheme",e)}function AT(){return ST}function RT(){var e=ca("darkModeLixValue");if(e&&"control"!==e){var t=H.getQueryParam(window.location.href,_T);if(t)return IT(ET===t),void kT(ET===t?ET:bT);var n="on"===e?wT:bT,r=(ST=H.getCookie(_T))&&TT.includes(ST)?ST:n;r===wT?CT():IT(r===ET),kT(r),function(e,t){var n="li_theme_set",r="user",i=["app",r],o="app",s=H.getCookie(n);s&&i.includes(s)?o=s:("on"===e&&t!==wT||"enabled-light"===e&&t!==bT)&&(o=r),vT(n,o,15552e6)}(e,r)}}const OT=(yT||(yT=new sa),yT);var NT,LT,PT,xT="Reaction:newReaction:success",MT="Reaction:deleteReaction:success";function DT(){var e,t=ca("articleViewEventData");t&&(e=JSON.parse(t),window.tracking.then((t=>{var n,r;if(e&&e.linkedInArticleUrn&&e.articleUrn){var i=(null==t||null===(n=t.getCurrentContext())||void 0===n?void 0:n.pageInstance)||(null==t||null===(r=t.config)||void 0===r?void 0:r.initialPageInstance);if(i){var o={articleId:e.articleId,authorId:e.authorId,linkedInArticleUrn:e.linkedInArticleUrn,articleUrn:e.articleUrn,trackablePulseObject:{trackingId:i.trackingId,objectUrn:e.articleUrn},header:{pageInstance:i,time:Date.now()}};t.fireTrackingEvent("ArticleViewEvent",o)}else console.warn("Missing pageInstance - not firing ArticleViewEvent for ".concat(e.articleUrn))}else console.warn("Missing article view data, not firing ArticleViewEvent")})).catch((()=>{})))}function UT(){ca("isMemberDesktop")&&function(){var e=H.getCookie(_T);e===wT?CT():IT(e===ET)}()}function BT(){var e;window.addEventListener("beforeunload",(e=Date.now(),function(){var t,n;t=Date.now()-e,n=ca("articleUrn"),window.tracking.then((e=>{var r=e.getCurrentContext().pageInstance.trackingId;e.fireTrackingEvent("ArticleReadEvent",{dwellTime:t,articleUrn:n,articleTrackingId:r})}))}))}function FT(){var e,t,n;BT(),(e=document.querySelector(".social-share"))&&new ha(e),new hu,new Qd,document.querySelectorAll(".ellipsis-menu").forEach((e=>{new pu(e)})),function(){var e=document.querySelector(".google-one-tap");if(e){var t=!0===ca("useGoogleAutoLogin")&&null===H.getCookie("li_g_recent_logout");new Fh(e,{isAutoSelectEnabled:t})}}(),DT(),document.body.querySelectorAll("img[data-li-src], iframe[data-li-src]").forEach((e=>{var t=e.getAttribute("data-li-src").replace(/^http:\/\//i,"//");e.classList.add("lazy-load"),e.setAttribute("data-delayed-url",t),e.removeAttribute("data-li-src")})),null===(t=window.lazyloader)||void 0===t||t.then((e=>e.refreshLoader())),UT(),(n=document.querySelector(".more-articles"))&&new Yd(n)}function qT(){!function(){new Iu;var e=document.querySelector("[data-ellipsis-menu-trigger]");e&&new pe(e,{elementToFocus:document.querySelector(".ellipsis-menu__item-button")})}(),new HT}class HT{constructor(){this.bindEvents(),new Gd}bindEvents(){document.body.addEventListener(Hd.NEW_COMMENT_CREATE_EVENT,(e=>{var t=Date.now();(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fe(e,{method:"POST",headers:{"content-type":"application/json"},postData:JSON.stringify({queryId:t,variables:n})}).then((e=>{var t=e.status,n=e.responseText;return 200===t?JSON.parse(n).graphQL:Promise.reject(t)}))})("/pulse/api/runQuery",HT.query,{threadUrn:e.detail.threadUrn,text:e.detail.comment,createdAt:t}).then((e=>{var t,n;H.dispatchCustomEvent(document.body,Hd.NEW_COMMENT_SUCCESS_EVENT,{entityUrn:null==e||null===(t=e.postComment)||void 0===t||null===(n=t.comment)||void 0===n?void 0:n.threadUrn,graphqlResponse:null==e?void 0:e.postComment})})).catch((e=>{H.dispatchCustomEvent(document.body,Hd.NEW_COMMENT_FAIL_EVENT,e),OT.trigger("error",ca("commentPostError"))}))}))}}function GT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zT(e,t,n){return t&&jT(e.prototype,t),n&&jT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WT(e){return WT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WT(e)}function KT(e,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KT(e,t)}function VT(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function QT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=WT(e);if(t){var i=WT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VT(this,n)}}function YT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||XT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JT(e){return function(e){if(Array.isArray(e))return ZT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||XT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XT(e,t){if(e){if("string"==typeof e)return ZT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZT(e,t):void 0}}function ZT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}PT="88c1c5972e6aa9081d6c0885a442138b",(LT="query")in(NT=HT)?Object.defineProperty(NT,LT,{value:PT,enumerable:!0,configurable:!0,writable:!0}):NT[LT]=PT;var $T="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",eS=function(){if("undefined"==typeof document)return!0;return"textContent"in document.createElement("div")}()?"textContent":"innerText",tS=["b","del","em","i","s","strong","sub","sup"],nS=tS.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),rS=[$T,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|"),iS=zT((function e(){GT(this,e)}));function oS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var sS=function(){var e=/[&<>"'\u0000\\=]/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"","\\":"&#92;","=":"&#61;"};return function(n){return null==n?null:n.toString().replace(e,(function(e){return function(e){return e in t}(e)?t[e]:e}))}}(),aS=function(){var e,t="undefined"!=typeof document?document.createElement("div"):null,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi,r={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};function i(e){if(function(e){return oS(r,e)}(e))return r[e];if(!t)return e;t.innerHTML="&".concat(e,";");var n=t[eS];return r[e]=n,n}return e="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):""},function(t){return null==t?null:(t+"").replace(n,(function(t,n,r,o){return n?i(n):r||o?e(parseInt(r||o,r?16:10)||65533):""}))}}();function cS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",n="undefined"!=typeof window;if(n&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}function lS(e){return/[<&]/.test(e)}var uS="[ \t\r\n]*";function dS(e){e=Array.isArray(e)?e:[e];var t,n,r,i=0,o="<(?!/?";return o+="(?:",e.forEach((function(e,s){t=e.tags||nS,n=e.attrs||rS,r=e.checkUrlAttrs||!1,0!==s&&(o+="|"),o+="(?:"+t.join("|")+")",o+="(?:",o+=uS,o+="|[ \t\r\n]+",o+="(?:(?:",o+="(?:".concat(n,")(?:=([\"'])[^'\"<>]*\\").concat(++i,")?"),r&&(o+="|(?:".concat("href|src",")=([\"'])(?:(?:").concat("https?|ftp|mailto|invalid",")(?::|&#(?:58|x3a);)|(?:").concat("data:image/(?:gif|jpg|jpeg|png);base64,",")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\").concat(++i)),o+=")[ \t\r\n]*)+",o+=")"})),o+=")",o+="/?>)",new RegExp(o,"i")}function hS(e){return dS({tags:e=e||nS,checkUrlAttrs:!0})}function pS(e,t){var n=(t=t||{}).allowTags,r=!1!==t.hasCustomElementMarkup;return n&&n.length>0?!hS(n).test(e):r?!pS.R_UNSAFE_CUSTOM_ELEMENT.test(e):!pS.R_UNSAFE_HTML.test(e)}function fS(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}pS.R_UNSAFE_HTML=hS(),pS.R_UNSAFE_CUSTOM_ELEMENT=function(){var e={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"};return dS([{tags:nS,checkUrlAttrs:!0},{tags:[e.tag],attrs:[$T,e.attrs].join("|"),checkUrlAttrs:!1}])}();var mS={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},gS=/<([\w:]+)/;function vS(e){return e in mS}function yS(e,t){var n,r,i,o,s,a=t.createDocumentFragment(),c=[];for(i=0,s=e.length;i<s;i++)if(r=e[i])if("string"==typeof r){n=n||a.appendChild(t.createElement("div"));var l=YT(gS.exec(r)||["",""],2)[1];if(void 0!==l){var u=l.toLowerCase(),d=vS(u)&&mS[u]||mS._default;for(_S(n,d[1]+r+d[2]),o=d[0];o--;)n&&n.lastChild&&n.lastChild.nodeType===Node.ELEMENT_NODE&&(n=n.lastChild);c.push.apply(c,JT(Array.from(n.childNodes))),(n=a.firstChild)&&(n.textContent="")}}else r instanceof Node&&c.push(r);for(a.textContent="",r=c[i=0];r;)a.appendChild(r),r=c[++i];return a}function ES(e,t,n){e=e.toString();var r=t?function(e,t){var n={};return e.replace(/\{([^}]+)\}/g,(function(e,r){if(oS(n,r))return n[r];if(oS(t,r)){var i=t[r],o="string"==typeof i;if(!o&&!(i instanceof iS)&&!("number"==typeof i))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");return i?(i=o?"".concat(sS(i)):i.toString(),n[r]=i,i):e}return e}))}(e,t):e,i=e;return lS(r)&&!pS(r,n)&&(r=fS(r),cS("Content contains tags or attributes that are not allowed:\nContent: "+i,"error")),r}var bS=ES,wS=ES;function _S(e,t,n){var r=ES(t,n);return r&&lS(r)?e.innerHTML=r:r&&(e[eS]=r),r}var TS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KT(e,t)}(n,e);var t=QT(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return GT(this,n),(r=t.call(this)).options=i,r.tags=r.options.allowTags?r.options.allowTags.flat():[],r.str=e,r}return zT(n,[{key:"toString",value:function(){var e=this.str,t=this.strValue,n=e;return void 0!==t?t:(pS(e,{allowTags:this.tags,hasCustomElementMarkup:this.options.hasCustomElementMarkup})||(n=e,e=fS(e),cS("UnsafeString contains tags or attributes that are not allowed.\nString: "+n,"error")),this.strValue=e,e)}}]),n}(iS);var SS=/ /g,IS=/[\s\u0000<>"]|%00/,CS=/\\/,kS=/([.]|%2e){2}/i,AS=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function RS(e){var t,n="invalid://";if("string"!=typeof e)return cS("jSecure Warning: url must be a string","error"),n;if((t=e.trim()).indexOf(" ")>-1&&(cS("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(SS,"+")),!AS.test(t))return cS("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n;if(IS.test(t))return cS("jSecure Error: not valid url character found in url: "+e,"error"),n;var r,i=t.split("?")[0],o=!1;if(i){try{if(r=decodeURI(i),kS.test(r))return cS("jSecure Error: malicious data found in url path: "+i,"error"),n}catch(e){o=!0}if(o)return cS("jSecure Error: malformed url path detected: "+i),n;if(CS.test(i)||kS.test(i))return cS("jSecure Error: malicious data found in url path: "+i,"error"),n}return e}var OS={redirect:function(e){window&&(window.location.href=e)}};var NS={ALLOWED_TAGS:nS,FORMATTING_TAGS:tS,htmlEncode:sS,htmlUnencode:aS,log:cS,mk:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o="",s=n.length;return e&&e.forEach((function(e,t){o+=e,t<s&&(i=n[t],o+=i instanceof TS?i:sS(i))})),"".concat(wS(o))},parseHTML:function(e,t){var n;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=yS([e],t);else{if(!Array.isArray(e))return e;n=yS(e,t)}return Array.from(n.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:bS,reEncode:function(e){return sS(aS(e))},_redirector:OS,redirect:function(e){var t=RS(e);t===e&&OS.redirect(t)},sanitizeHTML:wS,sanitizeUrl:RS,setElementContent:_S,unsafe:function(e){return e},UnsafeString:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this instanceof e||console.warn("Calling 'UnsafeString' without the 'new' keword is deprecated"),new TS(t,n)}};function LS(){var e=document.querySelector('[data-id="sticky-header__nav-backbtn"]');e&&e.addEventListener("click",(()=>{var e=sessionStorage.getItem("previousPage");e===location.href&&NS.redirect(location.origin);var t,n,r=function(e){try{return new URL(e).hostname}catch(e){return""}}(e);t=r,n=location.hostname,t&&t.indexOf(n.substring(n.indexOf(".")))>=0?history.back():NS.redirect(location.origin)}))}function PS(){PS=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,s=Object.create(o.prototype),a=new I(i||[]);return r(s,"_invoke",{value:w(e,n,a)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,a)}))}a(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(b.prototype),c(b.prototype,s,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function xS(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function MS(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){xS(o,r,i,s,a,"next",e)}function a(e){xS(o,r,i,s,a,"throw",e)}s(void 0)}))}}var DS,US,BS,FS="click",qS="/mwlite/pulse/api/runQuery";function HS(){var e,t;null===(e=DS)||void 0===e||e.addEventListener(FS,zS),null===(t=US)||void 0===t||t.addEventListener(FS,GS),BS&&new qd(BS,{endpoint:qS})}function GS(e){return jS.apply(this,arguments)}function jS(){return jS=MS(PS().mark((function e(t){var n,r,i,o,s,a;return PS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.dataset,r=n.id,i=n.title,o=n.successMessage,s=n.errorMessage,a={text:i,url:WS(r)},e.prev=2,e.next=5,navigator.share(a);case 5:OT.trigger("success",o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),OT.trigger("error",s);case 11:case"end":return e.stop()}}),e,null,[[2,8]])}))),jS.apply(this,arguments)}function zS(e){var t=e.target.dataset.id;NS.redirect(WS(t))}function WS(e){return e.indexOf("contentSeries")&&(e=e.split(":")[3]),new URL("".concat("/mwlite/feed/newsletter/").concat(e),window.location.origin).href}function KS(){!function(){var e=document.querySelector.bind(document);DS=e("#newsletter-see-all-editions"),US=e("#share-newsletter"),BS=e(".newsletter-details__action")}(),HS()}function VS(e){OT.clearAllToasts(),e&&OT.trigger("notify",ca("offlineText"))}const QS=class{constructor(e){if(!e||"[object Function]"!=={}.toString.call(e))throw new Error("Please provide a valid tracking call back function");this.trackingCallback=e}getInstalledApps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return"getInstalledRelatedApps"in e?e.getInstalledRelatedApps().then((t=>(this._fireAppDetectionEvent(t,e),t))):Promise.resolve([])}_fireAppDetectionEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator;const n=e.map((e=>({appId:e.id.toUpperCase().replace(/\./g,"_"),appVersion:e.version,platform:e.platform}))),r={requestHeader:{browserId:this._getBrowserId(),userAgent:t.userAgent||""},installedAppList:n},i=this._getQueryParam(window.location.href,"originalReferer");i&&(r.requestHeader.referer=i),this.trackingCallback("AppDetectionEvent",r)}_getBrowserId(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).cookie.match(/bcookie=([^;]*)/),t=e?e[1].replace(/^"(.*)"$/,"$1"):"";return t&&t.includes("&")&&t.split("&")[1]||""}_getQueryParam(e,t,n){const r=new RegExp(`([\\?&])${n?t:encodeURIComponent(t)}=([^&#]*)`).exec(e);return r&&(n?r[2]:decodeURIComponent(r[2]))}};function YS(e){return{isVoyagerAndroidAppInstalled:e.indexOf("com.linkedin.android")>-1,appTypesInstalled:e}}function JS(e,t){!function(e,t){var n=[],r=navigator.getInstalledRelatedApps&&"function"==typeof navigator.getInstalledRelatedApps;if(r)new QS(t).getInstalledApps().then((t=>{t.forEach((e=>{n.push(e.id)}));var i=YS(n);e(r,i)}));else{var i=YS(n);e(r,i)}}(e,t)}var XS="ControlInteractionEvent",ZS="SHORT_PRESS";function $S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax",n=V.getPageTag(document),r=V.getLocale(document),i=AT(),o={};return r&&(o.interfaceLocale=r),e&&(o.pageKey=e),i&&(o.theme=i),{header:{},requestHeader:o,pageType:t,trackingInfo:{clientTimestamp:Date.now(),pageTag:n}}}var eI="#app-upsell-container";function tI(e){var t=e.target.closest("[data-tracking-id]");t&&(!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZS,n=V.getPageKey(document);window.tracking.then((r=>{var i=$S(n);i.controlUrn="urn:li:control:".concat(n,"-").concat(e),i.interactionType=t,r.fireTrackingEvent(XS,i,r.state?r.state.currentPageInstance:r.getCurrentContext().pageInstance)}))}(t.dataset.trackingId),document.querySelector(eI).remove())}function nI(e,t){e&&t&&t.isVoyagerAndroidAppInstalled||fe("/mwlite/get-deep-link/").then((e=>{if(e.responseText&&204!==e.status){var t=document.body;ks.setSanitizedMarkup(t,t.innerHTML+e.responseText,{ADD_ATTR:["category"]}),(n=document.querySelector(eI))&&n.addEventListener("click",tI)}var n}))}var rI="/pulse/api/runQuery";new class{constructor(){this.bindEvent()}bindEvent(){window.addEventListener("load",(()=>{FT(),new jd,function(e){var t="created",n="deleted";document.querySelector(".reactions-menu")&&new Fd(".reactions-menu__trigger",document.body,{endpoint:e,onReactionSuccess:function(){var e="";this.reactionEvent===t&&(e=xT),this.reactionEvent===n&&(e=MT),H.dispatchCustomEvent(document.body,e,{entityUrn:ca("ugcPost"),reactionType:this.previousReaction})},onReaction:function(e,r){""===r&&(this.reactionEvent=n),this.previousReaction||""===r||(this.reactionEvent=t),this.previousReaction=r},shouldStopPropagation:!1})}(rI),this.setUpsell(),this.initMobileAndDesktopHandlers(),function(e){var t,n=null===(t=document.querySelector(".publisher-author-card"))||void 0===t?void 0:t.querySelector(".follow-button");n&&new qd(n,{endpoint:e})}(rI)}))}setUpsell(){ca("noGlobalAlerts")&&JS(nI,(()=>{}))}initMobileAndDesktopHandlers(){ca("isLite")?(new eu,LS(),new Ed(document,{onClipboardCopy(e){var t=e?"success":"error";OT.trigger(t,ca("i18n_copy_to_clipboard_".concat(t)))}}),window.addEventListener("offline",(()=>{VS(!0)})),window.addEventListener("online",(()=>{VS(!1)})),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",(e=>{var t=e.data;"offline"in t&&VS(t.offline)})),ca("newsletterLixEnabled")&&KS(),RT()):qT(),function(e){var t,n="newsletter-subscriber-button",r=null===(t=document.querySelector(".article-newsletter-card"))||void 0===t?void 0:t.querySelector(".follow-button");r&&new qd(r,{endpoint:e,onFollowSuccess:()=>{OT.trigger(sa.TOAST_TYPES.SUCCESS,ca("follow_success_toast"),n)},onUnfollowSuccess:()=>{OT.trigger(sa.TOAST_TYPES.SUCCESS,ca("unfollow_success_toast"),n)},errorCallback:()=>{OT.trigger(sa.TOAST_TYPES.ERROR,ca("follow_failure_toast"),n)}})}(rI)}}})();